var Ie=Object.defineProperty;var Re=(f,r,u)=>r in f?Ie(f,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):f[r]=u;var B=(f,r,u)=>Re(f,typeof r!="symbol"?r+"":r,u);import{d as D,l as h,D as Oe,f as ie,j as G,J as Ue,I as de,k as Pe,B as S,C as fe,aN as pe,m as Ve,p as A,y as J,aR as $e,L as ye,aY as Fe,g as X,E as Ne,al as Se,N as Be,aZ as W,a_ as me,a$ as ne,b0 as le,b1 as Ae,b2 as oe,b3 as De,c as te,o as Y,W as $,b4 as he,b5 as ze,A as ae,b as l,w as a,e as c,u as n,a3 as H,a1 as Me,b6 as we,R as be,_ as re,ao as Te,Z as je,aa as Q,ap as Le}from"./index-DiLUuH_l.js";import{R as Ge}from"./ResponsiveDirectionLayout-DMs082Zs.js";import{N as q}from"./headers-DItnrsEQ.js";import{N as Z}from"./Input-SndmBNkk.js";import{u as Ee}from"./use-locale-DjTo9B-1.js";import{N as Ke}from"./ButtonGroup-CQodCMYN.js";import{R as qe,N as _}from"./InputNumber-DRZNx51L.js";import{N}from"./text-CjcDvT9j.js";import{N as xe}from"./a-D2m4Uxlr.js";import{N as He}from"./Upload-CVvdxsHY.js";import{H as We}from"./HelpCircleOutline-DZld7SZ3.js";import{N as z}from"./InputGroupLabel-DYxiEpZh.js";import{N as Ze}from"./Slider-B55rTTGE.js";import{C as ce}from"./CloudDownloadOutline-C-tdVabl.js";import{N as M}from"./InputGroup-BcN5wEtj.js";import{N as ve}from"./Select-ET3yBQ1m.js";import{N as Ye}from"./Switch-DD3BC7T4.js";import"./Suffix-CA9ZK8zK.js";import"./Progress-C-MXlDk6.js";import"./Image-CRIZwNcf.js";import"./_createCompounder-782NHAa-.js";import"./attribute-Cz32yFEB.js";import"./Empty-O7ecwSWW.js";const Je=D({name:"ArrowDown",render(){return h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),Xe=D({name:"ArrowUp",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),se=Oe("n-dynamic-input"),Qe=D({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:f,placeholderRef:r}=ie(se);return{mergedTheme:f,placeholder:r}},render(){const{mergedTheme:f,placeholder:r,value:u,clsPrefix:e,onUpdateValue:i,disabled:s}=this;return h("div",{class:`${e}-dynamic-input-preset-input`},h(Z,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:u,placeholder:r,onUpdateValue:i,disabled:s}))}}),_e=D({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(f){const{mergedThemeRef:r,keyPlaceholderRef:u,valuePlaceholderRef:e}=ie(se);return{mergedTheme:r,keyPlaceholder:u,valuePlaceholder:e,handleKeyInput(i){f.onUpdateValue({key:i,value:f.value.value})},handleValueInput(i){f.onUpdateValue({key:f.value.key,value:i})}}},render(){const{mergedTheme:f,keyPlaceholder:r,valuePlaceholder:u,value:e,clsPrefix:i,disabled:s}=this;return h("div",{class:`${i}-dynamic-input-preset-pair`},h(Z,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:e.key,class:`${i}-dynamic-input-pair-input`,placeholder:r,onUpdateValue:this.handleKeyInput,disabled:s}),h(Z,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:e.value,class:`${i}-dynamic-input-pair-input`,placeholder:u,onUpdateValue:this.handleValueInput,disabled:s}))}}),et=G("dynamic-input",{width:"100%"},[G("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[G("dynamic-input-preset-input",{flex:1,alignItems:"center"}),G("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[G("dynamic-input-pair-input",[de("&:first-child",{"margin-right":"12px"})])]),Ue("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[Pe("icon",{cursor:"pointer"})]),de("&:last-child",{marginBottom:0})]),G("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[G("form-item-blank",{paddingTop:"0 !important"})])]),ee=new WeakMap,tt=Object.assign(Object.assign({},ye.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),nt=D({name:"DynamicInput",props:tt,setup(f,{slots:r}){const{mergedComponentPropsRef:u,mergedClsPrefixRef:e,mergedRtlRef:i,inlineThemeDisabled:s}=Ve(),y=ie(De,null),I=A(f.defaultValue),V=J(f,"value"),t=$e(V,I),d=ye("DynamicInput","-dynamic-input",et,Fe,f,e),w=X(()=>{const{value:p}=t;if(Array.isArray(p)){const{max:g}=f;return g!==void 0&&p.length>=g}return!1}),P=X(()=>{const{value:p}=t;return Array.isArray(p)?p.length<=f.min:!0}),O=X(()=>{var p,g;return(g=(p=u==null?void 0:u.value)===null||p===void 0?void 0:p.DynamicInput)===null||g===void 0?void 0:g.buttonSize});function U(p){const{onInput:g,"onUpdate:value":k,onUpdateValue:x}=f;g&&oe(g,p),k&&oe(k,p),x&&oe(x,p),I.value=p}function m(p,g){if(p==null||typeof p!="object")return g;const k=ne(p)?le(p):p;let x=ee.get(k);return x===void 0&&ee.set(k,x=Ae()),x}function o(p,g){const{value:k}=t,x=Array.from(k??[]),L=x[p];if(x[p]=g,L&&g&&typeof L=="object"&&typeof g=="object"){const Ce=ne(L)?le(L):L,ke=ne(g)?le(g):g,ue=ee.get(Ce);ue!==void 0&&ee.set(ke,ue)}U(x)}function v(){C(-1)}function C(p){const{value:g}=t,{onCreate:k}=f,x=Array.from(g??[]);if(k)x.splice(p+1,0,k(p+1)),U(x);else if(r.default)x.splice(p+1,0,null),U(x);else switch(f.preset){case"input":x.splice(p+1,0,""),U(x);break;case"pair":x.splice(p+1,0,{key:"",value:""}),U(x);break}}function R(p){const{value:g}=t;if(!Array.isArray(g))return;const{min:k}=f;if(g.length<=k)return;const{onRemove:x}=f;x&&x(p);const L=Array.from(g);L.splice(p,1),U(L)}function b(p,g,k){if(g<0||k<0||g>=p.length||k>=p.length||g===k)return;const x=p[g];p[g]=p[k],p[k]=x}function T(p,g){const{value:k}=t;if(!Array.isArray(k))return;const x=Array.from(k);p==="up"&&b(x,g,g-1),p==="down"&&b(x,g,g+1),U(x)}Ne(se,{mergedThemeRef:d,keyPlaceholderRef:J(f,"keyPlaceholder"),valuePlaceholderRef:J(f,"valuePlaceholder"),placeholderRef:J(f,"placeholder")});const F=Se("DynamicInput",i,e),E=X(()=>{const{self:{actionMargin:p,actionMarginRtl:g}}=d.value;return{"--action-margin":p,"--action-margin-rtl":g}}),j=s?Be("dynamic-input",void 0,E,f):void 0;return{locale:Ee("DynamicInput").localeRef,rtlEnabled:F,buttonSize:O,mergedClsPrefix:e,NFormItem:y,uncontrolledValue:I,mergedValue:t,insertionDisabled:w,removeDisabled:P,handleCreateClick:v,ensureKey:m,handleValueChange:o,remove:R,move:T,createItem:C,mergedTheme:d,cssVars:s?void 0:E,themeClass:j==null?void 0:j.themeClass,onRender:j==null?void 0:j.onRender}},render(){const{$slots:f,itemClass:r,buttonSize:u,mergedClsPrefix:e,mergedValue:i,locale:s,mergedTheme:y,keyField:I,itemStyle:V,preset:t,showSortButton:d,NFormItem:w,ensureKey:P,handleValueChange:O,remove:U,createItem:m,move:o,onRender:v,disabled:C}=this;return v==null||v(),h("div",{class:[`${e}-dynamic-input`,this.rtlEnabled&&`${e}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(i)||i.length===0?h(S,Object.assign({block:!0,ghost:!0,dashed:!0,size:u},this.createButtonProps,{disabled:this.insertionDisabled||C,theme:y.peers.Button,themeOverrides:y.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>fe(f["create-button-default"],()=>[s.create]),icon:()=>fe(f["create-button-icon"],()=>[h(W,{clsPrefix:e},{default:()=>h(me,null)})])}):i.map((R,b)=>h("div",{key:I?R[I]:P(R,b),"data-key":I?R[I]:P(R,b),class:[`${e}-dynamic-input-item`,r],style:V},pe(f.default,{value:i[b],index:b},()=>[t==="input"?h(Qe,{disabled:C,clsPrefix:e,value:i[b],parentPath:w?w.path.value:void 0,path:w!=null&&w.path.value?`${w.path.value}[${b}]`:void 0,onUpdateValue:T=>{O(b,T)}}):t==="pair"?h(_e,{disabled:C,clsPrefix:e,value:i[b],parentPath:w?w.path.value:void 0,path:w!=null&&w.path.value?`${w.path.value}[${b}]`:void 0,onUpdateValue:T=>{O(b,T)}}):null]),pe(f.action,{value:i[b],index:b,create:m,remove:U,move:o},()=>[h("div",{class:`${e}-dynamic-input-item__action`},h(Ke,{size:u},{default:()=>[h(S,{disabled:this.removeDisabled||C,theme:y.peers.Button,themeOverrides:y.peerOverrides.Button,circle:!0,onClick:()=>{U(b)}},{icon:()=>h(W,{clsPrefix:e},{default:()=>h(qe,null)})}),h(S,{disabled:this.insertionDisabled||C,circle:!0,theme:y.peers.Button,themeOverrides:y.peerOverrides.Button,onClick:()=>{m(b)}},{icon:()=>h(W,{clsPrefix:e},{default:()=>h(me,null)})}),d?h(S,{disabled:b===0||C,circle:!0,theme:y.peers.Button,themeOverrides:y.peerOverrides.Button,onClick:()=>{o("up",b)}},{icon:()=>h(W,{clsPrefix:e},{default:()=>h(Xe,null)})}):null,d?h(S,{disabled:b===i.length-1||C,circle:!0,theme:y.peers.Button,themeOverrides:y.peerOverrides.Button,onClick:()=>{o("down",b)}},{icon:()=>h(W,{clsPrefix:e},{default:()=>h(Je,null)})}):null]}))]))))}}),lt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ot=$("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),at=$("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),it=$("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),rt=[ot,at,it],ge=D({name:"CloudUploadOutline",render:function(r,u){return Y(),te("svg",lt,rt)}}),st={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ut=$("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),dt=$("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1),ft=[ut,dt],pt=D({name:"Reload",render:function(r,u){return Y(),te("svg",st,ft)}});class mt{constructor(){B(this,"id");B(this,"text","你好");B(this,"textOffset",{x:0,y:0});B(this,"fontStyle","280px cursive");B(this,"fontColorThresholdRatio",.4);B(this,"uniformization",!0);B(this,"gridCount",44);B(this,"textOccupiedGridCount",0);B(this,"config")}initCanvas(){const r=document.getElementById(this.id),u=r.parentElement.getBoundingClientRect(),e=Math.floor(Math.sqrt(Math.pow(Math.min(u.width,u.height),2)/2)/this.gridCount);if(e<1)return;const i=e*this.gridCount,s=e*this.gridCount;r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s;const y=r.getContext("2d");return y.clearRect(0,0,i,s),{canvas:r,ctx:y,gridSize:e}}renderGird(r){const{ctx:u,gridSize:e}=r,i=["#F0F0F0","#FFFFFF"];for(let s=0;s<this.gridCount;s++)for(let y=0;y<this.gridCount;y++)u.fillStyle=i[(s+y)%2],u.fillRect(y*e,s*e,e,e)}renderText(r){const{ctx:u,gridSize:e}=r;u.font=this.fontStyle,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#000";const i=e*this.gridCount*.5;u.save();const{x:s,y}=this.textOffset,I={x:0,y:0},V=t=>Math.abs(t)/Math.sqrt(2);if(s!==0){const t=V(s);I.x+=s>0?t:-t,I.y+=s>0?-t:t}if(y!==0){const t=V(y);I.x+=y>0?-t:t,I.y+=y>0?-t:t}u.translate(i+I.x,i+I.y),u.rotate(-Math.PI/4),u.fillText(this.text,0,0),u.restore()}gridColorUniformization(r){this.textOccupiedGridCount=0;const{ctx:u,gridSize:e}=r,i=e*this.gridCount,s=u.getImageData(0,0,i,i),y=new ImageData(i,i),I=(d,w)=>{const P=[],O=d*e,U=O+e,m=w*e*4,o=m+e*4;for(let v=O;v<U;v++)for(let C=m;C<o;C+=4){const R=v*i*4+C;P.push(s.data[R],s.data[R+1],s.data[R+2],s.data[R+3])}return P},V=(d,w,P)=>{let O=0;const U=d*e,m=U+e,o=w*e*4,v=o+e*4;for(let C=U;C<m;C++)for(let R=o;R<v;R+=4){const b=C*i*4+R;y.data[b]=P[O++],y.data[b+1]=P[O++],y.data[b+2]=P[O++],y.data[b+3]=P[O++]}},t=d=>{const w=new Map;for(let F=0;F<d.length;F+=4){const E=d[F],j=d[F+1],p=d[F+2],g=d[F+3],k=`${E},${j},${p},${g}`,x=w.get(k)||0;w.set(k,x+1)}const P="0,0,0,255",O={color:P,count:0},U=d.length/4;(w.get(P)||0)/U>=this.fontColorThresholdRatio?this.textOccupiedGridCount++:w.forEach((F,E)=>{O.count<F&&(O.color=E,O.count=F)});const[v,C,R,b]=O.color.split(",").map(Number);let T=[];for(let F=0;F<d.length/4;F++)T.push(v,C,R,b);return T};for(let d=0;d<this.gridCount;d++)for(let w=0;w<this.gridCount;w++){const P=I(d,w),O=t(P);V(d,w,O)}u.putImageData(y,0,0)}generator(){this.id&&(this.config=this.initCanvas(),this.config&&(this.renderGird(this.config),this.renderText(this.config),this.uniformization&&this.gridColorUniformization(this.config)))}exportImage(){if(!this.id||!this.config)return;const{ctx:r}=this.config,u=document.createElement("canvas"),e=Math.sqrt(Math.pow(r.canvas.width,2)*2);u.width=e,u.height=e;const i=u.getContext("2d"),s=e*.5;i.translate(s,s),i.rotate(Math.PI/4),i.drawImage(r.canvas,-r.canvas.width/2,-r.canvas.width/2);const y=u.toDataURL("image/png");he({href:y,fileName:`网格文字 ${this.text}`})}}const K=new mt,ct=[{label:"衬线字体",value:"serif"},{label:"无衬线字体",value:"sans-serif"},{label:"等宽字体",value:"monospace"},{label:"手写体",value:"cursive"},{label:"装饰字体",value:"fantasy"},{label:"系统UI字体",value:"system-ui"},{label:"UI衬线字体",value:"ui-serif"},{label:"UI无衬线字体",value:"ui-sans-serif"},{label:"UI等宽字体",value:"ui-monospace"},{label:"UI圆角字体",value:"ui-rounded"},{label:"数学字体",value:"math"},{label:"仿宋字体",value:"fangsong"}],vt=D({__name:"fontFamily",props:{fontFamilyOptions:{required:!0},fontFamilyOptionsModifiers:{}},emits:["update:fontFamilyOptions"],setup(f){const r=A(!1),u=A(!1),e=ze(f,"fontFamilyOptions"),i=A([]),s=A([]),y=[];function I(m){return m=m.trim(),m===""?{valid:!1,reason:"字体名称不允许：为空"}:/^[\u4e00-\u9fa5a-zA-Z0-9\s-]+$/.test(m)?/^[\d-]/.test(m)?{valid:!1,reason:"字体名称不允许：以 数字/中划线 开头"}:/[a-zA-Z\u4e00-\u9fa5]/.test(m)?/\s+[\d-]+/.test(m)?{valid:!1,reason:"字体名称不允许：空格 + 数字/中划线"}:{valid:!0,reason:"校验通过"}:{valid:!1,reason:"字体名称必须包含：中文或英文"}:{valid:!1,reason:"字体名称仅允许包含：中文、英文、数字、空格、中划线"}}function V(m){window.$message.error(m,{duration:0,closable:!0})}function t(){return i.value.map(m=>{const o=m.name,v=URL.createObjectURL(m.file);return y.push(v),{key:o,value:v}})}function d(){const m=t(),o=s.value.filter(v=>{if(v.value){const{valid:C,reason:R}=I(v.key);return C?!0:(V(`"${v.key}" `+ +R),!1)}else V(`"${v.key}" ：请填写字体文件地址`)});if(o.length==s.value.length){if(m.push(...o),m.length)return m;window.$message.warning("请选择字体")}}function w(m,o){y.includes(o)?(URL.revokeObjectURL(o),i.value=i.value.filter(v=>v.name!=m)):s.value=s.value.filter(v=>v.key!=m)}function P(m,o,v){w(o,v),document.fonts.add(m),e.value.unshift({value:o,label:o})}function O(){const m=d();if(m){u.value=!0;const o=m.map(function(v){const C=new FontFace(v.key,`url('${v.value}')`);return C.load().then(()=>P(C,v.key,v.value)).catch(R=>(V(`字体加载失败：${v.key}`),Promise.reject()))});Promise.all(o).then(function(){window.$message.success("字体加载成功"),U()}).finally(function(){u.value=!1})}}function U(){r.value=!1,y.forEach(m=>URL.revokeObjectURL(m)),y.length=0,i.value=[],s.value=[]}return ae(r,m=>{m||U()}),ae(i,m=>{const o=m[m.length-1];if(!o)return;const v=o.name.lastIndexOf("."),C=o.name.substring(0,v).trim(),{valid:R,reason:b}=I(C);R?o.name=C:(V(`"${C}" `+b),m.pop())}),(m,o)=>(Y(),te(be,null,[l(n(S),{type:"info",ghost:"",onClick:o[0]||(o[0]=v=>r.value=!0)},{icon:a(()=>[l(n(H),{component:n(ge)},null,8,["component"])]),default:a(()=>[o[4]||(o[4]=c(" 导入临时字体 ",-1))]),_:1}),l(n(we),{show:r.value,"onUpdate:show":o[3]||(o[3]=v=>r.value=v),preset:"card",title:"导入临时字体",style:{width:"800px"}},{default:a(()=>[l(n(q),{prefix:"bar",type:"info"},{default:a(()=>[l(n(q),{prefix:"bar",type:"warning",style:{margin:"0px"}},{default:a(()=>[...o[5]||(o[5]=[c(" 字体名称仅能包含：中文、英文、数字、空格、中划线 ",-1)])]),_:1}),l(n(q),{prefix:"bar",type:"warning",style:{margin:"20px 0"}},{default:a(()=>[l(n(N),{type:"error"},{default:a(()=>[...o[6]||(o[6]=[c("必须包含",-1)])]),_:1}),l(n(N),{type:"info"},{default:a(()=>[...o[7]||(o[7]=[c("‘中文或英文’",-1)])]),_:1}),o[12]||(o[12]=c(" ， ",-1)),l(n(N),{type:"error"},{default:a(()=>[...o[8]||(o[8]=[c("不允许",-1)])]),_:1}),l(n(N),{type:"info"},{default:a(()=>[...o[9]||(o[9]=[c("‘数字/中划线’",-1)])]),_:1}),o[13]||(o[13]=c(" 开头， ",-1)),l(n(N),{type:"error"},{default:a(()=>[...o[10]||(o[10]=[c("不允许",-1)])]),_:1}),l(n(N),{type:"info"},{default:a(()=>[...o[11]||(o[11]=[c("‘空格 + 数字/中划线’",-1)])]),_:1}),o[14]||(o[14]=c(" 。 ",-1))]),_:1}),l(n(q),{prefix:"bar",type:"success",style:{margin:"0px"}},{default:a(()=>[o[16]||(o[16]=c(" 若导入失败，可尝试转换格式： ",-1)),l(n(xe),{href:"https://transfonter.org/",target:"_blank"},{default:a(()=>[...o[15]||(o[15]=[c(" https://transfonter.org/ ",-1)])]),_:1})]),_:1})]),_:1}),l(n(nt),{value:s.value,"onUpdate:value":o[1]||(o[1]=v=>s.value=v),preset:"pair","key-placeholder":"字体名称","value-placeholder":"字体文件地址"},null,8,["value"]),l(n(He),{"file-list":i.value,"onUpdate:fileList":o[2]||(o[2]=v=>i.value=v),multiple:"",accept:".ttf,.otf,.woff,.woff2,.eot,.svg"},{default:a(()=>[l(n(S),null,{icon:a(()=>[l(n(H),{component:n(ge)},null,8,["component"])]),default:a(()=>[o[17]||(o[17]=c(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"]),l(n(Me),{justify:"end"},{default:a(()=>[l(n(S),{type:"success",loading:u.value,onClick:O},{icon:a(()=>[l(n(H),{component:n(pt)},null,8,["component"])]),default:a(()=>[o[18]||(o[18]=c(" 加载 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["show"])],64))}}),gt=re(vt,[["__scopeId","data-v-d5392ad3"]]),yt=""+new URL("../multimedia/ImageViewerHelp.mp4",import.meta.url).href,ht=D({__name:"imageViewerHelp",setup(f){const r=A(!1);return(u,e)=>(Y(),te(be,null,[l(n(S),{type:"info",ghost:"",onClick:e[0]||(e[0]=i=>r.value=!0)},{icon:a(()=>[l(n(H),{component:n(We)},null,8,["component"])]),default:a(()=>[e[2]||(e[2]=c(" 说明 ",-1))]),_:1}),l(n(we),{show:r.value,"onUpdate:show":e[1]||(e[1]=i=>r.value=i),preset:"card",title:"图片查看器.exe 说明",style:{width:"670px"}},{default:a(()=>[l(n(q),{prefix:"bar",type:"success"},{default:a(()=>[l(n(q),{prefix:"bar",type:"info",style:{margin:"0 0 10px"}},{default:a(()=>[e[8]||(e[8]=c(" 快捷键对应功能：",-1)),e[9]||(e[9]=$("br",null,null,-1)),l(n(N),{type:"info"},{default:a(()=>[...e[3]||(e[3]=[c("F1",-1)])]),_:1}),e[10]||(e[10]=c(" 显示/隐藏切换  ",-1)),l(n(N),{type:"info"},{default:a(()=>[...e[4]||(e[4]=[c("F2",-1)])]),_:1}),e[11]||(e[11]=c(" 切换缩放模式  ",-1)),l(n(N),{type:"info"},{default:a(()=>[...e[5]||(e[5]=[c("F3",-1)])]),_:1}),e[12]||(e[12]=c(" 切换透明度  ",-1)),l(n(N),{type:"info"},{default:a(()=>[...e[6]||(e[6]=[c("F4",-1)])]),_:1}),e[13]||(e[13]=c(" 锁定窗口为鼠标穿透",-1)),e[14]||(e[14]=$("br",null,null,-1)),l(n(N),{type:"error"},{default:a(()=>[...e[7]||(e[7]=[c("Esc",-1)])]),_:1}),e[15]||(e[15]=c(" 退出程序",-1)),e[16]||(e[16]=$("br",null,null,-1))]),_:1}),l(n(xe),{href:"https://github.com/ADMINnhanh/AHK-Scripts/blob/main/ImageViewer/Main.ahk"},{default:a(()=>[...e[17]||(e[17]=[c(" 源码 **/Main.ahk ",-1)])]),_:1})]),_:1}),e[18]||(e[18]=$("video",{src:yt,controls:""},null,-1))]),_:1},8,["show"])],64))}}),wt=re(ht,[["__scopeId","data-v-3fcc4cb2"]]),bt={class:"config-panel"},xt={class:"config-panel"},Ct={class:"config-panel"},kt={class:"button-panel"},It={class:"canvas-container"},Rt=["id"],Ot=D({__name:"index",setup(f){const r=A([...ct]),u=Te();K.id=u;const e=A(0),i=A({fontFamily:"cursive",fontSize:280,fontWeight:"normal"}),s=A({text:"你好",uniformization:!0,gridCount:44,fontColorThresholdRatio:.4,textOffset:{x:0,y:0}}),y=Le(()=>{requestAnimationFrame(()=>{K.generator(),e.value=K.textOccupiedGridCount})},200);ae([s,i],([V,t])=>{Object.keys(V).forEach(d=>{K[d]=V[d]}),K.fontStyle=`${t.fontWeight} ${t.fontSize}px ${t.fontFamily}`,y()},{immediate:!0,deep:!0});function I(){he({href:"./script/nhanh的图片查看器.exe"})}return(V,t)=>(Y(),je(Ge,{"default-size":.35,min:0},{left:a(()=>[$("div",bt,[l(n(Q),{title:"文本占用网格计数",size:"small"},{default:a(()=>[l(n(Z),{value:e.value+""},null,8,["value"])]),_:1}),l(n(Q),{title:"文字样式",size:"small"},{default:a(()=>[$("div",xt,[l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[11]||(t[11]=[c("文字",-1)])]),_:1}),l(n(Z),{value:s.value.text,"onUpdate:value":t[0]||(t[0]=d=>s.value.text=d),clearable:""},null,8,["value"])]),_:1}),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[12]||(t[12]=[c("文字大小",-1)])]),_:1}),l(n(_),{value:i.value.fontSize,"onUpdate:value":t[1]||(t[1]=d=>i.value.fontSize=d),min:9,precision:0},null,8,["value"]),l(n(z),null,{default:a(()=>[...t[13]||(t[13]=[c("px",-1)])]),_:1})]),_:1}),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[14]||(t[14]=[c("文字粗细",-1)])]),_:1}),l(n(ve),{value:i.value.fontWeight,"onUpdate:value":t[2]||(t[2]=d=>i.value.fontWeight=d),options:[{label:"正常",value:"normal"},{label:"粗体",value:"bold"}]},null,8,["value"])]),_:1}),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[15]||(t[15]=[c("文字字体",-1)])]),_:1}),l(n(ve),{value:i.value.fontFamily,"onUpdate:value":t[3]||(t[3]=d=>i.value.fontFamily=d),options:r.value},null,8,["value","options"])]),_:1}),l(gt,{fontFamilyOptions:r.value,"onUpdate:fontFamilyOptions":t[4]||(t[4]=d=>r.value=d)},null,8,["fontFamilyOptions"]),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[16]||(t[16]=[c("文字偏移",-1)])]),_:1}),l(n(_),{value:s.value.textOffset.x,"onUpdate:value":t[5]||(t[5]=d=>s.value.textOffset.x=d),precision:0},{prefix:a(()=>[...t[17]||(t[17]=[c("X",-1)])]),suffix:a(()=>[...t[18]||(t[18]=[c("px",-1)])]),_:1},8,["value"]),l(n(_),{value:s.value.textOffset.y,"onUpdate:value":t[6]||(t[6]=d=>s.value.textOffset.y=d),precision:0},{prefix:a(()=>[...t[19]||(t[19]=[c("Y",-1)])]),suffix:a(()=>[...t[20]||(t[20]=[c("px",-1)])]),_:1},8,["value"])]),_:1})])]),_:1}),l(n(Q),{title:"网格",size:"small"},{default:a(()=>[$("div",Ct,[l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[21]||(t[21]=[c("网格行列数量",-1)])]),_:1}),l(n(_),{value:s.value.gridCount,"onUpdate:value":t[7]||(t[7]=d=>s.value.gridCount=d),min:1,precision:0},null,8,["value"])]),_:1}),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[22]||(t[22]=[c("字体颜色阈值比率",-1)])]),_:1}),l(n(Ze),{value:s.value.fontColorThresholdRatio,"onUpdate:value":t[8]||(t[8]=d=>s.value.fontColorThresholdRatio=d),min:.01,max:.49,step:.01},null,8,["value"])]),_:1}),l(n(M),null,{default:a(()=>[l(n(z),null,{default:a(()=>[...t[23]||(t[23]=[c("网格颜色统一化",-1)])]),_:1}),l(n(Ye),{value:s.value.uniformization,"onUpdate:value":t[9]||(t[9]=d=>s.value.uniformization=d)},null,8,["value"])]),_:1})])]),_:1}),l(n(Q),{title:"其他",size:"small"},{default:a(()=>[$("div",kt,[l(n(S),{type:"success",ghost:"",onClick:t[10]||(t[10]=d=>n(K).exportImage())},{icon:a(()=>[l(n(H),{component:n(ce)},null,8,["component"])]),default:a(()=>[t[24]||(t[24]=c(" 导出图片 ",-1))]),_:1}),l(n(M),null,{default:a(()=>[l(n(S),{type:"info",ghost:"",onClick:I},{icon:a(()=>[l(n(H),{component:n(ce)},null,8,["component"])]),default:a(()=>[t[25]||(t[25]=c(" 图片查看器.exe ",-1))]),_:1}),l(wt)]),_:1})])]),_:1})])]),right:a(()=>[$("div",It,[$("canvas",{id:n(u)},null,8,Rt)])]),_:1}))}}),Xt=re(Ot,[["__scopeId","data-v-1c16fc52"]]);export{Xt as default};
