import{aP as B,dl as n,d as C,cp as T,av as E,aN as N,o as V,aR as L,w as P,b as O,u as d,aL as b}from"./index-DRU1KIa-.js";import{C as k}from"./Card-Byh8rW7P.js";import{E as q}from"./Equation-CvNbM_9B.js";import"./Alert-xzWb8Pwo.js";const y=B(),w=.61803;function h(t,e){return t[0]+(e[0]-t[0])*w}function _(t,e){return t[1]+(e[1]-t[1])*w}function S(t,e){return t[0]==e[0]?[t[0],_(t,e)]:[h(t,e),t[1]]}const f=(t,e)=>({value:e,text:t,offset:{x:0,y:-25},style:{size:20},isInteractive:!1}),l=new n.Text(f("A",[-4,-5])),u=new n.Text(f("B",[4,-5])),x=new n.Text(f("P",S(l.value,u.value))),$=[l,u,x],z=new n.Line({value:[l.value,u.value],isInteractive:!1}),D=new n.Point({value:l.value}),X=new n.Point({value:u.value}),Y=new n.Point({value:x.value}),j=[D,X,Y],I=u.value[0]-l.value[0],g=x.value[0]-l.value[0],v=new n.Polygon({value:[[-(g/2),-(I/2)],[g/2,I/2]],isRect:!0,isInteractive:!1,style:{fill:"transparent"}}),m=[],A=[];let a=v.value;for(let t=0;t<16;t++){const e=[],o=Math.ceil((m.length+1)/2)%2;let c=0,i=0,p=0,r=[0,0];if((t+1)%2>0){if(o){const s=_(a[1],a[0]);e.push(a[0],[a[1][0],s]),r=[e[0][0],e[1][1]],i=Math.PI/2}else{const s=_(a[0],a[1]);e.push([a[0][0],s],a[1]),r=[e[1][0],e[0][1]],c=Math.PI,i=Math.PI*1.5}p=e[1][0]-e[0][0]}else{if(o){const s=h(a[1],a[0]);e.push(a[0],[s,a[1][1]]),r=e[1],c=Math.PI*1.5}else{const s=h(a[0],a[1]);e.push([s,a[0][1]],a[1]),r=e[0],c=Math.PI/2,i=Math.PI}p=e[1][1]-e[0][1]}a=e;const R=new n.Polygon({value:e,isRect:!0,style:{fill:"transparent"},isInteractive:!1}),G=new n.Arc({isInteractive:!1,startAngle:c,endAngle:i,radiusValue:p,value:r});m.push(R),A.push(G)}const M=[];"斐波那契螺旋线/黄金螺旋线".split("").forEach((t,e)=>{const o=new n.Text({...f(t,[v.value[1][0],v.value[0][1]]),offset:{x:40,y:10+e*25}});M.push(o)});const F=[z,v,$,j,m,A,M],H=["id"],W=C({__name:"index",setup(t){let e=T();const o=`\\begin{aligned}
   &\\frac{AP}{AB} = \\frac{PB}{AP} \\approx ${w};
  \\end{aligned}`;return E(()=>{e.value=new n({id:y,theme:N.value.theme,axisShow:!1}),e.value.addOverlay(F)}),(c,i)=>(V(),L(k,{canvas:d(e),vertical:"",alert:"黄金分割"},{"alert-content":P(()=>[O(d(q),{value:o})]),default:P(()=>[b("canvas",{id:d(y)},null,8,H)]),_:1},8,["canvas"]))}});export{W as default};
