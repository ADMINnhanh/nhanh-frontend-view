import{ao as A,dh as l,p as M,ab as w,dl as m,d as P,cf as I,q as k,ah as R,Z as q,o as E,w as C,b as g,W as O,u as p,av as T}from"./index-B5qY8s78.js";import{A as D,M as y}from"./tool-CenMcEer.js";import{O as N}from"./Oscillator-DXq1K5NU.js";import{C as U}from"./Card-CYAxSRhm.js";import{E as V}from"./Equation-C1dB5wE1.js";import"./Slider-ClQtX1OD.js";import"./Alert-FFDKkHEW.js";const b=A(),o=M(45),d=5,f=new l.Polygon({value:[[0,0],[-d/2,0],[d/2,0]],isInteractive:!1}),S=new l.Line({isInteractive:!1,style:{stroke:{color:"#18a058",width:2}}}),t=new D(f),_=(c,a=0,i=0)=>({text:c,offset:{x:a,y:i},style:{size:25},isInteractive:!1}),x=new l.Text(_("A",0,-25)),W=new l.Text({value:[-d/2,0],..._("B",-10,15)}),j=new l.Text({..._("C",10,15),value:[d/2,0]}),z=[x,W,j],h=document.createElement("canvas"),e=h.getContext("2d"),v=new l.Custom({value:[[0,0]],draw(c){const a=v.mainCanvas;h.width=a.rect.width,h.height=a.rect.height;const i=w.value.theme,u=a.style[i].line.stroke;e.strokeStyle=u.color,e.lineWidth=2;{const n=o.value*Math.PI/180,s=[(t.ap.x+t.bp.x)/2,(t.ap.y+t.bp.y)/2],r=m(t.ap.x,t.ap.y,t.bp.x,t.bp.y)/2;e.fillStyle="#8a2be280",e.beginPath(),e.arc(s[0],s[1],r,Math.PI-n,-n),e.fill(),e.stroke()}{const n=(90-o.value)*Math.PI/180,s=[(t.ap.x+t.cp.x)/2,(t.ap.y+t.cp.y)/2],r=m(t.ap.x,t.ap.y,t.cp.x,t.cp.y)/2;e.fillStyle="#ff69b480",e.beginPath(),e.arc(s[0],s[1],r,n+Math.PI,n),e.fill(),e.stroke()}{const n=v.finalDynamicPosition[0],s=m(t.bp.x,t.bp.y,t.cp.x,t.cp.y)/2,r=new Path2D;r.arc(n[0],n[1],s,Math.PI,0),l.clearPathRegion(e,r),e.beginPath(),e.stroke(r)}c.drawImage(h,0,0)}}),J=[f,S,z,v];function B(){var s;const c=o.value*Math.PI/180,a=Math.cos(c),i=a*d,u=i*a,n=i*Math.sin(c);x.value=[-d/2+u,-n],f.value[0]=x.value,f.value=[...f.value],S.value=o.value==0||o.value==90?void 0:y.transform(y.getRightAngleSymbol(t.a,t.b,t.c)),(s=v.notifyReload)==null||s.call(v)}const L=["id"],Z=`\\begin{aligned}
S_{\\text{月牙}} &= S_{\\text{整}} - S_{\\text{半圆}BC} \\\\ 
&= S_{\\text{半圆}BA} + S_{\\text{半圆}CA} + S_{\\triangle BCA} - S_{\\text{半圆}BC} \\\\
&= \\frac{\\pi}{8}BA^2 + \\frac{\\pi}{8}CA^2 + S_{\\triangle BCA} - \\frac{\\pi}{8}BC^2 \\\\
&= \\frac{\\pi}{8}\\left(BA^2 + CA^2 - BC^2\\right) + S_{\\triangle BCA} \\\\
&= S_{\\triangle BCA}
\\end{aligned}`,Y=P({__name:"index",setup(c){let a=I();return k(()=>{a.value=new l({id:b,theme:w.value.theme,axisShow:!1,defaultCenter:{bottom:"30%"},defaultScale:R.value.isMobileStyle?.9:1.1}),a.value.addOverlay(J),B()}),(i,u)=>(E(),q(U,{canvas:p(a),alert:"希波克拉底月牙定理"},{"alert-content":C(()=>[g(p(V),{value:Z})]),default:C(()=>[g(N,{canvas:p(a),value:p(o),"onUpdate:value":u[0]||(u[0]=n=>T(o)?o.value=n:null),onChange:p(B),marks:{0:"∠ABC 0°",90:"∠ABC 90°"},max:90},null,8,["canvas","value","onChange"]),O("canvas",{id:p(b)},null,8,L)]),_:1},8,["canvas"]))}});export{Y as default};
