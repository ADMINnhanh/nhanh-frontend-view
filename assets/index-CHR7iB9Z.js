import{ao as B,df as n,d as C,cd as T,q as E,ab as V,Z as b,o as q,w as P,W as N,u as d,b as O}from"./index-D_Y2CkqW.js";import{C as k}from"./Card-DKB8u339.js";import{E as L}from"./Equation-HCCoT2ZU.js";import"./Alert-D0Y5gm96.js";const y=B(),w=.61803;function h(t,e){return t[0]+(e[0]-t[0])*w}function _(t,e){return t[1]+(e[1]-t[1])*w}function S(t,e){return t[0]==e[0]?[t[0],_(t,e)]:[h(t,e),t[1]]}const f=(t,e)=>({value:e,text:t,offset:{x:0,y:-25},style:{size:20},isInteractive:!1}),l=new n.Text(f("A",[-4,-5])),r=new n.Text(f("B",[4,-5])),x=new n.Text(f("P",S(l.value,r.value))),$=[l,r,x],z=new n.Line({value:[l.value,r.value],isInteractive:!1}),D=new n.Point({value:l.value}),W=new n.Point({value:r.value}),X=new n.Point({value:x.value}),Y=[D,W,X],I=r.value[0]-l.value[0],g=x.value[0]-l.value[0],v=new n.Polygon({value:[[-(g/2),-(I/2)],[g/2,I/2]],isRect:!0,isInteractive:!1,style:{fill:"transparent"}}),m=[],A=[];let a=v.value;for(let t=0;t<16;t++){const e=[],o=Math.ceil((m.length+1)/2)%2;let c=0,i=0,p=0,u=[0,0];if((t+1)%2>0){if(o){const s=_(a[1],a[0]);e.push(a[0],[a[1][0],s]),u=[e[0][0],e[1][1]],i=Math.PI/2}else{const s=_(a[0],a[1]);e.push([a[0][0],s],a[1]),u=[e[1][0],e[0][1]],c=Math.PI,i=Math.PI*1.5}p=e[1][0]-e[0][0]}else{if(o){const s=h(a[1],a[0]);e.push(a[0],[s,a[1][1]]),u=e[1],c=Math.PI*1.5}else{const s=h(a[0],a[1]);e.push([s,a[0][1]],a[1]),u=e[0],c=Math.PI/2,i=Math.PI}p=e[1][1]-e[0][1]}a=e;const G=new n.Polygon({value:e,isRect:!0,style:{fill:"transparent"},isInteractive:!1}),R=new n.Arc({isInteractive:!1,startAngle:c,endAngle:i,radiusValue:p,value:u});m.push(G),A.push(R)}const M=[];"斐波那契螺旋线/黄金螺旋线".split("").forEach((t,e)=>{const o=new n.Text({...f(t,[v.value[1][0],v.value[0][1]]),offset:{x:40,y:10+e*25}});M.push(o)});const Z=[z,v,$,Y,m,A,M],j=["id"],Q=C({__name:"index",setup(t){let e=T();const o=`\\begin{aligned}
   &\\frac{AP}{AB} = \\frac{PB}{AP} \\approx ${w};
  \\end{aligned}`;return E(()=>{e.value=new n({id:y,theme:V.value.theme,axisShow:!1}),e.value.addOverlay(Z)}),(c,i)=>(q(),b(k,{canvas:d(e),vertical:"",alert:"黄金分割"},{"alert-content":P(()=>[O(d(L),{value:o})]),default:P(()=>[N("canvas",{id:d(y)},null,8,j)]),_:1},8,["canvas"]))}});export{Q as default};
