import{_ as n}from"./index--WlHysRm.js";import{aQ as C,d as T,b_ as k,J as O,aI as S,aO as V,o as b,aS as E,w as x,aM as P,u as y}from"./index-gVmBTWk7.js";import{C as L}from"./Card-D3lk6hhB.js";const I=C(),m=.61803;function _(t,e){return t[0]+(e[0]-t[0])*m}function h(t,e){return t[1]+(e[1]-t[1])*m}function N(t,e){return t[0]==e[0]?[t[0],h(t,e)]:[_(t,e),t[1]]}const f=(t,e)=>({value:e,text:t,offset:{x:0,y:-25},style:{size:20},isInteractive:!1}),o=new n.Text(f("A",[-4,-5])),u=new n.Text(f("B",[4,-5])),w=new n.Text(f("P",N(o.value,u.value))),$=[o,u,w],z=new n.Line({value:[o.value,u.value],isInteractive:!1}),D=new n.Point({value:o.value}),J=new n.Point({value:u.value}),Q=new n.Point({value:w.value}),X=[D,J,Q],g=u.value[0]-o.value[0],M=w.value[0]-o.value[0],v=new n.Polygon({value:[[-(M/2),-(g/2)],[M/2,g/2]],isRect:!0,isInteractive:!1,style:{fill:"transparent"}}),d=[],A=[];let a=v.value;for(let t=0;t<16;t++){const e=[],s=Math.ceil((d.length+1)/2)%2;let c=0,r=0,p=0,i=[0,0];if((t+1)%2>0){if(s){const l=h(a[1],a[0]);e.push(a[0],[a[1][0],l]),i=[e[0][0],e[1][1]],r=Math.PI/2}else{const l=h(a[0],a[1]);e.push([a[0][0],l],a[1]),i=[e[1][0],e[0][1]],c=Math.PI,r=Math.PI*1.5}p=e[1][0]-e[0][0]}else{if(s){const l=_(a[1],a[0]);e.push(a[0],[l,a[1][1]]),i=e[1],c=Math.PI*1.5}else{const l=_(a[0],a[1]);e.push([l,a[0][1]],a[1]),i=e[0],c=Math.PI/2,r=Math.PI}p=e[1][1]-e[0][1]}a=e;const R=new n.Polygon({value:e,isRect:!0,style:{fill:"transparent"},isInteractive:!1}),B=new n.Arc({isInteractive:!1,startAngle:c,endAngle:r,radiusValue:p,value:i});d.push(R),A.push(B)}const G=[];"斐波那契螺旋线/黄金螺旋线".split("").forEach((t,e)=>{const s=new n.Text({...f(t,[v.value[1][0],v.value[0][1]]),offset:{x:40,y:10+e*25}});G.push(s)});const Y=[z,v,$,X,d,A,G],j=["id"],K=T({__name:"index",setup(t){let e=k();const s=O();return S(()=>{window.katex.render(`\\begin{aligned}
   &\\frac{AP}{AB} = \\frac{PB}{AP} \\approx ${m};
  \\end{aligned}`,s.value),e.value=new n({id:I,theme:V.value.theme,axisShow:!1}),e.value.addOverlay(Y)}),(c,r)=>(b(),E(L,{canvas:y(e),vertical:"",alert:"黄金分割"},{"alert-content":x(()=>[P("div",{ref_key:"math",ref:s,class:"math"},null,512)]),default:x(()=>[P("canvas",{id:y(I)},null,8,j)]),_:1},8,["canvas"]))}});export{K as default};
