var Ce=Object.defineProperty;var xe=(d,r,s)=>r in d?Ce(d,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[r]=s;var F=(d,r,s)=>xe(d,typeof r!="symbol"?r+"":r,s);import{d as S,l as h,D as be,f as ie,j as T,J as ke,I as ue,k as Ie,B,C as de,aN as ce,m as Re,p as D,y as Z,aR as Oe,L as ve,aY as Pe,g as H,E as $e,al as Ue,N as Ve,aZ as q,a_ as fe,a$ as te,b0 as ne,b1 as Ne,b2 as oe,b3 as Fe,c as ee,o as W,W as N,b4 as Se,b5 as Be,A as ae,b as i,w as f,e as b,u as n,a3 as Q,a1 as ge,b6 as De,R as ze,_ as he,ao as Me,Z as Ae,aa as Y,ap as je}from"./index-Dg6Ltb9i.js";import{R as Te}from"./ResponsiveDirectionLayout-Dg2Bq7Nt.js";import{N as le}from"./headers-DWFRgk3A.js";import{N as K}from"./Input-B9mdgLmO.js";import{u as _e}from"./use-locale-MuFOKMQe.js";import{N as Le}from"./ButtonGroup-CKikwYLn.js";import{R as Ge,N as J}from"./InputNumber-C74S2t9h.js";import{N as G}from"./text-CnJTJC97.js";import{N as Ee}from"./Upload-BCFYH5iW.js";import{N as j}from"./InputGroupLabel-BBjilje4.js";import{N as qe}from"./Slider-mxJrP1J1.js";import{N as _}from"./InputGroup-CpcwfNcZ.js";import{N as pe}from"./Select-CSoeUlbY.js";import{N as Ke}from"./Switch-D0mt-ud4.js";import"./Suffix-BmlbdCY7.js";import"./Progress-BjwLl3PS.js";import"./Image-h0onSmLO.js";import"./_createCompounder-Cw4EtBmh.js";import"./attribute-Cz32yFEB.js";import"./Empty-Cr6q2U9v.js";const We=S({name:"ArrowDown",render(){return h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),Ze=S({name:"ArrowUp",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),re=be("n-dynamic-input"),He=S({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:d,placeholderRef:r}=ie(re);return{mergedTheme:d,placeholder:r}},render(){const{mergedTheme:d,placeholder:r,value:s,clsPrefix:l,onUpdateValue:o,disabled:a}=this;return h("div",{class:`${l}-dynamic-input-preset-input`},h(K,{theme:d.peers.Input,"theme-overrides":d.peerOverrides.Input,value:s,placeholder:r,onUpdateValue:o,disabled:a}))}}),Ye=S({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(d){const{mergedThemeRef:r,keyPlaceholderRef:s,valuePlaceholderRef:l}=ie(re);return{mergedTheme:r,keyPlaceholder:s,valuePlaceholder:l,handleKeyInput(o){d.onUpdateValue({key:o,value:d.value.value})},handleValueInput(o){d.onUpdateValue({key:d.value.key,value:o})}}},render(){const{mergedTheme:d,keyPlaceholder:r,valuePlaceholder:s,value:l,clsPrefix:o,disabled:a}=this;return h("div",{class:`${o}-dynamic-input-preset-pair`},h(K,{theme:d.peers.Input,"theme-overrides":d.peerOverrides.Input,value:l.key,class:`${o}-dynamic-input-pair-input`,placeholder:r,onUpdateValue:this.handleKeyInput,disabled:a}),h(K,{theme:d.peers.Input,"theme-overrides":d.peerOverrides.Input,value:l.value,class:`${o}-dynamic-input-pair-input`,placeholder:s,onUpdateValue:this.handleValueInput,disabled:a}))}}),Je=T("dynamic-input",{width:"100%"},[T("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[T("dynamic-input-preset-input",{flex:1,alignItems:"center"}),T("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[T("dynamic-input-pair-input",[ue("&:first-child",{"margin-right":"12px"})])]),ke("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[Ie("icon",{cursor:"pointer"})]),ue("&:last-child",{marginBottom:0})]),T("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[T("form-item-blank",{paddingTop:"0 !important"})])]),X=new WeakMap,Xe=Object.assign(Object.assign({},ve.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),Qe=S({name:"DynamicInput",props:Xe,setup(d,{slots:r}){const{mergedComponentPropsRef:s,mergedClsPrefixRef:l,mergedRtlRef:o,inlineThemeDisabled:a}=Re(),g=ie(Fe,null),R=D(d.defaultValue),e=Z(d,"value"),u=Oe(e,R),I=ve("DynamicInput","-dynamic-input",Je,Pe,d,l),y=H(()=>{const{value:c}=u;if(Array.isArray(c)){const{max:v}=d;return v!==void 0&&c.length>=v}return!1}),U=H(()=>{const{value:c}=u;return Array.isArray(c)?c.length<=d.min:!0}),P=H(()=>{var c,v;return(v=(c=s==null?void 0:s.value)===null||c===void 0?void 0:c.DynamicInput)===null||v===void 0?void 0:v.buttonSize});function $(c){const{onInput:v,"onUpdate:value":k,onUpdateValue:C}=d;v&&oe(v,c),k&&oe(k,c),C&&oe(C,c),R.value=c}function p(c,v){if(c==null||typeof c!="object")return v;const k=te(c)?ne(c):c;let C=X.get(k);return C===void 0&&X.set(k,C=Ne()),C}function t(c,v){const{value:k}=u,C=Array.from(k??[]),A=C[c];if(C[c]=v,A&&v&&typeof A=="object"&&typeof v=="object"){const ye=te(A)?ne(A):A,we=te(v)?ne(v):v,se=X.get(ye);se!==void 0&&X.set(we,se)}$(C)}function m(){x(-1)}function x(c){const{value:v}=u,{onCreate:k}=d,C=Array.from(v??[]);if(k)C.splice(c+1,0,k(c+1)),$(C);else if(r.default)C.splice(c+1,0,null),$(C);else switch(d.preset){case"input":C.splice(c+1,0,""),$(C);break;case"pair":C.splice(c+1,0,{key:"",value:""}),$(C);break}}function O(c){const{value:v}=u;if(!Array.isArray(v))return;const{min:k}=d;if(v.length<=k)return;const{onRemove:C}=d;C&&C(c);const A=Array.from(v);A.splice(c,1),$(A)}function w(c,v,k){if(v<0||k<0||v>=c.length||k>=c.length||v===k)return;const C=c[v];c[v]=c[k],c[k]=C}function z(c,v){const{value:k}=u;if(!Array.isArray(k))return;const C=Array.from(k);c==="up"&&w(C,v,v-1),c==="down"&&w(C,v,v+1),$(C)}$e(re,{mergedThemeRef:I,keyPlaceholderRef:Z(d,"keyPlaceholder"),valuePlaceholderRef:Z(d,"valuePlaceholder"),placeholderRef:Z(d,"placeholder")});const V=Ue("DynamicInput",o,l),L=H(()=>{const{self:{actionMargin:c,actionMarginRtl:v}}=I.value;return{"--action-margin":c,"--action-margin-rtl":v}}),M=a?Ve("dynamic-input",void 0,L,d):void 0;return{locale:_e("DynamicInput").localeRef,rtlEnabled:V,buttonSize:P,mergedClsPrefix:l,NFormItem:g,uncontrolledValue:R,mergedValue:u,insertionDisabled:y,removeDisabled:U,handleCreateClick:m,ensureKey:p,handleValueChange:t,remove:O,move:z,createItem:x,mergedTheme:I,cssVars:a?void 0:L,themeClass:M==null?void 0:M.themeClass,onRender:M==null?void 0:M.onRender}},render(){const{$slots:d,itemClass:r,buttonSize:s,mergedClsPrefix:l,mergedValue:o,locale:a,mergedTheme:g,keyField:R,itemStyle:e,preset:u,showSortButton:I,NFormItem:y,ensureKey:U,handleValueChange:P,remove:$,createItem:p,move:t,onRender:m,disabled:x}=this;return m==null||m(),h("div",{class:[`${l}-dynamic-input`,this.rtlEnabled&&`${l}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?h(B,Object.assign({block:!0,ghost:!0,dashed:!0,size:s},this.createButtonProps,{disabled:this.insertionDisabled||x,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>de(d["create-button-default"],()=>[a.create]),icon:()=>de(d["create-button-icon"],()=>[h(q,{clsPrefix:l},{default:()=>h(fe,null)})])}):o.map((O,w)=>h("div",{key:R?O[R]:U(O,w),"data-key":R?O[R]:U(O,w),class:[`${l}-dynamic-input-item`,r],style:e},ce(d.default,{value:o[w],index:w},()=>[u==="input"?h(He,{disabled:x,clsPrefix:l,value:o[w],parentPath:y?y.path.value:void 0,path:y!=null&&y.path.value?`${y.path.value}[${w}]`:void 0,onUpdateValue:z=>{P(w,z)}}):u==="pair"?h(Ye,{disabled:x,clsPrefix:l,value:o[w],parentPath:y?y.path.value:void 0,path:y!=null&&y.path.value?`${y.path.value}[${w}]`:void 0,onUpdateValue:z=>{P(w,z)}}):null]),ce(d.action,{value:o[w],index:w,create:p,remove:$,move:t},()=>[h("div",{class:`${l}-dynamic-input-item__action`},h(Le,{size:s},{default:()=>[h(B,{disabled:this.removeDisabled||x,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,circle:!0,onClick:()=>{$(w)}},{icon:()=>h(q,{clsPrefix:l},{default:()=>h(Ge,null)})}),h(B,{disabled:this.insertionDisabled||x,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{p(w)}},{icon:()=>h(q,{clsPrefix:l},{default:()=>h(fe,null)})}),I?h(B,{disabled:w===0||x,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{t("up",w)}},{icon:()=>h(q,{clsPrefix:l},{default:()=>h(Ze,null)})}):null,I?h(B,{disabled:w===o.length-1||x,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{t("down",w)}},{icon:()=>h(q,{clsPrefix:l},{default:()=>h(We,null)})}):null]}))]))))}}),et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tt=N("path",{d:"M320 336h76c55 0 100-21.21 100-75.6s-53-73.47-96-75.6C391.11 99.74 329 48 256 48c-69 0-113.44 45.79-128 91.2c-60 5.7-112 35.88-112 98.4S70 336 136 336h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),nt=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 400.1l64 63.9l64-63.9"},null,-1),ot=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 224v224.03"},null,-1),lt=[tt,nt,ot],at=S({name:"CloudDownloadOutline",render:function(r,s){return W(),ee("svg",et,lt)}}),it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},rt=N("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),st=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),ut=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),dt=[rt,st,ut],me=S({name:"CloudUploadOutline",render:function(r,s){return W(),ee("svg",it,dt)}}),ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ft=N("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),pt=N("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1),mt=[ft,pt],vt=S({name:"Reload",render:function(r,s){return W(),ee("svg",ct,mt)}});class gt{constructor(){F(this,"id");F(this,"text","你好!");F(this,"textOffset",{x:0,y:0});F(this,"fontStyle","280px cursive");F(this,"fontColorThresholdRatio",.4);F(this,"uniformization",!0);F(this,"gridCount",44);F(this,"textOccupiedGridCount",0);F(this,"config")}initCanvas(){const r=document.getElementById(this.id),s=r.parentElement.getBoundingClientRect(),l=Math.floor(Math.sqrt(Math.pow(Math.min(s.width,s.height),2)/2)/this.gridCount);if(l<1)return;const o=l*this.gridCount,a=l*this.gridCount;r.style.width=o+"px",r.style.height=a+"px",r.width=o,r.height=a;const g=r.getContext("2d");return g.clearRect(0,0,o,a),{canvas:r,ctx:g,gridSize:l}}renderGird(r){const{ctx:s,gridSize:l}=r,o=["#F0F0F0","#FFFFFF"];for(let a=0;a<this.gridCount;a++)for(let g=0;g<this.gridCount;g++)s.fillStyle=o[(a+g)%2],s.fillRect(g*l,a*l,l,l)}renderText(r){const{ctx:s,gridSize:l}=r;s.font=this.fontStyle,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#000";const o=l*this.gridCount*.5;s.save();const{x:a,y:g}=this.textOffset,R={x:0,y:0},e=u=>Math.abs(u)/Math.sqrt(2);if(a!==0){const u=e(a);R.x+=a>0?u:-u,R.y+=a>0?-u:u}if(g!==0){const u=e(g);R.x+=g>0?-u:u,R.y+=g>0?-u:u}s.translate(o+R.x,o+R.y),s.rotate(-Math.PI/4),s.fillText(this.text,0,0),s.restore()}gridColorUniformization(r){this.textOccupiedGridCount=0;const{ctx:s,gridSize:l}=r,o=l*this.gridCount,a=s.getImageData(0,0,o,o),g=new ImageData(o,o),R=(I,y)=>{const U=[],P=I*l,$=P+l,p=y*l*4,t=p+l*4;for(let m=P;m<$;m++)for(let x=p;x<t;x+=4){const O=m*o*4+x;U.push(a.data[O],a.data[O+1],a.data[O+2],a.data[O+3])}return U},e=(I,y,U)=>{let P=0;const $=I*l,p=$+l,t=y*l*4,m=t+l*4;for(let x=$;x<p;x++)for(let O=t;O<m;O+=4){const w=x*o*4+O;g.data[w]=U[P++],g.data[w+1]=U[P++],g.data[w+2]=U[P++],g.data[w+3]=U[P++]}},u=I=>{const y=new Map;for(let V=0;V<I.length;V+=4){const L=I[V],M=I[V+1],c=I[V+2],v=I[V+3],k=`${L},${M},${c},${v}`,C=y.get(k)||0;y.set(k,C+1)}const U="0,0,0,255",P={color:U,count:0},$=I.length/4;(y.get(U)||0)/$>=this.fontColorThresholdRatio?this.textOccupiedGridCount++:y.forEach((V,L)=>{P.count<V&&(P.color=L,P.count=V)});const[m,x,O,w]=P.color.split(",").map(Number);let z=[];for(let V=0;V<I.length/4;V++)z.push(m,x,O,w);return z};for(let I=0;I<this.gridCount;I++)for(let y=0;y<this.gridCount;y++){const U=R(I,y),P=u(U);e(I,y,P)}s.putImageData(g,0,0)}generator(){this.id&&(this.config=this.initCanvas(),this.config&&(this.renderGird(this.config),this.renderText(this.config),this.uniformization&&this.gridColorUniformization(this.config)))}exportImage(){if(!this.id||!this.config)return;const{ctx:r}=this.config,s=document.createElement("canvas"),l=Math.sqrt(Math.pow(r.canvas.width,2)*2);s.width=l,s.height=l;const o=s.getContext("2d"),a=l*.5;o.translate(a,a),o.rotate(Math.PI/4),o.drawImage(r.canvas,-r.canvas.width/2,-r.canvas.width/2);const g=s.toDataURL("image/png");Se({href:g,fileName:`网格文字 ${this.text}`})}}const E=new gt,ht=[{label:"衬线字体",value:"serif"},{label:"无衬线字体",value:"sans-serif"},{label:"等宽字体",value:"monospace"},{label:"手写体",value:"cursive"},{label:"装饰字体",value:"fantasy"},{label:"系统UI字体",value:"system-ui"},{label:"UI衬线字体",value:"ui-serif"},{label:"UI无衬线字体",value:"ui-sans-serif"},{label:"UI等宽字体",value:"ui-monospace"},{label:"UI圆角字体",value:"ui-rounded"},{label:"数学字体",value:"math"},{label:"仿宋字体",value:"fangsong"}],yt=S({__name:"fontFamily",props:{fontFamilyOptions:{required:!0},fontFamilyOptionsModifiers:{}},emits:["update:fontFamilyOptions"],setup(d){const r=D(!1),s=D(!1),l=Be(d,"fontFamilyOptions"),o=D([]),a=D([]),g=[];function R(p){return p=p.trim(),p===""?{valid:!1,reason:"字体名称不允许：为空"}:/^[\u4e00-\u9fa5a-zA-Z0-9\s-]+$/.test(p)?/^[\d-]/.test(p)?{valid:!1,reason:"字体名称不允许：以 数字/中划线 开头"}:/[a-zA-Z\u4e00-\u9fa5]/.test(p)?/\s+[\d-]+/.test(p)?{valid:!1,reason:"字体名称不允许：空格 + 数字/中划线"}:{valid:!0,reason:"校验通过"}:{valid:!1,reason:"字体名称必须包含：中文或英文"}:{valid:!1,reason:"字体名称仅允许包含：中文、英文、数字、空格、中划线"}}function e(p){window.$message.error(p,{duration:0,closable:!0})}function u(){return o.value.map(p=>{const t=p.name,m=URL.createObjectURL(p.file);return g.push(m),{key:t,value:m}})}function I(){const p=u(),t=a.value.filter(m=>{if(m.value){const{valid:x,reason:O}=R(m.key);return x?!0:(e(`"${m.key}" `+ +O),!1)}else e(`"${m.key}" ：请填写字体文件地址`)});if(t.length==a.value.length){if(p.push(...t),p.length)return p;window.$message.warning("请选择字体")}}function y(p,t){g.includes(t)?(URL.revokeObjectURL(t),o.value=o.value.filter(m=>m.name!=p)):a.value=a.value.filter(m=>m.key!=p)}function U(p,t,m){y(t,m),document.fonts.add(p),l.value.unshift({value:t,label:t})}function P(){const p=I();if(p){s.value=!0;const t=p.map(function(m){const x=new FontFace(m.key,`url('${m.value}')`);return x.load().then(()=>U(x,m.key,m.value)).catch(O=>(e(`字体加载失败：${m.key}`),Promise.reject()))});Promise.all(t).then(function(){window.$message.success("字体加载成功"),$()}).finally(function(){s.value=!1})}}function $(){r.value=!1,g.forEach(p=>URL.revokeObjectURL(p)),g.length=0,o.value=[],a.value=[]}return ae(r,p=>{p||$()}),ae(o,p=>{const t=p[p.length-1];if(!t)return;const m=t.name.lastIndexOf("."),x=t.name.substring(0,m).trim(),{valid:O,reason:w}=R(x);O?t.name=x:(e(`"${x}" `+w),p.pop())}),(p,t)=>(W(),ee(ze,null,[i(n(B),{type:"info",ghost:"",onClick:t[0]||(t[0]=m=>r.value=!0)},{icon:f(()=>[i(n(Q),{component:n(me)},null,8,["component"])]),default:f(()=>[t[4]||(t[4]=b(" 导入临时字体 ",-1))]),_:1}),i(n(De),{show:r.value,"onUpdate:show":t[3]||(t[3]=m=>r.value=m),preset:"card",title:"导入临时字体",style:{width:"800px"}},{default:f(()=>[i(n(le),{prefix:"bar",type:"info"},{default:f(()=>[i(n(le),{prefix:"bar",type:"warning"},{default:f(()=>[...t[5]||(t[5]=[b(" 字体名称仅能包含：中文、英文、数字、空格、中划线 ",-1)])]),_:1}),i(n(le),{prefix:"bar",type:"warning",style:{"margin-top":"0px"}},{default:f(()=>[i(n(G),{type:"error"},{default:f(()=>[...t[6]||(t[6]=[b("必须包含",-1)])]),_:1}),i(n(G),{type:"info"},{default:f(()=>[...t[7]||(t[7]=[b("‘中文或英文’",-1)])]),_:1}),t[12]||(t[12]=b(" ， ",-1)),i(n(G),{type:"error"},{default:f(()=>[...t[8]||(t[8]=[b("不允许",-1)])]),_:1}),i(n(G),{type:"info"},{default:f(()=>[...t[9]||(t[9]=[b("‘数字/中划线’",-1)])]),_:1}),t[13]||(t[13]=b(" 开头， ",-1)),i(n(G),{type:"error"},{default:f(()=>[...t[10]||(t[10]=[b("不允许",-1)])]),_:1}),i(n(G),{type:"info"},{default:f(()=>[...t[11]||(t[11]=[b("‘空格 + 数字/中划线’",-1)])]),_:1}),t[14]||(t[14]=b(" 。 ",-1))]),_:1})]),_:1}),i(n(Qe),{value:a.value,"onUpdate:value":t[1]||(t[1]=m=>a.value=m),preset:"pair","key-placeholder":"字体名称","value-placeholder":"字体文件地址"},null,8,["value"]),i(n(Ee),{"file-list":o.value,"onUpdate:fileList":t[2]||(t[2]=m=>o.value=m),multiple:"",accept:".ttf,.otf,.woff,.woff2,.eot,.svg"},{default:f(()=>[i(n(B),null,{icon:f(()=>[i(n(Q),{component:n(me)},null,8,["component"])]),default:f(()=>[t[15]||(t[15]=b(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"]),i(n(ge),{justify:"end"},{default:f(()=>[i(n(B),{type:"success",loading:s.value,onClick:P},{icon:f(()=>[i(n(Q),{component:n(vt)},null,8,["component"])]),default:f(()=>[t[16]||(t[16]=b(" 加载 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["show"])],64))}}),wt=he(yt,[["__scopeId","data-v-de1c5e86"]]),Ct={class:"config-panel"},xt={class:"config-panel"},bt={class:"config-panel"},kt={class:"button-panel"},It={class:"canvas-container"},Rt=["id"],Ot=S({__name:"index",setup(d){const r=D([...ht]),s=Me();E.id=s;const l=D(0),o=D({fontFamily:"cursive",fontSize:280,fontWeight:"normal"}),a=D({text:"你好",uniformization:!0,gridCount:44,fontColorThresholdRatio:.4,textOffset:{x:0,y:0}}),g=je(()=>{requestAnimationFrame(()=>{E.generator(),l.value=E.textOccupiedGridCount})},200);return ae([a,o],([R,e])=>{Object.keys(R).forEach(u=>{E[u]=R[u]}),E.fontStyle=`${e.fontWeight} ${e.fontSize}px ${e.fontFamily}`,g()},{immediate:!0,deep:!0}),(R,e)=>(W(),Ae(Te,{"default-size":.35,min:0},{left:f(()=>[N("div",Ct,[i(n(Y),{title:"文本占用网格计数",size:"small"},{default:f(()=>[i(n(K),{value:l.value+""},null,8,["value"])]),_:1}),i(n(Y),{title:"文字样式",size:"small"},{default:f(()=>[N("div",xt,[i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[11]||(e[11]=[b("文字",-1)])]),_:1}),i(n(K),{value:a.value.text,"onUpdate:value":e[0]||(e[0]=u=>a.value.text=u),clearable:""},null,8,["value"])]),_:1}),i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[12]||(e[12]=[b("文字大小",-1)])]),_:1}),i(n(J),{value:o.value.fontSize,"onUpdate:value":e[1]||(e[1]=u=>o.value.fontSize=u),min:9,precision:0},null,8,["value"]),i(n(j),null,{default:f(()=>[...e[13]||(e[13]=[b("px",-1)])]),_:1})]),_:1}),i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[14]||(e[14]=[b("文字粗细",-1)])]),_:1}),i(n(pe),{value:o.value.fontWeight,"onUpdate:value":e[2]||(e[2]=u=>o.value.fontWeight=u),options:[{label:"正常",value:"normal"},{label:"粗体",value:"bold"}]},null,8,["value"])]),_:1}),i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[15]||(e[15]=[b("文字字体",-1)])]),_:1}),i(n(pe),{value:o.value.fontFamily,"onUpdate:value":e[3]||(e[3]=u=>o.value.fontFamily=u),options:r.value},null,8,["value","options"])]),_:1}),i(wt,{fontFamilyOptions:r.value,"onUpdate:fontFamilyOptions":e[4]||(e[4]=u=>r.value=u)},null,8,["fontFamilyOptions"]),i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[16]||(e[16]=[b("文字偏移",-1)])]),_:1}),i(n(J),{value:a.value.textOffset.x,"onUpdate:value":e[5]||(e[5]=u=>a.value.textOffset.x=u),precision:0},{prefix:f(()=>[...e[17]||(e[17]=[b("X",-1)])]),suffix:f(()=>[...e[18]||(e[18]=[b("px",-1)])]),_:1},8,["value"]),i(n(J),{value:a.value.textOffset.y,"onUpdate:value":e[6]||(e[6]=u=>a.value.textOffset.y=u),precision:0},{prefix:f(()=>[...e[19]||(e[19]=[b("Y",-1)])]),suffix:f(()=>[...e[20]||(e[20]=[b("px",-1)])]),_:1},8,["value"])]),_:1})])]),_:1}),i(n(Y),{title:"网格",size:"small"},{default:f(()=>[N("div",bt,[i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[21]||(e[21]=[b("网格行列数量",-1)])]),_:1}),i(n(J),{value:a.value.gridCount,"onUpdate:value":e[7]||(e[7]=u=>a.value.gridCount=u),min:1,precision:0},null,8,["value"])]),_:1}),i(n(_),null,{default:f(()=>[i(n(j),null,{default:f(()=>[...e[22]||(e[22]=[b("字体颜色阈值比率",-1)])]),_:1}),i(n(qe),{value:a.value.fontColorThresholdRatio,"onUpdate:value":e[8]||(e[8]=u=>a.value.fontColorThresholdRatio=u),min:.01,max:1,step:.01},null,8,["value"])]),_:1}),i(n(ge),{align:"center"},{default:f(()=>[i(n(Ke),{value:a.value.uniformization,"onUpdate:value":e[9]||(e[9]=u=>a.value.uniformization=u)},null,8,["value"]),e[23]||(e[23]=b(" 网格颜色统一化 ",-1))]),_:1})])]),_:1}),i(n(Y),{title:"其他",size:"small"},{default:f(()=>[N("div",kt,[i(n(B),{type:"success",ghost:"",onClick:e[10]||(e[10]=u=>n(E).exportImage())},{icon:f(()=>[i(n(Q),{component:n(at)},null,8,["component"])]),default:f(()=>[e[24]||(e[24]=b(" 导出图片 ",-1))]),_:1})])]),_:1})])]),right:f(()=>[N("div",It,[N("canvas",{id:n(s)},null,8,Rt)])]),_:1}))}}),Zt=he(Ot,[["__scopeId","data-v-15574e46"]]);export{Zt as default};
