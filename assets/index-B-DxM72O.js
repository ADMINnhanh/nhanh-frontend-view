import{d as G,ao as q,p as k,A as H,q as V,ae as I,c as N,o as y,W as U,b as P,u as _,w as A,a1 as Z,R,ag as K,Z as J,e as Q,t as X,ac as Y,_ as $}from"./index-D_Y2CkqW.js";import{W as ee,P as te,O as ne,S as oe,C as ae,L as se,a as ie,A as re,D as ce}from"./OrbitControls-CPTnKnEB.js";import{G as le}from"./GLTFLoader-C162uzil.js";import{N as ue}from"./Radio-DKc2PZ0w.js";import{N as fe}from"./RadioGroup-CBOhY39X.js";import"./BufferGeometryUtils-BfTMPg7f.js";function de(f){const d=new Map,u=new Map,a=f.clone();return T(f,a,function(c,n){d.set(n,c),u.set(c,n)}),a.traverse(function(c){if(!c.isSkinnedMesh)return;const n=c,p=d.get(c),b=p.skeleton.bones;n.skeleton=p.skeleton.clone(),n.bindMatrix.copy(p.bindMatrix),n.skeleton.bones=b.map(function(i){return u.get(i)}),n.bind(n.skeleton,n.bindMatrix)}),a}function T(f,d,u){u(f,d);for(let a=0;a<f.children.length;a++)T(f.children[a],d.children[a],u)}const pe=["id"],ge=G({__name:"index",setup(f,{expose:d}){const u=q();let a=!0;const c=k(0),n=k({}),p=k();H(p,(i,l)=>{if(l)for(const[g,s]of n.value[l])if(i){const m=n.value[i].get(g);m?(m.reset().setEffectiveTimeScale(1).setEffectiveWeight(1),s.crossFadeTo(m,.5,!0)):s.stop()}else s.stop();if(i)for(const[g,s]of n.value[i])s.reset().play()});function b(){const i=document.getElementById(u),l=new ee({antialias:!0,canvas:i}),g=45,s=2,m=.1,j=100,h=new te(g,s,m,j);h.position.set(0,20,40);const S=new ne(h,i);S.target.set(0,5,0),S.update();const v=new oe;v.background=new ae("white");function C(...e){const r=new ce(16777215,2.5);r.position.set(...e),v.add(r),v.add(r.target)}C(5,5,2),C(-5,5,5);const M=new se;M.onLoad=W,M.onProgress=(e,o,t)=>{c.value=Number((o/t).toFixed(2))*100};const L={pig:{url:"gltf/Pig.gltf"},cow:{url:"gltf/Cow.gltf"},llama:{url:"gltf/Llama.gltf"},pug:{url:"gltf/Pug.gltf"},sheep:{url:"gltf/Sheep.gltf"},zebra:{url:"gltf/Zebra.gltf"},horse:{url:"gltf/Horse.gltf"},knight:{url:"gltf/KnightCharacter.gltf"}};{const e=new le(M);for(const o of Object.values(L))e.load(o.url,t=>{o.gltf=t})}function F(){Object.values(L).forEach(e=>{const o={};e.gltf.animations.forEach(t=>{o[t.name]=t}),e.animations=o})}const E=[];function W(){F(),Object.values(L).forEach((e,o)=>{const t=de(e.gltf.scene),r=new ie;r.add(t),v.add(r),r.position.x=(o-3)*3;const w=new re(t);for(const x in e.animations)if(Object.prototype.hasOwnProperty.call(e.animations,x)){const D=e.animations[x];n.value[x]||(n.value[x]=new Map),n.value[x].set(e.url,Y(w.clipAction(D)))}E.push(w)})}function z(e){const o=e.domElement,t=o.clientWidth,r=o.clientHeight,w=o.width!==t||o.height!==r;return w&&e.setSize(t,r,!1),w}let O=0;function B(e){e*=.001;const o=e-O;if(O=e,z(l)){const t=l.domElement;h.aspect=t.clientWidth/t.clientHeight,h.updateProjectionMatrix()}for(const t of E)t.update(o);l.render(v,h),a&&requestAnimationFrame(B)}requestAnimationFrame(B)}return V(()=>{b()}),I(()=>{a=!1}),d({percentage:c}),(i,l)=>(y(),N(R,null,[U("canvas",{id:_(u)},null,8,pe),P(_(fe),{value:p.value,"onUpdate:value":l[0]||(l[0]=g=>p.value=g)},{default:A(()=>[P(_(Z),{vertical:""},{default:A(()=>[(y(!0),N(R,null,K(n.value,(g,s)=>(y(),J(_(ue),{key:s,value:s},{default:A(()=>[Q(X(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])],64))}}),be=$(ge,[["__scopeId","data-v-311fc227"]]);export{be as default};
