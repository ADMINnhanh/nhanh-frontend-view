var xe=Object.defineProperty;var Ce=(f,i,s)=>i in f?xe(f,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[i]=s;var F=(f,i,s)=>Ce(f,typeof i!="symbol"?i+"":i,s);import{d as S,l as h,D as be,f as re,j as T,J as ke,I as ue,k as Ie,B,C as de,aN as fe,m as Re,p as D,y as Z,aR as Oe,L as ve,aY as Pe,g as H,E as $e,al as Ue,N as Ve,aZ as q,a_ as ce,a$ as ne,b0 as oe,b1 as Ne,b2 as le,b3 as Fe,c as te,o as W,W as N,b4 as Se,b5 as Be,A as ae,b as l,w as d,e as b,u as n,a3 as ee,a1 as ge,b6 as De,R as ze,_ as he,ao as Ae,Z as Me,aa as Y,ap as je}from"./index-DJ1i5KOp.js";import{R as Te}from"./ResponsiveDirectionLayout-B7Pf4Jrq.js";import{N as J}from"./headers-DYnOng5p.js";import{N as K}from"./Input-CrW7KBi3.js";import{u as _e}from"./use-locale-q1X7O_TX.js";import{N as Le}from"./ButtonGroup-C1I100gD.js";import{R as Ge,N as X}from"./InputNumber-CfXp4nxX.js";import{N as G}from"./text-BBEnx1FW.js";import{N as Ee}from"./a-BgA0stOF.js";import{N as qe}from"./Upload-qRF9D3ZR.js";import{N as j}from"./InputGroupLabel-D2QojGWg.js";import{N as Ke}from"./Slider-GJSygYAD.js";import{N as _}from"./InputGroup-Dkml-s55.js";import{N as pe}from"./Select-BL1QxGwy.js";import{N as We}from"./Switch-BbLLAyVg.js";import"./Suffix-zzuSc3rj.js";import"./Progress-DqGcez5M.js";import"./Image-BxGKD6Ws.js";import"./_createCompounder-Bt7kKoPb.js";import"./attribute-Cz32yFEB.js";import"./Empty-BDd7hgxr.js";const Ze=S({name:"ArrowDown",render(){return h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),He=S({name:"ArrowUp",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),ie=be("n-dynamic-input"),Ye=S({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:f,placeholderRef:i}=re(ie);return{mergedTheme:f,placeholder:i}},render(){const{mergedTheme:f,placeholder:i,value:s,clsPrefix:a,onUpdateValue:o,disabled:r}=this;return h("div",{class:`${a}-dynamic-input-preset-input`},h(K,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:s,placeholder:i,onUpdateValue:o,disabled:r}))}}),Je=S({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(f){const{mergedThemeRef:i,keyPlaceholderRef:s,valuePlaceholderRef:a}=re(ie);return{mergedTheme:i,keyPlaceholder:s,valuePlaceholder:a,handleKeyInput(o){f.onUpdateValue({key:o,value:f.value.value})},handleValueInput(o){f.onUpdateValue({key:f.value.key,value:o})}}},render(){const{mergedTheme:f,keyPlaceholder:i,valuePlaceholder:s,value:a,clsPrefix:o,disabled:r}=this;return h("div",{class:`${o}-dynamic-input-preset-pair`},h(K,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:a.key,class:`${o}-dynamic-input-pair-input`,placeholder:i,onUpdateValue:this.handleKeyInput,disabled:r}),h(K,{theme:f.peers.Input,"theme-overrides":f.peerOverrides.Input,value:a.value,class:`${o}-dynamic-input-pair-input`,placeholder:s,onUpdateValue:this.handleValueInput,disabled:r}))}}),Xe=T("dynamic-input",{width:"100%"},[T("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[T("dynamic-input-preset-input",{flex:1,alignItems:"center"}),T("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[T("dynamic-input-pair-input",[ue("&:first-child",{"margin-right":"12px"})])]),ke("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[Ie("icon",{cursor:"pointer"})]),ue("&:last-child",{marginBottom:0})]),T("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[T("form-item-blank",{paddingTop:"0 !important"})])]),Q=new WeakMap,Qe=Object.assign(Object.assign({},ve.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),et=S({name:"DynamicInput",props:Qe,setup(f,{slots:i}){const{mergedComponentPropsRef:s,mergedClsPrefixRef:a,mergedRtlRef:o,inlineThemeDisabled:r}=Re(),g=re(Fe,null),R=D(f.defaultValue),t=Z(f,"value"),u=Oe(t,R),I=ve("DynamicInput","-dynamic-input",Xe,Pe,f,a),y=H(()=>{const{value:c}=u;if(Array.isArray(c)){const{max:v}=f;return v!==void 0&&c.length>=v}return!1}),U=H(()=>{const{value:c}=u;return Array.isArray(c)?c.length<=f.min:!0}),P=H(()=>{var c,v;return(v=(c=s==null?void 0:s.value)===null||c===void 0?void 0:c.DynamicInput)===null||v===void 0?void 0:v.buttonSize});function $(c){const{onInput:v,"onUpdate:value":k,onUpdateValue:x}=f;v&&le(v,c),k&&le(k,c),x&&le(x,c),R.value=c}function p(c,v){if(c==null||typeof c!="object")return v;const k=ne(c)?oe(c):c;let x=Q.get(k);return x===void 0&&Q.set(k,x=Ne()),x}function e(c,v){const{value:k}=u,x=Array.from(k??[]),M=x[c];if(x[c]=v,M&&v&&typeof M=="object"&&typeof v=="object"){const ye=ne(M)?oe(M):M,we=ne(v)?oe(v):v,se=Q.get(ye);se!==void 0&&Q.set(we,se)}$(x)}function m(){C(-1)}function C(c){const{value:v}=u,{onCreate:k}=f,x=Array.from(v??[]);if(k)x.splice(c+1,0,k(c+1)),$(x);else if(i.default)x.splice(c+1,0,null),$(x);else switch(f.preset){case"input":x.splice(c+1,0,""),$(x);break;case"pair":x.splice(c+1,0,{key:"",value:""}),$(x);break}}function O(c){const{value:v}=u;if(!Array.isArray(v))return;const{min:k}=f;if(v.length<=k)return;const{onRemove:x}=f;x&&x(c);const M=Array.from(v);M.splice(c,1),$(M)}function w(c,v,k){if(v<0||k<0||v>=c.length||k>=c.length||v===k)return;const x=c[v];c[v]=c[k],c[k]=x}function z(c,v){const{value:k}=u;if(!Array.isArray(k))return;const x=Array.from(k);c==="up"&&w(x,v,v-1),c==="down"&&w(x,v,v+1),$(x)}$e(ie,{mergedThemeRef:I,keyPlaceholderRef:Z(f,"keyPlaceholder"),valuePlaceholderRef:Z(f,"valuePlaceholder"),placeholderRef:Z(f,"placeholder")});const V=Ue("DynamicInput",o,a),L=H(()=>{const{self:{actionMargin:c,actionMarginRtl:v}}=I.value;return{"--action-margin":c,"--action-margin-rtl":v}}),A=r?Ve("dynamic-input",void 0,L,f):void 0;return{locale:_e("DynamicInput").localeRef,rtlEnabled:V,buttonSize:P,mergedClsPrefix:a,NFormItem:g,uncontrolledValue:R,mergedValue:u,insertionDisabled:y,removeDisabled:U,handleCreateClick:m,ensureKey:p,handleValueChange:e,remove:O,move:z,createItem:C,mergedTheme:I,cssVars:r?void 0:L,themeClass:A==null?void 0:A.themeClass,onRender:A==null?void 0:A.onRender}},render(){const{$slots:f,itemClass:i,buttonSize:s,mergedClsPrefix:a,mergedValue:o,locale:r,mergedTheme:g,keyField:R,itemStyle:t,preset:u,showSortButton:I,NFormItem:y,ensureKey:U,handleValueChange:P,remove:$,createItem:p,move:e,onRender:m,disabled:C}=this;return m==null||m(),h("div",{class:[`${a}-dynamic-input`,this.rtlEnabled&&`${a}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?h(B,Object.assign({block:!0,ghost:!0,dashed:!0,size:s},this.createButtonProps,{disabled:this.insertionDisabled||C,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>de(f["create-button-default"],()=>[r.create]),icon:()=>de(f["create-button-icon"],()=>[h(q,{clsPrefix:a},{default:()=>h(ce,null)})])}):o.map((O,w)=>h("div",{key:R?O[R]:U(O,w),"data-key":R?O[R]:U(O,w),class:[`${a}-dynamic-input-item`,i],style:t},fe(f.default,{value:o[w],index:w},()=>[u==="input"?h(Ye,{disabled:C,clsPrefix:a,value:o[w],parentPath:y?y.path.value:void 0,path:y!=null&&y.path.value?`${y.path.value}[${w}]`:void 0,onUpdateValue:z=>{P(w,z)}}):u==="pair"?h(Je,{disabled:C,clsPrefix:a,value:o[w],parentPath:y?y.path.value:void 0,path:y!=null&&y.path.value?`${y.path.value}[${w}]`:void 0,onUpdateValue:z=>{P(w,z)}}):null]),fe(f.action,{value:o[w],index:w,create:p,remove:$,move:e},()=>[h("div",{class:`${a}-dynamic-input-item__action`},h(Le,{size:s},{default:()=>[h(B,{disabled:this.removeDisabled||C,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,circle:!0,onClick:()=>{$(w)}},{icon:()=>h(q,{clsPrefix:a},{default:()=>h(Ge,null)})}),h(B,{disabled:this.insertionDisabled||C,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{p(w)}},{icon:()=>h(q,{clsPrefix:a},{default:()=>h(ce,null)})}),I?h(B,{disabled:w===0||C,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{e("up",w)}},{icon:()=>h(q,{clsPrefix:a},{default:()=>h(He,null)})}):null,I?h(B,{disabled:w===o.length-1||C,circle:!0,theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,onClick:()=>{e("down",w)}},{icon:()=>h(q,{clsPrefix:a},{default:()=>h(Ze,null)})}):null]}))]))))}}),tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},nt=N("path",{d:"M320 336h76c55 0 100-21.21 100-75.6s-53-73.47-96-75.6C391.11 99.74 329 48 256 48c-69 0-113.44 45.79-128 91.2c-60 5.7-112 35.88-112 98.4S70 336 136 336h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ot=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 400.1l64 63.9l64-63.9"},null,-1),lt=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 224v224.03"},null,-1),at=[nt,ot,lt],rt=S({name:"CloudDownloadOutline",render:function(i,s){return W(),te("svg",tt,at)}}),it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},st=N("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ut=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),dt=N("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),ft=[st,ut,dt],me=S({name:"CloudUploadOutline",render:function(i,s){return W(),te("svg",it,ft)}}),ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},pt=N("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),mt=N("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1),vt=[pt,mt],gt=S({name:"Reload",render:function(i,s){return W(),te("svg",ct,vt)}});class ht{constructor(){F(this,"id");F(this,"text","你好!");F(this,"textOffset",{x:0,y:0});F(this,"fontStyle","280px cursive");F(this,"fontColorThresholdRatio",.4);F(this,"uniformization",!0);F(this,"gridCount",44);F(this,"textOccupiedGridCount",0);F(this,"config")}initCanvas(){const i=document.getElementById(this.id),s=i.parentElement.getBoundingClientRect(),a=Math.floor(Math.sqrt(Math.pow(Math.min(s.width,s.height),2)/2)/this.gridCount);if(a<1)return;const o=a*this.gridCount,r=a*this.gridCount;i.style.width=o+"px",i.style.height=r+"px",i.width=o,i.height=r;const g=i.getContext("2d");return g.clearRect(0,0,o,r),{canvas:i,ctx:g,gridSize:a}}renderGird(i){const{ctx:s,gridSize:a}=i,o=["#F0F0F0","#FFFFFF"];for(let r=0;r<this.gridCount;r++)for(let g=0;g<this.gridCount;g++)s.fillStyle=o[(r+g)%2],s.fillRect(g*a,r*a,a,a)}renderText(i){const{ctx:s,gridSize:a}=i;s.font=this.fontStyle,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#000";const o=a*this.gridCount*.5;s.save();const{x:r,y:g}=this.textOffset,R={x:0,y:0},t=u=>Math.abs(u)/Math.sqrt(2);if(r!==0){const u=t(r);R.x+=r>0?u:-u,R.y+=r>0?-u:u}if(g!==0){const u=t(g);R.x+=g>0?-u:u,R.y+=g>0?-u:u}s.translate(o+R.x,o+R.y),s.rotate(-Math.PI/4),s.fillText(this.text,0,0),s.restore()}gridColorUniformization(i){this.textOccupiedGridCount=0;const{ctx:s,gridSize:a}=i,o=a*this.gridCount,r=s.getImageData(0,0,o,o),g=new ImageData(o,o),R=(I,y)=>{const U=[],P=I*a,$=P+a,p=y*a*4,e=p+a*4;for(let m=P;m<$;m++)for(let C=p;C<e;C+=4){const O=m*o*4+C;U.push(r.data[O],r.data[O+1],r.data[O+2],r.data[O+3])}return U},t=(I,y,U)=>{let P=0;const $=I*a,p=$+a,e=y*a*4,m=e+a*4;for(let C=$;C<p;C++)for(let O=e;O<m;O+=4){const w=C*o*4+O;g.data[w]=U[P++],g.data[w+1]=U[P++],g.data[w+2]=U[P++],g.data[w+3]=U[P++]}},u=I=>{const y=new Map;for(let V=0;V<I.length;V+=4){const L=I[V],A=I[V+1],c=I[V+2],v=I[V+3],k=`${L},${A},${c},${v}`,x=y.get(k)||0;y.set(k,x+1)}const U="0,0,0,255",P={color:U,count:0},$=I.length/4;(y.get(U)||0)/$>=this.fontColorThresholdRatio?this.textOccupiedGridCount++:y.forEach((V,L)=>{P.count<V&&(P.color=L,P.count=V)});const[m,C,O,w]=P.color.split(",").map(Number);let z=[];for(let V=0;V<I.length/4;V++)z.push(m,C,O,w);return z};for(let I=0;I<this.gridCount;I++)for(let y=0;y<this.gridCount;y++){const U=R(I,y),P=u(U);t(I,y,P)}s.putImageData(g,0,0)}generator(){this.id&&(this.config=this.initCanvas(),this.config&&(this.renderGird(this.config),this.renderText(this.config),this.uniformization&&this.gridColorUniformization(this.config)))}exportImage(){if(!this.id||!this.config)return;const{ctx:i}=this.config,s=document.createElement("canvas"),a=Math.sqrt(Math.pow(i.canvas.width,2)*2);s.width=a,s.height=a;const o=s.getContext("2d"),r=a*.5;o.translate(r,r),o.rotate(Math.PI/4),o.drawImage(i.canvas,-i.canvas.width/2,-i.canvas.width/2);const g=s.toDataURL("image/png");Se({href:g,fileName:`网格文字 ${this.text}`})}}const E=new ht,yt=[{label:"衬线字体",value:"serif"},{label:"无衬线字体",value:"sans-serif"},{label:"等宽字体",value:"monospace"},{label:"手写体",value:"cursive"},{label:"装饰字体",value:"fantasy"},{label:"系统UI字体",value:"system-ui"},{label:"UI衬线字体",value:"ui-serif"},{label:"UI无衬线字体",value:"ui-sans-serif"},{label:"UI等宽字体",value:"ui-monospace"},{label:"UI圆角字体",value:"ui-rounded"},{label:"数学字体",value:"math"},{label:"仿宋字体",value:"fangsong"}],wt=S({__name:"fontFamily",props:{fontFamilyOptions:{required:!0},fontFamilyOptionsModifiers:{}},emits:["update:fontFamilyOptions"],setup(f){const i=D(!1),s=D(!1),a=Be(f,"fontFamilyOptions"),o=D([]),r=D([]),g=[];function R(p){return p=p.trim(),p===""?{valid:!1,reason:"字体名称不允许：为空"}:/^[\u4e00-\u9fa5a-zA-Z0-9\s-]+$/.test(p)?/^[\d-]/.test(p)?{valid:!1,reason:"字体名称不允许：以 数字/中划线 开头"}:/[a-zA-Z\u4e00-\u9fa5]/.test(p)?/\s+[\d-]+/.test(p)?{valid:!1,reason:"字体名称不允许：空格 + 数字/中划线"}:{valid:!0,reason:"校验通过"}:{valid:!1,reason:"字体名称必须包含：中文或英文"}:{valid:!1,reason:"字体名称仅允许包含：中文、英文、数字、空格、中划线"}}function t(p){window.$message.error(p,{duration:0,closable:!0})}function u(){return o.value.map(p=>{const e=p.name,m=URL.createObjectURL(p.file);return g.push(m),{key:e,value:m}})}function I(){const p=u(),e=r.value.filter(m=>{if(m.value){const{valid:C,reason:O}=R(m.key);return C?!0:(t(`"${m.key}" `+ +O),!1)}else t(`"${m.key}" ：请填写字体文件地址`)});if(e.length==r.value.length){if(p.push(...e),p.length)return p;window.$message.warning("请选择字体")}}function y(p,e){g.includes(e)?(URL.revokeObjectURL(e),o.value=o.value.filter(m=>m.name!=p)):r.value=r.value.filter(m=>m.key!=p)}function U(p,e,m){y(e,m),document.fonts.add(p),a.value.unshift({value:e,label:e})}function P(){const p=I();if(p){s.value=!0;const e=p.map(function(m){const C=new FontFace(m.key,`url('${m.value}')`);return C.load().then(()=>U(C,m.key,m.value)).catch(O=>(t(`字体加载失败：${m.key}`),Promise.reject()))});Promise.all(e).then(function(){window.$message.success("字体加载成功"),$()}).finally(function(){s.value=!1})}}function $(){i.value=!1,g.forEach(p=>URL.revokeObjectURL(p)),g.length=0,o.value=[],r.value=[]}return ae(i,p=>{p||$()}),ae(o,p=>{const e=p[p.length-1];if(!e)return;const m=e.name.lastIndexOf("."),C=e.name.substring(0,m).trim(),{valid:O,reason:w}=R(C);O?e.name=C:(t(`"${C}" `+w),p.pop())}),(p,e)=>(W(),te(ze,null,[l(n(B),{type:"info",ghost:"",onClick:e[0]||(e[0]=m=>i.value=!0)},{icon:d(()=>[l(n(ee),{component:n(me)},null,8,["component"])]),default:d(()=>[e[4]||(e[4]=b(" 导入临时字体 ",-1))]),_:1}),l(n(De),{show:i.value,"onUpdate:show":e[3]||(e[3]=m=>i.value=m),preset:"card",title:"导入临时字体",style:{width:"800px"}},{default:d(()=>[l(n(J),{prefix:"bar",type:"info"},{default:d(()=>[l(n(J),{prefix:"bar",type:"warning",style:{margin:"0px"}},{default:d(()=>[...e[5]||(e[5]=[b(" 字体名称仅能包含：中文、英文、数字、空格、中划线 ",-1)])]),_:1}),l(n(J),{prefix:"bar",type:"warning",style:{margin:"20px 0"}},{default:d(()=>[l(n(G),{type:"error"},{default:d(()=>[...e[6]||(e[6]=[b("必须包含",-1)])]),_:1}),l(n(G),{type:"info"},{default:d(()=>[...e[7]||(e[7]=[b("‘中文或英文’",-1)])]),_:1}),e[12]||(e[12]=b(" ， ",-1)),l(n(G),{type:"error"},{default:d(()=>[...e[8]||(e[8]=[b("不允许",-1)])]),_:1}),l(n(G),{type:"info"},{default:d(()=>[...e[9]||(e[9]=[b("‘数字/中划线’",-1)])]),_:1}),e[13]||(e[13]=b(" 开头， ",-1)),l(n(G),{type:"error"},{default:d(()=>[...e[10]||(e[10]=[b("不允许",-1)])]),_:1}),l(n(G),{type:"info"},{default:d(()=>[...e[11]||(e[11]=[b("‘空格 + 数字/中划线’",-1)])]),_:1}),e[14]||(e[14]=b(" 。 ",-1))]),_:1}),l(n(J),{prefix:"bar",type:"success",style:{margin:"0px"}},{default:d(()=>[e[16]||(e[16]=b(" 若导入失败，可尝试转换格式： ",-1)),l(n(Ee),{href:"https://transfonter.org/",target:"_blank"},{default:d(()=>[...e[15]||(e[15]=[b(" https://transfonter.org/ ",-1)])]),_:1})]),_:1})]),_:1}),l(n(et),{value:r.value,"onUpdate:value":e[1]||(e[1]=m=>r.value=m),preset:"pair","key-placeholder":"字体名称","value-placeholder":"字体文件地址"},null,8,["value"]),l(n(qe),{"file-list":o.value,"onUpdate:fileList":e[2]||(e[2]=m=>o.value=m),multiple:"",accept:".ttf,.otf,.woff,.woff2,.eot,.svg"},{default:d(()=>[l(n(B),null,{icon:d(()=>[l(n(ee),{component:n(me)},null,8,["component"])]),default:d(()=>[e[17]||(e[17]=b(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"]),l(n(ge),{justify:"end"},{default:d(()=>[l(n(B),{type:"success",loading:s.value,onClick:P},{icon:d(()=>[l(n(ee),{component:n(gt)},null,8,["component"])]),default:d(()=>[e[18]||(e[18]=b(" 加载 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["show"])],64))}}),xt=he(wt,[["__scopeId","data-v-d5392ad3"]]),Ct={class:"config-panel"},bt={class:"config-panel"},kt={class:"config-panel"},It={class:"button-panel"},Rt={class:"canvas-container"},Ot=["id"],Pt=S({__name:"index",setup(f){const i=D([...yt]),s=Ae();E.id=s;const a=D(0),o=D({fontFamily:"cursive",fontSize:280,fontWeight:"normal"}),r=D({text:"你好",uniformization:!0,gridCount:44,fontColorThresholdRatio:.4,textOffset:{x:0,y:0}}),g=je(()=>{requestAnimationFrame(()=>{E.generator(),a.value=E.textOccupiedGridCount})},200);return ae([r,o],([R,t])=>{Object.keys(R).forEach(u=>{E[u]=R[u]}),E.fontStyle=`${t.fontWeight} ${t.fontSize}px ${t.fontFamily}`,g()},{immediate:!0,deep:!0}),(R,t)=>(W(),Me(Te,{"default-size":.35,min:0},{left:d(()=>[N("div",Ct,[l(n(Y),{title:"文本占用网格计数",size:"small"},{default:d(()=>[l(n(K),{value:a.value+""},null,8,["value"])]),_:1}),l(n(Y),{title:"文字样式",size:"small"},{default:d(()=>[N("div",bt,[l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[11]||(t[11]=[b("文字",-1)])]),_:1}),l(n(K),{value:r.value.text,"onUpdate:value":t[0]||(t[0]=u=>r.value.text=u),clearable:""},null,8,["value"])]),_:1}),l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[12]||(t[12]=[b("文字大小",-1)])]),_:1}),l(n(X),{value:o.value.fontSize,"onUpdate:value":t[1]||(t[1]=u=>o.value.fontSize=u),min:9,precision:0},null,8,["value"]),l(n(j),null,{default:d(()=>[...t[13]||(t[13]=[b("px",-1)])]),_:1})]),_:1}),l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[14]||(t[14]=[b("文字粗细",-1)])]),_:1}),l(n(pe),{value:o.value.fontWeight,"onUpdate:value":t[2]||(t[2]=u=>o.value.fontWeight=u),options:[{label:"正常",value:"normal"},{label:"粗体",value:"bold"}]},null,8,["value"])]),_:1}),l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[15]||(t[15]=[b("文字字体",-1)])]),_:1}),l(n(pe),{value:o.value.fontFamily,"onUpdate:value":t[3]||(t[3]=u=>o.value.fontFamily=u),options:i.value},null,8,["value","options"])]),_:1}),l(xt,{fontFamilyOptions:i.value,"onUpdate:fontFamilyOptions":t[4]||(t[4]=u=>i.value=u)},null,8,["fontFamilyOptions"]),l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[16]||(t[16]=[b("文字偏移",-1)])]),_:1}),l(n(X),{value:r.value.textOffset.x,"onUpdate:value":t[5]||(t[5]=u=>r.value.textOffset.x=u),precision:0},{prefix:d(()=>[...t[17]||(t[17]=[b("X",-1)])]),suffix:d(()=>[...t[18]||(t[18]=[b("px",-1)])]),_:1},8,["value"]),l(n(X),{value:r.value.textOffset.y,"onUpdate:value":t[6]||(t[6]=u=>r.value.textOffset.y=u),precision:0},{prefix:d(()=>[...t[19]||(t[19]=[b("Y",-1)])]),suffix:d(()=>[...t[20]||(t[20]=[b("px",-1)])]),_:1},8,["value"])]),_:1})])]),_:1}),l(n(Y),{title:"网格",size:"small"},{default:d(()=>[N("div",kt,[l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[21]||(t[21]=[b("网格行列数量",-1)])]),_:1}),l(n(X),{value:r.value.gridCount,"onUpdate:value":t[7]||(t[7]=u=>r.value.gridCount=u),min:1,precision:0},null,8,["value"])]),_:1}),l(n(_),null,{default:d(()=>[l(n(j),null,{default:d(()=>[...t[22]||(t[22]=[b("字体颜色阈值比率",-1)])]),_:1}),l(n(Ke),{value:r.value.fontColorThresholdRatio,"onUpdate:value":t[8]||(t[8]=u=>r.value.fontColorThresholdRatio=u),min:.01,max:1,step:.01},null,8,["value"])]),_:1}),l(n(ge),{align:"center"},{default:d(()=>[l(n(We),{value:r.value.uniformization,"onUpdate:value":t[9]||(t[9]=u=>r.value.uniformization=u)},null,8,["value"]),t[23]||(t[23]=b(" 网格颜色统一化 ",-1))]),_:1})])]),_:1}),l(n(Y),{title:"其他",size:"small"},{default:d(()=>[N("div",It,[l(n(B),{type:"success",ghost:"",onClick:t[10]||(t[10]=u=>n(E).exportImage())},{icon:d(()=>[l(n(ee),{component:n(rt)},null,8,["component"])]),default:d(()=>[t[24]||(t[24]=b(" 导出图片 ",-1))]),_:1})])]),_:1})])]),right:d(()=>[N("div",Rt,[N("canvas",{id:n(s)},null,8,Ot)])]),_:1}))}}),Yt=he(Pt,[["__scopeId","data-v-15574e46"]]);export{Yt as default};
