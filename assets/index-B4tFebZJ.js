import{ao as Q,dh as a,p as N,dn as h,d as X,bi as Y,q as ee,ab as ae,ah as te,Z as le,o as ne,w as T,b as C,W as se,u as r,av as oe,e as R,B as ue,bz as ve}from"./index-Dn-EKhws.js";import{M as b,A as ie}from"./tool-CZyFCbqA.js";import{C as ce}from"./Card-o20lqc_5.js";import{O as re}from"./Oscillator-CjQwGMJ3.js";import"./Alert-Bu10e0nj.js";import"./Slider-CG2DFlfp.js";const z=Q(),v=N(45),o=5,_=new a.Polygon({value:[[0,0],[-o/2,0],[o/2,0]],isInteractive:!1}),O=new a.Line({isInteractive:!1,style:{stroke:{color:"#18a058"}}}),w=(n,t)=>({...n?{style:{fill:n+80,stroke:{color:n+80}}}:{},isRect:t,isInteractive:!1}),j=new a.Polygon(w("#8a2be2")),G=new a.Polygon(w("#ff69b4")),J=new a.Polygon(w("#8a2be2",!0)),U=new a.Polygon(w("#ff69b4",!0)),l=new a.Polygon({...w("#ff0033"),isVisible:!1}),fe=[_,O,j,G,J,U,l],i=(n,t=0,c=0)=>({text:n,offset:{x:t,y:c},style:{size:20},isInteractive:!1}),s=new a.Text(i("A",0,-15)),y=new a.Text({value:[-o/2,0],...i("B",-10,15)}),g=new a.Text({...i("C",10,15),value:[o/2,0]}),q=new a.Text({...i("D",-10,15),value:[-o/2,o]}),D=new a.Text({...i("E",10,15),value:[o/2,o]}),k=new a.Text(i("F",10,15)),d=new a.Text(i("G",10,15)),x=new a.Text(i("H",-10,15)),B=new a.Text(i("I",-10,-15)),V=new a.Text(i("J",10,15)),M=new a.Text(i("K",10,-15)),xe=[s,y,g,q,D,k,d,x,B,V,M],p=()=>({isInteractive:!1,style:{stroke:{dash:!0}}}),E=new a.Line(p()),F=new a.Line(p()),H=new a.Line(p()),K=new a.Line(p()),W=new a.Line(p()),ye=[E,F,H,K,W],de=[xe,ye,fe],e=new ie(_);function P(){const n=v.value*Math.PI/180,t=Math.cos(n),c=t*o,u=c*t,f=c*Math.sin(n);s.value=[-o/2+u,-f];const m=-o/2+c*c/o;k.value=[m,0],d.value=[m,o],_.value[0]=s.value,_.value=[..._.value],O.value=v.value==0||v.value==90?void 0:b.transform(b.getRightAngleSymbol(e.a,e.b,e.c)),x.value=[e.b.x-(e.b.y-e.a.y),e.b.y+(e.b.x-e.a.x)],B.value=[e.a.x-(e.b.y-e.a.y),e.a.y+(e.b.x-e.a.x)],V.value=[e.c.x+(e.c.y-e.a.y),e.c.y-(e.c.x-e.a.x)],M.value=[e.a.x+(e.c.y-e.a.y),e.a.y-(e.c.x-e.a.x)],E.value=[s.value,x.value],F.value=[s.value,q.value],H.value=[s.value,d.value],K.value=[y.value,d.value],W.value=[x.value,g.value],l.value=[s.value,x.value,y.value],l.isVisible=!1,j.value=[B.value,s.value,y.value,x.value],G.value=[M.value,s.value,g.value,V.value],J.value=v.value==90?void 0:[y.value,d.value],U.value=v.value==0?void 0:[k.value,D.value]}const I=N(!1);function be(){(v.value==0||v.value==90)&&(v.value=45,P()),l.value=[s.value,x.value,y.value],I.value=!0,l.isVisible=!0;const n=s.value[0],t=g.value[0],c=g.value[1]-s.value[1],u=500;setTimeout(()=>{h(n,t,150,f=>{const m=(f-n)/(t-n)*c+s.value[1];if(l.value[0]=[f,m],l.value=[...l.value],f==t){const Z=[...l.value];setTimeout(()=>{h(0,90,90,A=>{if(l.value=b.transform(b.rotatePoints(b.inverseTransform(Z),2,A*Math.PI/180)),A==90){const $=l.value[1][1],L=d.value[1];setTimeout(()=>{h($,L,150,S=>{l.value[1][1]=S,l.value=[...l.value],S==L&&(I.value=!1)},6)},u)}})},u)}},6)},u*2)}const _e=["id"],Ce=X({__name:"index",setup(n){let t=Y();return ee(()=>{t.value=new a({id:z,theme:ae.value.theme,axisShow:!1,defaultScale:te.value.isMobileStyle?.8:1}),t.value.addOverlay(de),t.value.style.light.line.stroke.color="#000",t.value.style.light.line.stroke.width=2,t.value.style.dark.line.stroke.color="#fff",t.value.style.dark.line.stroke.width=2,P()}),(c,u)=>(ne(),le(ce,{canvas:r(t),alert:"巧妙的辅助线，对吗？对的！"},{"alert-content":T(()=>[u[1]||(u[1]=R(" 没有头绪？ 点击 ",-1)),C(r(ue),{text:"",type:"success",style:{"font-size":"20px","vertical-align":"middle"}},{default:T(()=>[C(r(ve),{icon:"Bulb"})]),_:1}),u[2]||(u[2]=R(" 看看。 ",-1))]),default:T(()=>[C(re,{canvas:r(t),value:r(v),"onUpdate:value":u[0]||(u[0]=f=>oe(v)?v.value=f:null),onChange:r(P),marks:{0:"∠ABC 0°",90:"∠ABC 90°"},max:90,disabled:r(I),Tips:r(be)},null,8,["canvas","value","onChange","disabled","Tips"]),se("canvas",{id:r(z)},null,8,_e)]),_:1},8,["canvas"]))}});export{Ce as default};
