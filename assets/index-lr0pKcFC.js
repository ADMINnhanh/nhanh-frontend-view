import{f as _n,g as it,h as y,d as be,i as Dt,r as le,w as Tt,j as Ge,k as he,l as fo,m as H,n as K,p as ue,q as de,s as at,u as Ke,v as $e,x as po,y as go,z as kn,A as _e,B as Vt,C as gr,D as Ar,E as Ir,F as Cn,G as _t,H as $t,I as Sn,J as Fe,K as vo,L as kt,M as He,N as ar,S as Rn,O as ut,V as mo,P as Pe,Q as dr,R as qe,T as Ae,U as We,W as zn,X as ct,Y as tt,Z as dt,$ as yt,a0 as nt,a1 as Ot,a2 as xt,a3 as Wt,a4 as Er,a5 as Pr,a6 as Or,a7 as Bn,a8 as An,a9 as bo,aa as In,ab as Tr,ac as wo,ad as yo,ae as xo,af as _o,ag as sr,ah as Dr,ai as ko,aj as Ue,ak as Jr,al as Co,am as En,an as So,ao as Ro,ap as zo,aq as Pn,ar as Bo,as as Ao,at as $r,au as Io,av as Eo,aw as Po,ax as Xt,ay as Bt,az as On,aA as Tn,aB as Dn,aC as $n,aD as Oo,aE as Lr,aF as To,aG as yr,aH as Je,aI as xr,aJ as Ln,aK as Do,aL as Fn,aM as Qr,aN as $o,aO as Lo,o as et,c as Pt,a as Ze,aP as lr,aQ as Un,aR as Fo,aS as Ne,aT as De,aU as xe,aV as ot,aW as _r,aX as Uo,aY as Mo,aZ as No,a_ as kr,a$ as jo,t as Cr,b0 as Wo,b1 as Vo,_ as Ho}from"./index-BDaFlk6A.js";import{_ as Wr,a as en}from"./Utility-DQfYChMj.js";import{u as Vr,N as tn,a as Zo,A as qo}from"./Suffix-1DqlJHZ1.js";function Mn(e,h,t){h/=100,t/=100;const u=h*Math.min(t,1-t)+t;return[e,u?(2-2*t/u)*100:0,u*100]}function ur(e,h,t){h/=100,t/=100;const u=t-t*h/2,s=Math.min(u,1-u);return[e,s?(t-u)/s*100:0,u*100]}function st(e,h,t){h/=100,t/=100;let u=(s,n=(s+e/60)%6)=>t-t*h*Math.max(Math.min(n,4-n,1),0);return[u(5)*255,u(3)*255,u(1)*255]}function Fr(e,h,t){e/=255,h/=255,t/=255;let u=Math.max(e,h,t),s=u-Math.min(e,h,t),n=s&&(u==e?(h-t)/s:u==h?2+(t-e)/s:4+(e-h)/s);return[60*(n<0?n+6:n),u&&s/u*100,u*100]}function Ur(e,h,t){e/=255,h/=255,t/=255;let u=Math.max(e,h,t),s=u-Math.min(e,h,t),n=1-Math.abs(u+u-s-1),i=s&&(u==e?(h-t)/s:u==h?2+(t-e)/s:4+(e-h)/s);return[60*(i<0?i+6:i),n?s/n*100:0,(u+u-s)*50]}function Mr(e,h,t){h/=100,t/=100;let u=h*Math.min(t,1-t),s=(n,i=(n+e/30)%12)=>t-u*Math.max(Math.min(i-3,9-i,1),-1);return[s(0)*255,s(8)*255,s(4)*255]}function Nn(e,h){if(!e)return;const t=document.createElement("a");t.href=e,h!==void 0&&(t.download=h),document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Xo(e,h,t,u){for(var s=-1,n=e==null?0:e.length;++s<n;)t=h(t,e[s],s,e);return t}function Go(e){return function(h){return e==null?void 0:e[h]}}var Yo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ko=Go(Yo),Jo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qo="\\u0300-\\u036f",ea="\\ufe20-\\ufe2f",ta="\\u20d0-\\u20ff",ra=Qo+ea+ta,na="["+ra+"]",ia=RegExp(na,"g");function oa(e){return e=_n(e),e&&e.replace(Jo,Ko).replace(ia,"")}var aa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function sa(e){return e.match(aa)||[]}var la=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function ua(e){return la.test(e)}var jn="\\ud800-\\udfff",ca="\\u0300-\\u036f",da="\\ufe20-\\ufe2f",ha="\\u20d0-\\u20ff",fa=ca+da+ha,Wn="\\u2700-\\u27bf",Vn="a-z\\xdf-\\xf6\\xf8-\\xff",pa="\\xac\\xb1\\xd7\\xf7",ga="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",va="\\u2000-\\u206f",ma=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hn="A-Z\\xc0-\\xd6\\xd8-\\xde",ba="\\ufe0e\\ufe0f",Zn=pa+ga+va+ma,qn="['’]",rn="["+Zn+"]",wa="["+fa+"]",Xn="\\d+",ya="["+Wn+"]",Gn="["+Vn+"]",Yn="[^"+jn+Zn+Xn+Wn+Vn+Hn+"]",xa="\\ud83c[\\udffb-\\udfff]",_a="(?:"+wa+"|"+xa+")",ka="[^"+jn+"]",Kn="(?:\\ud83c[\\udde6-\\uddff]){2}",Jn="[\\ud800-\\udbff][\\udc00-\\udfff]",It="["+Hn+"]",Ca="\\u200d",nn="(?:"+Gn+"|"+Yn+")",Sa="(?:"+It+"|"+Yn+")",on="(?:"+qn+"(?:d|ll|m|re|s|t|ve))?",an="(?:"+qn+"(?:D|LL|M|RE|S|T|VE))?",Qn=_a+"?",ei="["+ba+"]?",Ra="(?:"+Ca+"(?:"+[ka,Kn,Jn].join("|")+")"+ei+Qn+")*",za="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ba="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Aa=ei+Qn+Ra,Ia="(?:"+[ya,Kn,Jn].join("|")+")"+Aa,Ea=RegExp([It+"?"+Gn+"+"+on+"(?="+[rn,It,"$"].join("|")+")",Sa+"+"+an+"(?="+[rn,It+nn,"$"].join("|")+")",It+"?"+nn+"+"+on,It+"+"+an,Ba,za,Xn,Ia].join("|"),"g");function Pa(e){return e.match(Ea)||[]}function Oa(e,h,t){return e=_n(e),h=h,h===void 0?ua(e)?Pa(e):sa(e):e.match(h)||[]}var Ta="['’]",Da=RegExp(Ta,"g");function $a(e){return function(h){return Xo(Oa(oa(h).replace(Da,"")),e,"")}}var La=$a(function(e,h,t){return e+(t?"-":"")+h.toLowerCase()});const Fa=it("attach",y("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},y("g",{fill:"currentColor","fill-rule":"nonzero"},y("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),ti=be({name:"Eye",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},y("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),y("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),Ua=be({name:"EyeOff",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},y("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),y("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),y("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),y("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),y("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Ma=it("trash",y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},y("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),y("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),y("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),y("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),ri=it("download",y("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},y("g",{fill:"currentColor","fill-rule":"nonzero"},y("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Na=it("cancel",y("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},y("g",{fill:"currentColor","fill-rule":"nonzero"},y("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),ja=it("retry",y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},y("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),y("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Wa=it("rotateClockwise",y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),y("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Va=it("rotateClockwise",y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),y("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Ha=it("zoomIn",y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),y("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Za=it("zoomOut",y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),y("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),qa=be({name:"ResizeSmall",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},y("g",{fill:"none"},y("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),ni=Dt("n-input");function Xa(e){let h=0;for(const t of e)h++;return h}function Qt(e){return e===""||e==null}function Ga(e){const h=le(null);function t(){const{value:n}=e;if(!(n!=null&&n.focus)){s();return}const{selectionStart:i,selectionEnd:r,value:o}=n;if(i==null||r==null){s();return}h.value={start:i,end:r,beforeText:o.slice(0,i),afterText:o.slice(r)}}function u(){var n;const{value:i}=h,{value:r}=e;if(!i||!r)return;const{value:o}=r,{start:l,beforeText:c,afterText:v}=i;let b=o.length;if(o.endsWith(v))b=o.length-v.length;else if(o.startsWith(c))b=c.length;else{const f=c[l-1],w=o.indexOf(f,l-1);w!==-1&&(b=w+1)}(n=r.setSelectionRange)===null||n===void 0||n.call(r,b,b)}function s(){h.value=null}return Tt(e,s),{recordCursor:t,restoreCursor:u}}const sn=be({name:"InputWordCount",setup(e,{slots:h}){const{mergedValueRef:t,maxlengthRef:u,mergedClsPrefixRef:s,countGraphemesRef:n}=Ge(ni),i=he(()=>{const{value:r}=t;return r===null||Array.isArray(r)?0:(n.value||Xa)(r)});return()=>{const{value:r}=u,{value:o}=t;return y("span",{class:`${s.value}-input-word-count`},fo(h.default,{value:o===null||Array.isArray(o)?"":o},()=>[r===void 0?i.value:`${i.value} / ${r}`]))}}}),Ya=H("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[K("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),K("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),K("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[ue("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),ue("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),ue("&:-webkit-autofill ~",[K("placeholder","display: none;")])]),de("round",[at("textarea","border-radius: calc(var(--n-height) / 2);")]),K("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[ue("span",`
 width: 100%;
 display: inline-block;
 `)]),de("textarea",[K("placeholder","overflow: visible;")]),at("autosize","width: 100%;"),de("autosize",[K("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),H("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),K("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),K("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[ue("&[type=password]::-ms-reveal","display: none;"),ue("+",[K("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),at("textarea",[K("placeholder","white-space: nowrap;")]),K("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),de("textarea","width: 100%;",[H("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),de("resizable",[H("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),K("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),K("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),de("pair",[K("input-el, placeholder","text-align: center;"),K("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[H("icon",`
 color: var(--n-icon-color);
 `),H("base-icon",`
 color: var(--n-icon-color);
 `)])]),de("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[K("border","border: var(--n-border-disabled);"),K("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),K("placeholder","color: var(--n-placeholder-color-disabled);"),K("separator","color: var(--n-text-color-disabled);",[H("icon",`
 color: var(--n-icon-color-disabled);
 `),H("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),H("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),K("suffix, prefix","color: var(--n-text-color-disabled);",[H("icon",`
 color: var(--n-icon-color-disabled);
 `),H("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),at("disabled",[K("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[ue("&:hover",`
 color: var(--n-icon-color-hover);
 `),ue("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),ue("&:hover",[K("state-border","border: var(--n-border-hover);")]),de("focus","background-color: var(--n-color-focus);",[K("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),K("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),K("state-border",`
 border-color: #0000;
 z-index: 1;
 `),K("prefix","margin-right: 4px;"),K("suffix",`
 margin-left: 4px;
 `),K("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[H("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),H("base-clear",`
 font-size: var(--n-icon-size);
 `,[K("placeholder",[H("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),ue(">",[H("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),H("base-icon",`
 font-size: var(--n-icon-size);
 `)]),H("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>de(`${e}-status`,[at("disabled",[H("base-loading",`
 color: var(--n-loading-color-${e})
 `),K("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),K("state-border",`
 border: var(--n-border-${e});
 `),ue("&:hover",[K("state-border",`
 border: var(--n-border-hover-${e});
 `)]),ue("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[K("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),de("focus",`
 background-color: var(--n-color-focus-${e});
 `,[K("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),Ka=H("input",[de("disabled",[K("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),Ja=Object.assign(Object.assign({},$e.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),ii=be({name:"Input",props:Ja,setup(e){const{mergedClsPrefixRef:h,mergedBorderedRef:t,inlineThemeDisabled:u,mergedRtlRef:s}=Ke(e),n=$e("Input","-input",Ya,po,e,h);go&&kn("-input-safari",Ka,h);const i=le(null),r=le(null),o=le(null),l=le(null),c=le(null),v=le(null),b=le(null),f=Ga(b),w=le(null),{localeRef:g}=Vr("Input"),x=le(e.defaultValue),m=_e(e,"value"),_=Vt(m,x),R=gr(e),{mergedSizeRef:A,mergedDisabledRef:S,mergedStatusRef:$}=R,O=le(!1),L=le(!1),B=le(!1),W=le(!1);let J=null;const C=he(()=>{const{placeholder:E,pair:q}=e;return q?Array.isArray(E)?E:E===void 0?["",""]:[E,E]:E===void 0?[g.value.placeholder]:[E]}),U=he(()=>{const{value:E}=B,{value:q}=_,{value:ce}=C;return!E&&(Qt(q)||Array.isArray(q)&&Qt(q[0]))&&ce[0]}),d=he(()=>{const{value:E}=B,{value:q}=_,{value:ce}=C;return!E&&ce[1]&&(Qt(q)||Array.isArray(q)&&Qt(q[1]))}),M=Ar(()=>e.internalForceFocus||O.value),re=Ar(()=>{if(S.value||e.readonly||!e.clearable||!M.value&&!L.value)return!1;const{value:E}=_,{value:q}=M;return e.pair?!!(Array.isArray(E)&&(E[0]||E[1]))&&(L.value||q):!!E&&(L.value||q)}),V=he(()=>{const{showPasswordOn:E}=e;if(E)return E;if(e.showPasswordToggle)return"click"}),ne=le(!1),X=he(()=>{const{textDecoration:E}=e;return E?Array.isArray(E)?E.map(q=>({textDecoration:q})):[{textDecoration:E}]:["",""]}),ae=le(void 0),F=()=>{var E,q;if(e.type==="textarea"){const{autosize:ce}=e;if(ce&&(ae.value=(q=(E=w.value)===null||E===void 0?void 0:E.$el)===null||q===void 0?void 0:q.offsetWidth),!r.value||typeof ce=="boolean")return;const{paddingTop:Re,paddingBottom:Ee,lineHeight:Ce}=window.getComputedStyle(r.value),gt=Number(Re.slice(0,-2)),vt=Number(Ee.slice(0,-2)),mt=Number(Ce.slice(0,-2)),{value:Ut}=o;if(!Ut)return;if(ce.minRows){const Mt=Math.max(ce.minRows,1),wr=`${gt+vt+mt*Mt}px`;Ut.style.minHeight=wr}if(ce.maxRows){const Mt=`${gt+vt+mt*ce.maxRows}px`;Ut.style.maxHeight=Mt}}},D=he(()=>{const{maxlength:E}=e;return E===void 0?void 0:Number(E)});Ir(()=>{const{value:E}=_;Array.isArray(E)||br(E)});const se=Cn().proxy;function ee(E,q){const{onUpdateValue:ce,"onUpdate:value":Re,onInput:Ee}=e,{nTriggerFormInput:Ce}=R;ce&&Ae(ce,E,q),Re&&Ae(Re,E,q),Ee&&Ae(Ee,E,q),x.value=E,Ce()}function Y(E,q){const{onChange:ce}=e,{nTriggerFormChange:Re}=R;ce&&Ae(ce,E,q),x.value=E,Re()}function fe(E){const{onBlur:q}=e,{nTriggerFormBlur:ce}=R;q&&Ae(q,E),ce()}function Se(E){const{onFocus:q}=e,{nTriggerFormFocus:ce}=R;q&&Ae(q,E),ce()}function pe(E){const{onClear:q}=e;q&&Ae(q,E)}function me(E){const{onInputBlur:q}=e;q&&Ae(q,E)}function Be(E){const{onInputFocus:q}=e;q&&Ae(q,E)}function ke(){const{onDeactivate:E}=e;E&&Ae(E)}function Oe(){const{onActivate:E}=e;E&&Ae(E)}function te(E){const{onClick:q}=e;q&&Ae(q,E)}function a(E){const{onWrapperFocus:q}=e;q&&Ae(q,E)}function I(E){const{onWrapperBlur:q}=e;q&&Ae(q,E)}function T(){B.value=!0}function k(E){B.value=!1,E.target===v.value?p(E,1):p(E,0)}function p(E,q=0,ce="input"){const Re=E.target.value;if(br(Re),E instanceof InputEvent&&!E.isComposing&&(B.value=!1),e.type==="textarea"){const{value:Ce}=w;Ce&&Ce.syncUnifiedContainer()}if(J=Re,B.value)return;f.recordCursor();const Ee=z(Re);if(Ee)if(!e.pair)ce==="input"?ee(Re,{source:q}):Y(Re,{source:q});else{let{value:Ce}=_;Array.isArray(Ce)?Ce=[Ce[0],Ce[1]]:Ce=["",""],Ce[q]=Re,ce==="input"?ee(Ce,{source:q}):Y(Ce,{source:q})}se.$forceUpdate(),Ee||dr(f.restoreCursor)}function z(E){const{countGraphemes:q,maxlength:ce,minlength:Re}=e;if(q){let Ce;if(ce!==void 0&&(Ce===void 0&&(Ce=q(E)),Ce>Number(ce))||Re!==void 0&&(Ce===void 0&&(Ce=q(E)),Ce<Number(ce)))return!1}const{allowInput:Ee}=e;return typeof Ee=="function"?Ee(E):!0}function N(E){me(E),E.relatedTarget===i.value&&ke(),E.relatedTarget!==null&&(E.relatedTarget===c.value||E.relatedTarget===v.value||E.relatedTarget===r.value)||(W.value=!1),Q(E,"blur"),b.value=null}function j(E,q){Be(E),O.value=!0,W.value=!0,Oe(),Q(E,"focus"),q===0?b.value=c.value:q===1?b.value=v.value:q===2&&(b.value=r.value)}function P(E){e.passivelyActivated&&(I(E),Q(E,"blur"))}function Z(E){e.passivelyActivated&&(O.value=!0,a(E),Q(E,"focus"))}function Q(E,q){E.relatedTarget!==null&&(E.relatedTarget===c.value||E.relatedTarget===v.value||E.relatedTarget===r.value||E.relatedTarget===i.value)||(q==="focus"?(Se(E),O.value=!0):q==="blur"&&(fe(E),O.value=!1))}function G(E,q){p(E,q,"change")}function oe(E){te(E)}function ye(E){pe(E),ge()}function ge(){e.pair?(ee(["",""],{source:"clear"}),Y(["",""],{source:"clear"})):(ee("",{source:"clear"}),Y("",{source:"clear"}))}function Le(E){const{onMousedown:q}=e;q&&q(E);const{tagName:ce}=E.target;if(ce!=="INPUT"&&ce!=="TEXTAREA"){if(e.resizable){const{value:Re}=i;if(Re){const{left:Ee,top:Ce,width:gt,height:vt}=Re.getBoundingClientRect(),mt=14;if(Ee+gt-mt<E.clientX&&E.clientX<Ee+gt&&Ce+vt-mt<E.clientY&&E.clientY<Ce+vt)return}}E.preventDefault(),O.value||Gt()}}function ht(){var E;L.value=!0,e.type==="textarea"&&((E=w.value)===null||E===void 0||E.handleMouseEnterWrapper())}function Me(){var E;L.value=!1,e.type==="textarea"&&((E=w.value)===null||E===void 0||E.handleMouseLeaveWrapper())}function ft(){S.value||V.value==="click"&&(ne.value=!ne.value)}function Ie(E){if(S.value)return;E.preventDefault();const q=Re=>{Re.preventDefault(),We("mouseup",document,q)};if(qe("mouseup",document,q),V.value!=="mousedown")return;ne.value=!0;const ce=()=>{ne.value=!1,We("mouseup",document,ce)};qe("mouseup",document,ce)}function Ct(E){e.onKeyup&&Ae(e.onKeyup,E)}function Ft(E){switch(e.onKeydown&&Ae(e.onKeydown,E),E.key){case"Escape":St();break;case"Enter":Ve(E);break}}function Ve(E){var q,ce;if(e.passivelyActivated){const{value:Re}=W;if(Re){e.internalDeactivateOnEnter&&St();return}E.preventDefault(),e.type==="textarea"?(q=r.value)===null||q===void 0||q.focus():(ce=c.value)===null||ce===void 0||ce.focus()}}function St(){e.passivelyActivated&&(W.value=!1,dr(()=>{var E;(E=i.value)===null||E===void 0||E.focus()}))}function Gt(){var E,q,ce;S.value||(e.passivelyActivated?(E=i.value)===null||E===void 0||E.focus():((q=r.value)===null||q===void 0||q.focus(),(ce=c.value)===null||ce===void 0||ce.focus()))}function vr(){var E;!((E=i.value)===null||E===void 0)&&E.contains(document.activeElement)&&document.activeElement.blur()}function mr(){var E,q;(E=r.value)===null||E===void 0||E.select(),(q=c.value)===null||q===void 0||q.select()}function Yt(){S.value||(r.value?r.value.focus():c.value&&c.value.focus())}function pt(){const{value:E}=i;E!=null&&E.contains(document.activeElement)&&E!==document.activeElement&&St()}function Rt(E){if(e.type==="textarea"){const{value:q}=r;q==null||q.scrollTo(E)}else{const{value:q}=c;q==null||q.scrollTo(E)}}function br(E){const{type:q,pair:ce,autosize:Re}=e;if(!ce&&Re)if(q==="textarea"){const{value:Ee}=o;Ee&&(Ee.textContent=`${E??""}\r
`)}else{const{value:Ee}=l;Ee&&(E?Ee.textContent=E:Ee.innerHTML="&nbsp;")}}function Ci(){F()}const Yr=le({top:"0"});function Si(E){var q;const{scrollTop:ce}=E.target;Yr.value.top=`${-ce}px`,(q=w.value)===null||q===void 0||q.syncUnifiedContainer()}let Kt=null;_t(()=>{const{autosize:E,type:q}=e;E&&q==="textarea"?Kt=Tt(_,ce=>{!Array.isArray(ce)&&ce!==J&&br(ce)}):Kt==null||Kt()});let Jt=null;_t(()=>{e.type==="textarea"?Jt=Tt(_,E=>{var q;!Array.isArray(E)&&E!==J&&((q=w.value)===null||q===void 0||q.syncUnifiedContainer())}):Jt==null||Jt()}),$t(ni,{mergedValueRef:_,maxlengthRef:D,mergedClsPrefixRef:h,countGraphemesRef:_e(e,"countGraphemes")});const Ri={wrapperElRef:i,inputElRef:c,textareaElRef:r,isCompositing:B,clear:ge,focus:Gt,blur:vr,select:mr,deactivate:pt,activate:Yt,scrollTo:Rt},zi=Sn("Input",s,h),Kr=he(()=>{const{value:E}=A,{common:{cubicBezierEaseInOut:q},self:{color:ce,borderRadius:Re,textColor:Ee,caretColor:Ce,caretColorError:gt,caretColorWarning:vt,textDecorationColor:mt,border:Ut,borderDisabled:Mt,borderHover:wr,borderFocus:Bi,placeholderColor:Ai,placeholderColorDisabled:Ii,lineHeightTextarea:Ei,colorDisabled:Pi,colorFocus:Oi,textColorDisabled:Ti,boxShadowFocus:Di,iconSize:$i,colorFocusWarning:Li,boxShadowFocusWarning:Fi,borderWarning:Ui,borderFocusWarning:Mi,borderHoverWarning:Ni,colorFocusError:ji,boxShadowFocusError:Wi,borderError:Vi,borderFocusError:Hi,borderHoverError:Zi,clearSize:qi,clearColor:Xi,clearColorHover:Gi,clearColorPressed:Yi,iconColor:Ki,iconColorDisabled:Ji,suffixTextColor:Qi,countTextColor:eo,countTextColorDisabled:to,iconColorHover:ro,iconColorPressed:no,loadingColor:io,loadingColorError:oo,loadingColorWarning:ao,[Fe("padding",E)]:so,[Fe("fontSize",E)]:lo,[Fe("height",E)]:uo}}=n.value,{left:co,right:ho}=vo(so);return{"--n-bezier":q,"--n-count-text-color":eo,"--n-count-text-color-disabled":to,"--n-color":ce,"--n-font-size":lo,"--n-border-radius":Re,"--n-height":uo,"--n-padding-left":co,"--n-padding-right":ho,"--n-text-color":Ee,"--n-caret-color":Ce,"--n-text-decoration-color":mt,"--n-border":Ut,"--n-border-disabled":Mt,"--n-border-hover":wr,"--n-border-focus":Bi,"--n-placeholder-color":Ai,"--n-placeholder-color-disabled":Ii,"--n-icon-size":$i,"--n-line-height-textarea":Ei,"--n-color-disabled":Pi,"--n-color-focus":Oi,"--n-text-color-disabled":Ti,"--n-box-shadow-focus":Di,"--n-loading-color":io,"--n-caret-color-warning":vt,"--n-color-focus-warning":Li,"--n-box-shadow-focus-warning":Fi,"--n-border-warning":Ui,"--n-border-focus-warning":Mi,"--n-border-hover-warning":Ni,"--n-loading-color-warning":ao,"--n-caret-color-error":gt,"--n-color-focus-error":ji,"--n-box-shadow-focus-error":Wi,"--n-border-error":Vi,"--n-border-focus-error":Hi,"--n-border-hover-error":Zi,"--n-loading-color-error":oo,"--n-clear-color":Xi,"--n-clear-size":qi,"--n-clear-color-hover":Gi,"--n-clear-color-pressed":Yi,"--n-icon-color":Ki,"--n-icon-color-hover":ro,"--n-icon-color-pressed":no,"--n-icon-color-disabled":Ji,"--n-suffix-text-color":Qi}}),zt=u?kt("input",he(()=>{const{value:E}=A;return E[0]}),Kr,e):void 0;return Object.assign(Object.assign({},Ri),{wrapperElRef:i,inputElRef:c,inputMirrorElRef:l,inputEl2Ref:v,textareaElRef:r,textareaMirrorElRef:o,textareaScrollbarInstRef:w,rtlEnabled:zi,uncontrolledValue:x,mergedValue:_,passwordVisible:ne,mergedPlaceholder:C,showPlaceholder1:U,showPlaceholder2:d,mergedFocus:M,isComposing:B,activated:W,showClearButton:re,mergedSize:A,mergedDisabled:S,textDecorationStyle:X,mergedClsPrefix:h,mergedBordered:t,mergedShowPasswordOn:V,placeholderStyle:Yr,mergedStatus:$,textAreaScrollContainerWidth:ae,handleTextAreaScroll:Si,handleCompositionStart:T,handleCompositionEnd:k,handleInput:p,handleInputBlur:N,handleInputFocus:j,handleWrapperBlur:P,handleWrapperFocus:Z,handleMouseEnter:ht,handleMouseLeave:Me,handleMouseDown:Le,handleChange:G,handleClick:oe,handleClear:ye,handlePasswordToggleClick:ft,handlePasswordToggleMousedown:Ie,handleWrapperKeydown:Ft,handleWrapperKeyup:Ct,handleTextAreaMirrorResize:Ci,getTextareaScrollContainer:()=>r.value,mergedTheme:n,cssVars:u?void 0:Kr,themeClass:zt==null?void 0:zt.themeClass,onRender:zt==null?void 0:zt.onRender})},render(){var e,h;const{mergedClsPrefix:t,mergedStatus:u,themeClass:s,type:n,countGraphemes:i,onRender:r}=this,o=this.$slots;return r==null||r(),y("div",{ref:"wrapperElRef",class:[`${t}-input`,s,u&&`${t}-input--${u}-status`,{[`${t}-input--rtl`]:this.rtlEnabled,[`${t}-input--disabled`]:this.mergedDisabled,[`${t}-input--textarea`]:n==="textarea",[`${t}-input--resizable`]:this.resizable&&!this.autosize,[`${t}-input--autosize`]:this.autosize,[`${t}-input--round`]:this.round&&n!=="textarea",[`${t}-input--pair`]:this.pair,[`${t}-input--focus`]:this.mergedFocus,[`${t}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},y("div",{class:`${t}-input-wrapper`},He(o.prefix,l=>l&&y("div",{class:`${t}-input__prefix`},l)),n==="textarea"?y(Rn,{ref:"textareaScrollbarInstRef",class:`${t}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var l,c;const{textAreaScrollContainerWidth:v}=this,b={width:this.autosize&&v&&`${v}px`};return y(ut,null,y("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${t}-input__textarea-el`,(l=this.inputProps)===null||l===void 0?void 0:l.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:i?void 0:this.maxlength,minlength:i?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(c=this.inputProps)===null||c===void 0?void 0:c.style,b],onBlur:this.handleInputBlur,onFocus:f=>{this.handleInputFocus(f,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?y("div",{class:`${t}-input__placeholder`,style:[this.placeholderStyle,b],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?y(mo,{onResize:this.handleTextAreaMirrorResize},{default:()=>y("div",{ref:"textareaMirrorElRef",class:`${t}-input__textarea-mirror`,key:"mirror"})}):null)}}):y("div",{class:`${t}-input__input`},y("input",Object.assign({type:n==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":n},this.inputProps,{ref:"inputElRef",class:[`${t}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(h=this.inputProps)===null||h===void 0?void 0:h.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:i?void 0:this.maxlength,minlength:i?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:l=>{this.handleInputFocus(l,0)},onInput:l=>{this.handleInput(l,0)},onChange:l=>{this.handleChange(l,0)}})),this.showPlaceholder1?y("div",{class:`${t}-input__placeholder`},y("span",null,this.mergedPlaceholder[0])):null,this.autosize?y("div",{class:`${t}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&He(o.suffix,l=>l||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?y("div",{class:`${t}-input__suffix`},[He(o["clear-icon-placeholder"],c=>(this.clearable||c)&&y(tn,{clsPrefix:t,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>c,icon:()=>{var v,b;return(b=(v=this.$slots)["clear-icon"])===null||b===void 0?void 0:b.call(v)}})),this.internalLoadingBeforeSuffix?null:l,this.loading!==void 0?y(Zo,{clsPrefix:t,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?l:null,this.showCount&&this.type!=="textarea"?y(sn,null,{default:c=>{var v;return(v=o.count)===null||v===void 0?void 0:v.call(o,c)}}):null,this.mergedShowPasswordOn&&this.type==="password"?y("div",{class:`${t}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?ar(o["password-visible-icon"],()=>[y(Pe,{clsPrefix:t},{default:()=>y(ti,null)})]):ar(o["password-invisible-icon"],()=>[y(Pe,{clsPrefix:t},{default:()=>y(Ua,null)})])):null]):null)),this.pair?y("span",{class:`${t}-input__separator`},ar(o.separator,()=>[this.separator])):null,this.pair?y("div",{class:`${t}-input-wrapper`},y("div",{class:`${t}-input__input`},y("input",{ref:"inputEl2Ref",type:this.type,class:`${t}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:i?void 0:this.maxlength,minlength:i?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:l=>{this.handleInputFocus(l,1)},onInput:l=>{this.handleInput(l,1)},onChange:l=>{this.handleChange(l,1)}}),this.showPlaceholder2?y("div",{class:`${t}-input__placeholder`},y("span",null,this.mergedPlaceholder[1])):null),He(o.suffix,l=>(this.clearable||l)&&y("div",{class:`${t}-input__suffix`},[this.clearable&&y(tn,{clsPrefix:t,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var c;return(c=o["clear-icon"])===null||c===void 0?void 0:c.call(o)},placeholder:()=>{var c;return(c=o["clear-icon-placeholder"])===null||c===void 0?void 0:c.call(o)}}),l]))):null,this.mergedBordered?y("div",{class:`${t}-input__border`}):null,this.mergedBordered?y("div",{class:`${t}-input__state-border`}):null,this.showCount&&n==="textarea"?y(sn,null,{default:l=>{var c;const{renderCount:v}=this;return v?v(l):(c=o.count)===null||c===void 0?void 0:c.call(o,l)}}):null)}}),Qa=H("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[ue(">",[H("input",[ue("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),ue("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),H("button",[ue("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[K("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),ue("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[K("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),ue("*",[ue("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[ue(">",[H("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),H("base-selection",[H("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),H("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),K("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),ue("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[ue(">",[H("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),H("base-selection",[H("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),H("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),K("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),es={},ts=be({name:"InputGroup",props:es,setup(e){const{mergedClsPrefixRef:h}=Ke(e);return kn("-input-group",Qa,h),{mergedClsPrefix:h}},render(){const{mergedClsPrefix:e}=this;return y("div",{class:`${e}-input-group`},this.$slots)}}),rs=zn&&"loading"in document.createElement("img");function ns(e={}){var h;const{root:t=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(h=e.threshold)!==null&&h!==void 0?h:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof t=="string"?document.querySelector(t):t)||document.documentElement})}}const Sr=new WeakMap,Rr=new WeakMap,zr=new WeakMap,is=(e,h,t)=>{if(!e)return()=>{};const u=ns(h),{root:s}=u.options;let n;const i=Sr.get(s);i?n=i:(n=new Map,Sr.set(s,n));let r,o;n.has(u.hash)?(o=n.get(u.hash),o[1].has(e)||(r=o[0],o[1].add(e),r.observe(e))):(r=new IntersectionObserver(v=>{v.forEach(b=>{if(b.isIntersecting){const f=Rr.get(b.target),w=zr.get(b.target);f&&f(),w&&(w.value=!0)}})},u.options),r.observe(e),o=[r,new Set([e])],n.set(u.hash,o));let l=!1;const c=()=>{l||(Rr.delete(e),zr.delete(e),l=!0,o[1].has(e)&&(o[0].unobserve(e),o[1].delete(e)),o[1].size<=0&&n.delete(u.hash),n.size||Sr.delete(s))};return Rr.set(e,c),zr.set(e,t),c};function os(e,h){switch(e[0]){case"hex":return h?"#000000FF":"#000000";case"rgb":return h?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return h?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return h?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}function Ht(e){return e===null?null:/^ *#/.test(e)?"hex":e.includes("rgb")?"rgb":e.includes("hsl")?"hsl":e.includes("hsv")?"hsv":null}function as(e){return e=Math.round(e),e>=360?359:e<0?0:e}function ss(e){return e=Math.round(e*100)/100,e>1?1:e<0?0:e}const ls={rgb:{hex(e){return ct(tt(e))},hsl(e){const[h,t,u,s]=tt(e);return dt([...Ur(h,t,u),s])},hsv(e){const[h,t,u,s]=tt(e);return yt([...Fr(h,t,u),s])}},hex:{rgb(e){return nt(tt(e))},hsl(e){const[h,t,u,s]=tt(e);return dt([...Ur(h,t,u),s])},hsv(e){const[h,t,u,s]=tt(e);return yt([...Fr(h,t,u),s])}},hsl:{hex(e){const[h,t,u,s]=Ot(e);return ct([...Mr(h,t,u),s])},rgb(e){const[h,t,u,s]=Ot(e);return nt([...Mr(h,t,u),s])},hsv(e){const[h,t,u,s]=Ot(e);return yt([...Mn(h,t,u),s])}},hsv:{hex(e){const[h,t,u,s]=xt(e);return ct([...st(h,t,u),s])},rgb(e){const[h,t,u,s]=xt(e);return nt([...st(h,t,u),s])},hsl(e){const[h,t,u,s]=xt(e);return dt([...ur(h,t,u),s])}}};function oi(e,h,t){return t=t||Ht(e),t?t===h?e:ls[t][h](e):null}const At="12px",us=12,bt="6px",cs=6,ds="linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",hs=be({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(e){const h=le(null);function t(n){h.value&&(qe("mousemove",document,u),qe("mouseup",document,s),u(n))}function u(n){const{value:i}=h;if(!i)return;const{width:r,left:o}=i.getBoundingClientRect(),l=as((n.clientX-o-cs)/(r-us)*360);e.onUpdateHue(l)}function s(){var n;We("mousemove",document,u),We("mouseup",document,s),(n=e.onComplete)===null||n===void 0||n.call(e)}return{railRef:h,handleMouseDown:t}},render(){const{clsPrefix:e}=this;return y("div",{class:`${e}-color-picker-slider`,style:{height:At,borderRadius:bt}},y("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:ds,height:At,borderRadius:bt,position:"relative"},onMousedown:this.handleMouseDown},y("div",{style:{position:"absolute",left:bt,right:bt,top:0,bottom:0}},y("div",{class:`${e}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${bt})`,borderRadius:bt,width:At,height:At}},y("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:bt,width:At,height:At}})))))}}),Nt="12px",fs=12,wt="6px",ps=be({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(e){const h=le(null);function t(n){!h.value||!e.rgba||(qe("mousemove",document,u),qe("mouseup",document,s),u(n))}function u(n){const{value:i}=h;if(!i)return;const{width:r,left:o}=i.getBoundingClientRect(),l=(n.clientX-o)/(r-fs);e.onUpdateAlpha(ss(l))}function s(){var n;We("mousemove",document,u),We("mouseup",document,s),(n=e.onComplete)===null||n===void 0||n.call(e)}return{railRef:h,railBackgroundImage:he(()=>{const{rgba:n}=e;return n?`linear-gradient(to right, rgba(${n[0]}, ${n[1]}, ${n[2]}, 0) 0%, rgba(${n[0]}, ${n[1]}, ${n[2]}, 1) 100%)`:""}),handleMouseDown:t}},render(){const{clsPrefix:e}=this;return y("div",{class:`${e}-color-picker-slider`,ref:"railRef",style:{height:Nt,borderRadius:wt},onMousedown:this.handleMouseDown},y("div",{style:{borderRadius:wt,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},y("div",{class:`${e}-color-picker-checkboard`}),y("div",{class:`${e}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&y("div",{style:{position:"absolute",left:wt,right:wt,top:0,bottom:0}},y("div",{class:`${e}-color-picker-handle`,style:{left:`calc(${this.alpha*100}% - ${wt})`,borderRadius:wt,width:Nt,height:Nt}},y("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:nt(this.rgba),borderRadius:wt,width:Nt,height:Nt}}))))}}),er="12px",tr="6px",gs=be({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(e){const h=le(null);function t(n){h.value&&(qe("mousemove",document,u),qe("mouseup",document,s),u(n))}function u(n){const{value:i}=h;if(!i)return;const{width:r,height:o,left:l,bottom:c}=i.getBoundingClientRect(),v=(c-n.clientY)/o,b=(n.clientX-l)/r,f=100*(b>1?1:b<0?0:b),w=100*(v>1?1:v<0?0:v);e.onUpdateSV(f,w)}function s(){var n;We("mousemove",document,u),We("mouseup",document,s),(n=e.onComplete)===null||n===void 0||n.call(e)}return{palleteRef:h,handleColor:he(()=>{const{rgba:n}=e;return n?`rgb(${n[0]}, ${n[1]}, ${n[2]})`:""}),handleMouseDown:t}},render(){const{clsPrefix:e}=this;return y("div",{class:`${e}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},y("div",{class:`${e}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),y("div",{class:`${e}-color-picker-pallete__layer ${e}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&y("div",{class:`${e}-color-picker-handle`,style:{width:er,height:er,borderRadius:tr,left:`calc(${this.displayedSv[0]}% - ${tr})`,bottom:`calc(${this.displayedSv[1]}% - ${tr})`}},y("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:tr,width:er,height:er}})))}}),Hr=Dt("n-color-picker");function vs(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(Number.parseInt(e),255)):!1}function ms(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(Number.parseInt(e),360)):!1}function bs(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(Number.parseInt(e),100)):!1}function ws(e){const h=e.trim();return/^#[0-9a-fA-F]+$/.test(h)?[4,5,7,9].includes(h.length):!1}function ys(e){return/^\d{1,3}\.?\d*%$/.test(e.trim())?Math.max(0,Math.min(Number.parseInt(e)/100,100)):!1}const xs={paddingSmall:"0 4px"},ln=be({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(e){const h=le(""),{themeRef:t}=Ge(Hr,null);_t(()=>{h.value=u()});function u(){const{value:i}=e;if(i===null)return"";const{label:r}=e;return r==="HEX"?i:r==="A"?`${Math.floor(i*100)}%`:String(Math.floor(i))}function s(i){h.value=i}function n(i){let r,o;switch(e.label){case"HEX":o=ws(i),o&&e.onUpdateValue(i),h.value=u();break;case"H":r=ms(i),r===!1?h.value=u():e.onUpdateValue(r);break;case"S":case"L":case"V":r=bs(i),r===!1?h.value=u():e.onUpdateValue(r);break;case"A":r=ys(i),r===!1?h.value=u():e.onUpdateValue(r);break;case"R":case"G":case"B":r=vs(i),r===!1?h.value=u():e.onUpdateValue(r);break}}return{mergedTheme:t,inputValue:h,handleInputChange:n,handleInputUpdateValue:s}},render(){const{mergedTheme:e}=this;return y(ii,{size:"small",placeholder:this.label,theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,builtinThemeOverrides:xs,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:this.label==="A"?"flex-grow: 1.25;":""})}}),_s=be({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup(e){return{handleUnitUpdateValue(h,t){const{showAlpha:u}=e;if(e.mode==="hex"){e.onUpdateValue((u?ct:Wt)(t));return}let s;switch(e.valueArr===null?s=[0,0,0,0]:s=Array.from(e.valueArr),e.mode){case"hsv":s[h]=t,e.onUpdateValue((u?yt:Or)(s));break;case"rgb":s[h]=t,e.onUpdateValue((u?nt:Pr)(s));break;case"hsl":s[h]=t,e.onUpdateValue((u?dt:Er)(s));break}}}},render(){const{clsPrefix:e,modes:h}=this;return y("div",{class:`${e}-color-picker-input`},y("div",{class:`${e}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:h.length===1?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),y(ts,null,{default:()=>{const{mode:t,valueArr:u,showAlpha:s}=this;if(t==="hex"){let n=null;try{n=u===null?null:(s?ct:Wt)(u)}catch{}return y(ln,{label:"HEX",showAlpha:s,value:n,onUpdateValue:i=>{this.handleUnitUpdateValue(0,i)}})}return(t+(s?"a":"")).split("").map((n,i)=>y(ln,{label:n.toUpperCase(),value:u===null?null:u[i],onUpdateValue:r=>{this.handleUnitUpdateValue(i,r)}}))}}))}}),ks=be({name:"ColorPickerTrigger",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(e){const{colorPickerSlots:h,renderLabelRef:t}=Ge(Hr,null);return()=>{const{hsla:u,value:s,clsPrefix:n,onClick:i,disabled:r}=e,o=h.label||t.value;return y("div",{class:[`${n}-color-picker-trigger`,r&&`${n}-color-picker-trigger--disabled`],onClick:r?void 0:i},y("div",{class:`${n}-color-picker-trigger__fill`},y("div",{class:`${n}-color-picker-checkboard`}),y("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:u?dt(u):""}}),s&&u?y("div",{class:`${n}-color-picker-trigger__value`,style:{color:u[2]>50||u[3]<.5?"black":"white"}},o?o(s):s):null))}}});function Cs(e,h){if(h==="hsv"){const[t,u,s,n]=xt(e);return nt([...st(t,u,s),n])}return e}function Ss(e){const h=document.createElement("canvas").getContext("2d");return h?(h.fillStyle=e,h.fillStyle):"#000000"}const Rs=be({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(e){const h=he(()=>e.swatches.map(n=>{const i=Ht(n);return{value:n,mode:i,legalValue:Cs(n,i)}}));function t(n){const{mode:i}=e;let{value:r,mode:o}=n;return o||(o="hex",/^[a-zA-Z]+$/.test(r)?r=Ss(r):(Bn("color-picker",`color ${r} in swatches is invalid.`),r="#000000")),o===i?r:oi(r,i,o)}function u(n){e.onUpdateColor(t(n))}function s(n,i){n.key==="Enter"&&u(i)}return{parsedSwatchesRef:h,handleSwatchSelect:u,handleSwatchKeyDown:s}},render(){const{clsPrefix:e}=this;return y("div",{class:`${e}-color-picker-swatches`},this.parsedSwatchesRef.map(h=>y("div",{class:`${e}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(h)},onKeydown:t=>{this.handleSwatchKeyDown(t,h)}},y("div",{class:`${e}-color-picker-swatch__fill`,style:{background:h.legalValue}}))))}}),zs=be({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:e=>{const h=Ht(e);return!!(!e||h&&h!=="hsv")}},onUpdateColor:{type:Function,required:!0}},setup(e){function h(t){var u;const s=t.target.value;(u=e.onUpdateColor)===null||u===void 0||u.call(e,oi(s.toUpperCase(),e.mode,"hex")),t.stopPropagation()}return{handleChange:h}},render(){const{clsPrefix:e}=this;return y("div",{class:`${e}-color-picker-preview__preview`},y("span",{class:`${e}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),y("input",{class:`${e}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),Bs=ue([H("color-picker",`
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `),H("color-picker-panel",`
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `,[An(),H("input",`
 text-align: center;
 `)]),H("color-picker-checkboard",`
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[ue("&::after",`
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),H("color-picker-slider",`
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `,[K("image",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),ue("&::after",`
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]),H("color-picker-handle",`
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `,[K("fill",`
 box-sizing: border-box;
 border: 2px solid white;
 `)]),H("color-picker-pallete",`
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `,[K("layer",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[de("shadowed",`
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]),H("color-picker-preview",`
 display: flex;
 `,[K("sliders",`
 flex: 1 0 auto;
 `),K("preview",`
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `),K("fill",`
 display: block;
 width: 30px;
 height: 30px;
 `),K("input",`
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]),H("color-picker-input",`
 display: flex;
 align-items: center;
 `,[H("input",`
 flex-grow: 1;
 flex-basis: 0;
 `),K("mode",`
 width: 72px;
 text-align: center;
 `)]),H("color-picker-control",`
 padding: 12px;
 `),H("color-picker-action",`
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `,[H("button","margin-left: 8px;")]),H("color-picker-trigger",`
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `,[K("value",`
 white-space: nowrap;
 position: relative;
 `),K("fill",`
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `),de("disabled","cursor: not-allowed"),H("color-picker-checkboard",`
 border-radius: var(--n-border-radius);
 `,[ue("&::after",`
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]),H("color-picker-swatches",`
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `,[H("color-picker-swatch",`
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `,[K("fill",`
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `),ue("&:focus",`
 outline: none;
 `,[K("fill",[ue("&::after",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]),As=Object.assign(Object.assign({},$e.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:Tr.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,onClear:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Is=be({name:"ColorPicker",props:As,setup(e,{slots:h}){const t=le(null);let u=null;const s=gr(e),{mergedSizeRef:n,mergedDisabledRef:i}=s,{localeRef:r}=Vr("global"),{mergedClsPrefixRef:o,namespaceRef:l,inlineThemeDisabled:c}=Ke(e),v=$e("ColorPicker","-color-picker",Bs,bo,e,o);$t(Hr,{themeRef:v,renderLabelRef:_e(e,"renderLabel"),colorPickerSlots:h});const b=le(e.defaultShow),f=Vt(_e(e,"show"),b);function w(p){const{onUpdateShow:z,"onUpdate:show":N}=e;z&&Ae(z,p),N&&Ae(N,p),b.value=p}const{defaultValue:g}=e,x=le(g===void 0?os(e.modes,e.showAlpha):g),m=Vt(_e(e,"value"),x),_=le([m.value]),R=le(0),A=he(()=>Ht(m.value)),{modes:S}=e,$=le(Ht(m.value)||S[0]||"rgb");function O(){const{modes:p}=e,{value:z}=$,N=p.findIndex(j=>j===z);~N?$.value=p[(N+1)%p.length]:$.value="rgb"}let L,B,W,J,C,U,d,M;const re=he(()=>{const{value:p}=m;if(!p)return null;switch(A.value){case"hsv":return xt(p);case"hsl":return[L,B,W,M]=Ot(p),[...Mn(L,B,W),M];case"rgb":case"hex":return[C,U,d,M]=tt(p),[...Fr(C,U,d),M]}}),V=he(()=>{const{value:p}=m;if(!p)return null;switch(A.value){case"rgb":case"hex":return tt(p);case"hsv":return[L,B,J,M]=xt(p),[...st(L,B,J),M];case"hsl":return[L,B,W,M]=Ot(p),[...Mr(L,B,W),M]}}),ne=he(()=>{const{value:p}=m;if(!p)return null;switch(A.value){case"hsl":return Ot(p);case"hsv":return[L,B,J,M]=xt(p),[...ur(L,B,J),M];case"rgb":case"hex":return[C,U,d,M]=tt(p),[...Ur(C,U,d),M]}}),X=he(()=>{switch($.value){case"rgb":case"hex":return V.value;case"hsv":return re.value;case"hsl":return ne.value}}),ae=le(0),F=le(1),D=le([0,0]);function se(p,z){const{value:N}=re,j=ae.value,P=N?N[3]:1;D.value=[p,z];const{showAlpha:Z}=e;switch($.value){case"hsv":fe((Z?yt:Or)([j,p,z,P]),"cursor");break;case"hsl":fe((Z?dt:Er)([...ur(j,p,z),P]),"cursor");break;case"rgb":fe((Z?nt:Pr)([...st(j,p,z),P]),"cursor");break;case"hex":fe((Z?ct:Wt)([...st(j,p,z),P]),"cursor");break}}function ee(p){ae.value=p;const{value:z}=re;if(!z)return;const[,N,j,P]=z,{showAlpha:Z}=e;switch($.value){case"hsv":fe((Z?yt:Or)([p,N,j,P]),"cursor");break;case"rgb":fe((Z?nt:Pr)([...st(p,N,j),P]),"cursor");break;case"hex":fe((Z?ct:Wt)([...st(p,N,j),P]),"cursor");break;case"hsl":fe((Z?dt:Er)([...ur(p,N,j),P]),"cursor");break}}function Y(p){switch($.value){case"hsv":[L,B,J]=re.value,fe(yt([L,B,J,p]),"cursor");break;case"rgb":[C,U,d]=V.value,fe(nt([C,U,d,p]),"cursor");break;case"hex":[C,U,d]=V.value,fe(ct([C,U,d,p]),"cursor");break;case"hsl":[L,B,W]=ne.value,fe(dt([L,B,W,p]),"cursor");break}F.value=p}function fe(p,z){z==="cursor"?u=p:u=null;const{nTriggerFormChange:N,nTriggerFormInput:j}=s,{onUpdateValue:P,"onUpdate:value":Z}=e;P&&Ae(P,p),Z&&Ae(Z,p),N(),j(),x.value=p}function Se(p){fe(p,"input"),dr(pe)}function pe(p=!0){const{value:z}=m;if(z){const{nTriggerFormChange:N,nTriggerFormInput:j}=s,{onComplete:P}=e;P&&P(z);const{value:Z}=_,{value:Q}=R;p&&(Z.splice(Q+1,Z.length,z),R.value=Q+1),N(),j()}}function me(){const{value:p}=R;p-1<0||(fe(_.value[p-1],"input"),pe(!1),R.value=p-1)}function Be(){const{value:p}=R;p<0||p+1>=_.value.length||(fe(_.value[p+1],"input"),pe(!1),R.value=p+1)}function ke(){fe(null,"input");const{onClear:p}=e;p&&p(),w(!1)}function Oe(){const{value:p}=m,{onConfirm:z}=e;z&&z(p),w(!1)}const te=he(()=>R.value>=1),a=he(()=>{const{value:p}=_;return p.length>1&&R.value<p.length-1});Tt(f,p=>{p||(_.value=[m.value],R.value=0)}),_t(()=>{if(!(u&&u===m.value)){const{value:p}=re;p&&(ae.value=p[0],F.value=p[3],D.value=[p[1],p[2]])}u=null});const I=he(()=>{const{value:p}=n,{common:{cubicBezierEaseInOut:z},self:{textColor:N,color:j,panelFontSize:P,boxShadow:Z,border:Q,borderRadius:G,dividerColor:oe,[Fe("height",p)]:ye,[Fe("fontSize",p)]:ge}}=v.value;return{"--n-bezier":z,"--n-text-color":N,"--n-color":j,"--n-panel-font-size":P,"--n-font-size":ge,"--n-box-shadow":Z,"--n-border":Q,"--n-border-radius":G,"--n-height":ye,"--n-divider-color":oe}}),T=c?kt("color-picker",he(()=>n.value[0]),I,e):void 0;function k(){var p;const{value:z}=V,{value:N}=ae,{internalActions:j,modes:P,actions:Z}=e,{value:Q}=v,{value:G}=o;return y("div",{class:[`${G}-color-picker-panel`,T==null?void 0:T.themeClass.value],onDragstart:oe=>{oe.preventDefault()},style:c?void 0:I.value},y("div",{class:`${G}-color-picker-control`},y(gs,{clsPrefix:G,rgba:z,displayedHue:N,displayedSv:D.value,onUpdateSV:se,onComplete:pe}),y("div",{class:`${G}-color-picker-preview`},y("div",{class:`${G}-color-picker-preview__sliders`},y(hs,{clsPrefix:G,hue:N,onUpdateHue:ee,onComplete:pe}),e.showAlpha?y(ps,{clsPrefix:G,rgba:z,alpha:F.value,onUpdateAlpha:Y,onComplete:pe}):null),e.showPreview?y(zs,{clsPrefix:G,mode:$.value,color:V.value&&Wt(V.value),onUpdateColor:oe=>{fe(oe,"input")}}):null),y(_s,{clsPrefix:G,showAlpha:e.showAlpha,mode:$.value,modes:P,onUpdateMode:O,value:m.value,valueArr:X.value,onUpdateValue:Se}),((p=e.swatches)===null||p===void 0?void 0:p.length)&&y(Rs,{clsPrefix:G,mode:$.value,swatches:e.swatches,onUpdateColor:oe=>{fe(oe,"input")}})),Z!=null&&Z.length?y("div",{class:`${G}-color-picker-action`},Z.includes("confirm")&&y(Ue,{size:"small",onClick:Oe,theme:Q.peers.Button,themeOverrides:Q.peerOverrides.Button},{default:()=>r.value.confirm}),Z.includes("clear")&&y(Ue,{size:"small",onClick:ke,disabled:!m.value,theme:Q.peers.Button,themeOverrides:Q.peerOverrides.Button},{default:()=>r.value.clear})):null,h.action?y("div",{class:`${G}-color-picker-action`},{default:h.action}):j?y("div",{class:`${G}-color-picker-action`},j.includes("undo")&&y(Ue,{size:"small",onClick:me,disabled:!te.value,theme:Q.peers.Button,themeOverrides:Q.peerOverrides.Button},{default:()=>r.value.undo}),j.includes("redo")&&y(Ue,{size:"small",onClick:Be,disabled:!a.value,theme:Q.peers.Button,themeOverrides:Q.peerOverrides.Button},{default:()=>r.value.redo})):null)}return{mergedClsPrefix:o,namespace:l,selfRef:t,hsla:ne,rgba:V,mergedShow:f,mergedDisabled:i,isMounted:In(),adjustedTo:Tr(e),mergedValue:m,handleTriggerClick(){w(!0)},handleClickOutside(p){var z;!((z=t.value)===null||z===void 0)&&z.contains(wo(p))||w(!1)},renderPanel:k,cssVars:c?void 0:I,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){const{$slots:e,mergedClsPrefix:h,onRender:t}=this;return t==null||t(),y("div",{class:[this.themeClass,`${h}-color-picker`],ref:"selfRef",style:this.cssVars},y(yo,null,{default:()=>[y(xo,null,{default:()=>y(ks,{clsPrefix:h,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick},{label:e.label})}),y(_o,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===Tr.tdkey,to:this.adjustedTo},{default:()=>y(sr,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?Dr(this.renderPanel(),[[ko,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}});var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Zr=Object.assign(Object.assign({},$e.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),ai=Dt("n-image"),Ps=y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),Os=y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),Ts=y("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),Ds=ue([ue("body >",[H("image-container","position: fixed;")]),H("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),H("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Jr()]),H("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[H("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Jr()]),H("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[An()]),H("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),H("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[at("preview-disabled",`
 cursor: pointer;
 `),ue("img",`
 border-radius: inherit;
 `)])]),nr=32,si=be({name:"ImagePreview",props:Object.assign(Object.assign({},Zr),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const h=$e("Image","-image",Ds,Co,e,_e(e,"clsPrefix"));let t=null;const u=le(null),s=le(null),n=le(void 0),i=le(!1),r=le(!1),{localeRef:o}=Vr("Image");function l(){const{value:te}=s;if(!t||!te)return;const{style:a}=te,I=t.getBoundingClientRect(),T=I.left+I.width/2,k=I.top+I.height/2;a.transformOrigin=`${T}px ${k}px`}function c(te){var a,I;switch(te.key){case" ":te.preventDefault();break;case"ArrowLeft":(a=e.onPrev)===null||a===void 0||a.call(e);break;case"ArrowRight":(I=e.onNext)===null||I===void 0||I.call(e);break;case"Escape":fe();break}}Tt(i,te=>{te?qe("keydown",document,c):We("keydown",document,c)}),En(()=>{We("keydown",document,c)});let v=0,b=0,f=0,w=0,g=0,x=0,m=0,_=0,R=!1;function A(te){const{clientX:a,clientY:I}=te;f=a-v,w=I-b,Ao(Y)}function S(te){const{mouseUpClientX:a,mouseUpClientY:I,mouseDownClientX:T,mouseDownClientY:k}=te,p=T-a,z=k-I,N=`vertical${z>0?"Top":"Bottom"}`,j=`horizontal${p>0?"Left":"Right"}`;return{moveVerticalDirection:N,moveHorizontalDirection:j,deltaHorizontal:p,deltaVertical:z}}function $(te){const{value:a}=u;if(!a)return{offsetX:0,offsetY:0};const I=a.getBoundingClientRect(),{moveVerticalDirection:T,moveHorizontalDirection:k,deltaHorizontal:p,deltaVertical:z}=te||{};let N=0,j=0;return I.width<=window.innerWidth?N=0:I.left>0?N=(I.width-window.innerWidth)/2:I.right<window.innerWidth?N=-(I.width-window.innerWidth)/2:k==="horizontalRight"?N=Math.min((I.width-window.innerWidth)/2,g-(p??0)):N=Math.max(-((I.width-window.innerWidth)/2),g-(p??0)),I.height<=window.innerHeight?j=0:I.top>0?j=(I.height-window.innerHeight)/2:I.bottom<window.innerHeight?j=-(I.height-window.innerHeight)/2:T==="verticalBottom"?j=Math.min((I.height-window.innerHeight)/2,x-(z??0)):j=Math.max(-((I.height-window.innerHeight)/2),x-(z??0)),{offsetX:N,offsetY:j}}function O(te){We("mousemove",document,A),We("mouseup",document,O);const{clientX:a,clientY:I}=te;R=!1;const T=S({mouseUpClientX:a,mouseUpClientY:I,mouseDownClientX:m,mouseDownClientY:_}),k=$(T);f=k.offsetX,w=k.offsetY,Y()}const L=Ge(ai,null);function B(te){var a,I;if((I=(a=L==null?void 0:L.previewedImgPropsRef.value)===null||a===void 0?void 0:a.onMousedown)===null||I===void 0||I.call(a,te),te.button!==0)return;const{clientX:T,clientY:k}=te;R=!0,v=T-f,b=k-w,g=f,x=w,m=T,_=k,Y(),qe("mousemove",document,A),qe("mouseup",document,O)}const W=1.5;let J=0,C=1,U=0;function d(te){var a,I;(I=(a=L==null?void 0:L.previewedImgPropsRef.value)===null||a===void 0?void 0:a.onDblclick)===null||I===void 0||I.call(a,te);const T=F();C=C===T?1:T,Y()}function M(){C=1,J=0}function re(){var te;M(),U=0,(te=e.onPrev)===null||te===void 0||te.call(e)}function V(){var te;M(),U=0,(te=e.onNext)===null||te===void 0||te.call(e)}function ne(){U-=90,Y()}function X(){U+=90,Y()}function ae(){const{value:te}=u;if(!te)return 1;const{innerWidth:a,innerHeight:I}=window,T=Math.max(1,te.naturalHeight/(I-nr)),k=Math.max(1,te.naturalWidth/(a-nr));return Math.max(3,T*2,k*2)}function F(){const{value:te}=u;if(!te)return 1;const{innerWidth:a,innerHeight:I}=window,T=te.naturalHeight/(I-nr),k=te.naturalWidth/(a-nr);return T<1&&k<1?1:Math.max(T,k)}function D(){const te=ae();C<te&&(J+=1,C=Math.min(te,Math.pow(W,J)),Y())}function se(){if(C>.5){const te=C;J-=1,C=Math.max(.5,Math.pow(W,J));const a=te-C;Y(!1);const I=$();C+=a,Y(!1),C-=a,f=I.offsetX,w=I.offsetY,Y()}}function ee(){const te=n.value;te&&Nn(te,void 0)}function Y(te=!0){var a;const{value:I}=u;if(!I)return;const{style:T}=I,k=Pn((a=L==null?void 0:L.previewedImgPropsRef.value)===null||a===void 0?void 0:a.style);let p="";if(typeof k=="string")p=`${k};`;else for(const N in k)p+=`${La(N)}: ${k[N]};`;const z=`transform-origin: center; transform: translateX(${f}px) translateY(${w}px) rotate(${U}deg) scale(${C});`;R?T.cssText=`${p}cursor: grabbing; transition: none;${z}`:T.cssText=`${p}cursor: grab;${z}${te?"":"transition: none;"}`,te||I.offsetHeight}function fe(){i.value=!i.value,r.value=!0}function Se(){C=F(),J=Math.ceil(Math.log(C)/Math.log(W)),f=0,w=0,Y()}const pe={setPreviewSrc:te=>{n.value=te},setThumbnailEl:te=>{t=te},toggleShow:fe};function me(te,a){if(e.showToolbarTooltip){const{value:I}=h;return y(Bo,{to:!1,theme:I.peers.Tooltip,themeOverrides:I.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>o.value[a],trigger:()=>te})}else return te}const Be=he(()=>{const{common:{cubicBezierEaseInOut:te},self:{toolbarIconColor:a,toolbarBorderRadius:I,toolbarBoxShadow:T,toolbarColor:k}}=h.value;return{"--n-bezier":te,"--n-toolbar-icon-color":a,"--n-toolbar-color":k,"--n-toolbar-border-radius":I,"--n-toolbar-box-shadow":T}}),{inlineThemeDisabled:ke}=Ke(),Oe=ke?kt("image-preview",void 0,Be,e):void 0;return Object.assign({previewRef:u,previewWrapperRef:s,previewSrc:n,show:i,appear:In(),displayed:r,previewedImgProps:L==null?void 0:L.previewedImgPropsRef,handleWheel(te){te.preventDefault()},handlePreviewMousedown:B,handlePreviewDblclick:d,syncTransformOrigin:l,handleAfterLeave:()=>{M(),U=0,r.value=!1},handleDragStart:te=>{var a,I;(I=(a=L==null?void 0:L.previewedImgPropsRef.value)===null||a===void 0?void 0:a.onDragstart)===null||I===void 0||I.call(a,te),te.preventDefault()},zoomIn:D,zoomOut:se,handleDownloadClick:ee,rotateCounterclockwise:ne,rotateClockwise:X,handleSwitchPrev:re,handleSwitchNext:V,withTooltip:me,resizeToOrignalImageSize:Se,cssVars:ke?void 0:Be,themeClass:Oe==null?void 0:Oe.themeClass,onRender:Oe==null?void 0:Oe.onRender},pe)},render(){var e,h;const{clsPrefix:t,renderToolbar:u,withTooltip:s}=this,n=s(y(Pe,{clsPrefix:t,onClick:this.handleSwitchPrev},{default:()=>Ps}),"tipPrevious"),i=s(y(Pe,{clsPrefix:t,onClick:this.handleSwitchNext},{default:()=>Os}),"tipNext"),r=s(y(Pe,{clsPrefix:t,onClick:this.rotateCounterclockwise},{default:()=>y(Va,null)}),"tipCounterclockwise"),o=s(y(Pe,{clsPrefix:t,onClick:this.rotateClockwise},{default:()=>y(Wa,null)}),"tipClockwise"),l=s(y(Pe,{clsPrefix:t,onClick:this.resizeToOrignalImageSize},{default:()=>y(qa,null)}),"tipOriginalSize"),c=s(y(Pe,{clsPrefix:t,onClick:this.zoomOut},{default:()=>y(Za,null)}),"tipZoomOut"),v=s(y(Pe,{clsPrefix:t,onClick:this.handleDownloadClick},{default:()=>y(ri,null)}),"tipDownload"),b=s(y(Pe,{clsPrefix:t,onClick:this.toggleShow},{default:()=>Ts}),"tipClose"),f=s(y(Pe,{clsPrefix:t,onClick:this.zoomIn},{default:()=>y(Ha,null)}),"tipZoomIn");return y(ut,null,(h=(e=this.$slots).default)===null||h===void 0?void 0:h.call(e),y(So,{show:this.show},{default:()=>{var w;return this.show||this.displayed?((w=this.onRender)===null||w===void 0||w.call(this),Dr(y("div",{class:[`${t}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},y(sr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?y("div",{class:`${t}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?y(sr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?y("div",{class:`${t}-image-preview-toolbar`},u?u({nodes:{prev:n,next:i,rotateCounterclockwise:r,rotateClockwise:o,resizeToOriginalSize:l,zoomOut:c,zoomIn:f,download:v,close:b}}):y(ut,null,this.onPrev?y(ut,null,n,i):null,r,o,l,c,f,v,b)):null}):null,y(sr,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:g={}}=this;return Dr(y("div",{class:`${t}-image-preview-wrapper`,ref:"previewWrapperRef"},y("img",Object.assign({},g,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${t}-image-preview`,g.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[zo,this.show]])}})),[[Ro,{enabled:this.show}]])):null}}))}}),li=Dt("n-image-group"),$s=Zr,Ls=be({name:"ImageGroup",props:$s,setup(e){let h;const{mergedClsPrefixRef:t}=Ke(e),u=`c${$r()}`,s=Cn(),n=le(null),i=o=>{var l;h=o,(l=n.value)===null||l===void 0||l.setPreviewSrc(o)};function r(o){var l,c;if(!(s!=null&&s.proxy))return;const b=s.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${u}]:not([data-error=true])`);if(!b.length)return;const f=Array.from(b).findIndex(w=>w.dataset.previewSrc===h);~f?i(b[(f+o+b.length)%b.length].dataset.previewSrc):i(b[0].dataset.previewSrc),o===1?(l=e.onPreviewNext)===null||l===void 0||l.call(e):(c=e.onPreviewPrev)===null||c===void 0||c.call(e)}return $t(li,{mergedClsPrefixRef:t,setPreviewSrc:i,setThumbnailEl:o=>{var l;(l=n.value)===null||l===void 0||l.setThumbnailEl(o)},toggleShow:()=>{var o;(o=n.value)===null||o===void 0||o.toggleShow()},groupId:u,renderToolbarRef:_e(e,"renderToolbar")}),{mergedClsPrefix:t,previewInstRef:n,next:()=>{r(1)},prev:()=>{r(-1)}}},render(){return y(si,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}}),Fs=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Zr),Us=be({name:"Image",props:Fs,inheritAttrs:!1,setup(e){const h=le(null),t=le(!1),u=le(null),s=Ge(li,null),{mergedClsPrefixRef:n}=s||Ke(e),i={click:()=>{if(e.previewDisabled||t.value)return;const l=e.previewSrc||e.src;if(s){s.setPreviewSrc(l),s.setThumbnailEl(h.value),s.toggleShow();return}const{value:c}=u;c&&(c.setPreviewSrc(l),c.setThumbnailEl(h.value),c.toggleShow())}},r=le(!e.lazy);Ir(()=>{var l;(l=h.value)===null||l===void 0||l.setAttribute("data-group-id",(s==null?void 0:s.groupId)||"")}),Ir(()=>{if(e.lazy&&e.intersectionObserverOptions){let l;const c=_t(()=>{l==null||l(),l=void 0,l=is(h.value,e.intersectionObserverOptions,r)});En(()=>{c(),l==null||l()})}}),_t(()=>{var l;e.src||((l=e.imgProps)===null||l===void 0||l.src),t.value=!1});const o=le(!1);return $t(ai,{previewedImgPropsRef:_e(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:n,groupId:s==null?void 0:s.groupId,previewInstRef:u,imageRef:h,showError:t,shouldStartLoading:r,loaded:o,mergedOnClick:l=>{var c,v;i.click(),(v=(c=e.imgProps)===null||c===void 0?void 0:c.onClick)===null||v===void 0||v.call(c,l)},mergedOnError:l=>{if(!r.value)return;t.value=!0;const{onError:c,imgProps:{onError:v}={}}=e;c==null||c(l),v==null||v(l)},mergedOnLoad:l=>{const{onLoad:c,imgProps:{onLoad:v}={}}=e;c==null||c(l),v==null||v(l),o.value=!0}},i)},render(){var e,h;const{mergedClsPrefix:t,imgProps:u={},loaded:s,$attrs:n,lazy:i}=this,r=(h=(e=this.$slots).placeholder)===null||h===void 0?void 0:h.call(e),o=this.src||u.src,l=y("img",Object.assign(Object.assign({},u),{ref:"imageRef",width:this.width||u.width,height:this.height||u.height,src:this.showError?this.fallbackSrc:i&&this.intersectionObserverOptions?this.shouldStartLoading?o:void 0:o,alt:this.alt||u.alt,"aria-label":this.alt||u.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:rs&&i&&!this.intersectionObserverOptions?"lazy":"eager",style:[u.style||"",r&&!s?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return y("div",Object.assign({},n,{role:"none",class:[n.class,`${t}-image`,(this.previewDisabled||this.showError)&&`${t}-image--preview-disabled`]}),this.groupId?l:y(si,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:t,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>l,toolbar:()=>{var c,v;return(v=(c=this.$slots).toolbar)===null||v===void 0?void 0:v.call(c)}}),!s&&r)}}),Ms=ue([H("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[de("show-divider",[H("list-item",[ue("&:not(:last-child)",[K("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),de("clickable",[H("list-item",`
 cursor: pointer;
 `)]),de("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),de("hoverable",[H("list-item",`
 border-radius: var(--n-border-radius);
 `,[ue("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[K("divider",`
 background-color: transparent;
 `)])])]),de("bordered, hoverable",[H("list-item",`
 padding: 12px 20px;
 `),K("header, footer",`
 padding: 12px 20px;
 `)]),K("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[ue("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),H("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[K("prefix",`
 margin-right: 20px;
 flex: 0;
 `),K("suffix",`
 margin-left: 20px;
 flex: 0;
 `),K("main",`
 flex: 1;
 `),K("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Io(H("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Eo(H("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),Ns=Object.assign(Object.assign({},$e.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),ui=Dt("n-list"),js=be({name:"List",props:Ns,setup(e){const{mergedClsPrefixRef:h,inlineThemeDisabled:t,mergedRtlRef:u}=Ke(e),s=Sn("List",u,h),n=$e("List","-list",Ms,Po,e,h);$t(ui,{showDividerRef:_e(e,"showDivider"),mergedClsPrefixRef:h});const i=he(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:l,textColor:c,color:v,colorModal:b,colorPopover:f,borderColor:w,borderColorModal:g,borderColorPopover:x,borderRadius:m,colorHover:_,colorHoverModal:R,colorHoverPopover:A}}=n.value;return{"--n-font-size":l,"--n-bezier":o,"--n-text-color":c,"--n-color":v,"--n-border-radius":m,"--n-border-color":w,"--n-border-color-modal":g,"--n-border-color-popover":x,"--n-color-modal":b,"--n-color-popover":f,"--n-color-hover":_,"--n-color-hover-modal":R,"--n-color-hover-popover":A}}),r=t?kt("list",void 0,i,e):void 0;return{mergedClsPrefix:h,rtlEnabled:s,cssVars:t?void 0:i,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){var e;const{$slots:h,mergedClsPrefix:t,onRender:u}=this;return u==null||u(),y("ul",{class:[`${t}-list`,this.rtlEnabled&&`${t}-list--rtl`,this.bordered&&`${t}-list--bordered`,this.showDivider&&`${t}-list--show-divider`,this.hoverable&&`${t}-list--hoverable`,this.clickable&&`${t}-list--clickable`,this.themeClass],style:this.cssVars},h.header?y("div",{class:`${t}-list__header`},h.header()):null,(e=h.default)===null||e===void 0?void 0:e.call(h),h.footer?y("div",{class:`${t}-list__footer`},h.footer()):null)}}),Ws=be({name:"ListItem",setup(){const e=Ge(ui,null);return e||Xt("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:h}=this;return y("li",{class:`${h}-list-item`},e.prefix?y("div",{class:`${h}-list-item__prefix`},e.prefix()):null,e.default?y("div",{class:`${h}-list-item__main`},e):null,e.suffix?y("div",{class:`${h}-list-item__suffix`},e.suffix()):null,this.showDivider&&y("div",{class:`${h}-list-item__divider`}))}}),Vs=ue([H("progress",{display:"inline-block"},[H("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),de("line",`
 width: 100%;
 display: block;
 `,[H("progress-content",`
 display: flex;
 align-items: center;
 `,[H("progress-graph",{flex:1})]),H("progress-custom-content",{marginLeft:"14px"}),H("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[de("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),de("circle, dashboard",{width:"120px"},[H("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),H("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),H("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),de("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[H("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),H("progress-content",{position:"relative"}),H("progress-graph",{position:"relative"},[H("progress-graph-circle",[ue("svg",{verticalAlign:"bottom"}),H("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[de("empty",{opacity:0})]),H("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),H("progress-graph-line",[de("indicator-inside",[H("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[H("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),H("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),de("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[H("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),H("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),H("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[H("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[de("processing",[ue("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ue("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Hs={success:y(On,null),error:y(Tn,null),warning:y(Dn,null),info:y($n,null)},Zs=be({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:h}){const t=he(()=>Bt(e.height)),u=he(()=>e.railBorderRadius!==void 0?Bt(e.railBorderRadius):e.height!==void 0?Bt(e.height,{c:.5}):""),s=he(()=>e.fillBorderRadius!==void 0?Bt(e.fillBorderRadius):e.railBorderRadius!==void 0?Bt(e.railBorderRadius):e.height!==void 0?Bt(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:n,railColor:i,railStyle:r,percentage:o,unit:l,indicatorTextColor:c,status:v,showIndicator:b,fillColor:f,processing:w,clsPrefix:g}=e;return y("div",{class:`${g}-progress-content`,role:"none"},y("div",{class:`${g}-progress-graph`,"aria-hidden":!0},y("div",{class:[`${g}-progress-graph-line`,{[`${g}-progress-graph-line--indicator-${n}`]:!0}]},y("div",{class:`${g}-progress-graph-line-rail`,style:[{backgroundColor:i,height:t.value,borderRadius:u.value},r]},y("div",{class:[`${g}-progress-graph-line-fill`,w&&`${g}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:f,height:t.value,lineHeight:t.value,borderRadius:s.value}},n==="inside"?y("div",{class:`${g}-progress-graph-line-indicator`,style:{color:c}},h.default?h.default():`${o}${l}`):null)))),b&&n==="outside"?y("div",null,h.default?y("div",{class:`${g}-progress-custom-content`,style:{color:c},role:"none"},h.default()):v==="default"?y("div",{role:"none",class:`${g}-progress-icon ${g}-progress-icon--as-text`,style:{color:c}},o,l):y("div",{class:`${g}-progress-icon`,"aria-hidden":!0},y(Pe,{clsPrefix:g},{default:()=>Hs[v]}))):null)}}}),qs={success:y(On,null),error:y(Tn,null),warning:y(Dn,null),info:y($n,null)},Xs=be({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:h}){function t(u,s,n){const{gapDegree:i,viewBoxWidth:r,strokeWidth:o}=e,l=50,c=0,v=l,b=0,f=2*l,w=50+o/2,g=`M ${w},${w} m ${c},${v}
      a ${l},${l} 0 1 1 ${b},${-f}
      a ${l},${l} 0 1 1 ${-b},${f}`,x=Math.PI*2*l,m={stroke:n,strokeDasharray:`${u/100*(x-i)}px ${r*8}px`,strokeDashoffset:`-${i/2}px`,transformOrigin:s?"center":void 0,transform:s?`rotate(${s}deg)`:void 0};return{pathString:g,pathStyle:m}}return()=>{const{fillColor:u,railColor:s,strokeWidth:n,offsetDegree:i,status:r,percentage:o,showIndicator:l,indicatorTextColor:c,unit:v,gapOffsetDegree:b,clsPrefix:f}=e,{pathString:w,pathStyle:g}=t(100,0,s),{pathString:x,pathStyle:m}=t(o,i,u),_=100+n;return y("div",{class:`${f}-progress-content`,role:"none"},y("div",{class:`${f}-progress-graph`,"aria-hidden":!0},y("div",{class:`${f}-progress-graph-circle`,style:{transform:b?`rotate(${b}deg)`:void 0}},y("svg",{viewBox:`0 0 ${_} ${_}`},y("g",null,y("path",{class:`${f}-progress-graph-circle-rail`,d:w,"stroke-width":n,"stroke-linecap":"round",fill:"none",style:g})),y("g",null,y("path",{class:[`${f}-progress-graph-circle-fill`,o===0&&`${f}-progress-graph-circle-fill--empty`],d:x,"stroke-width":n,"stroke-linecap":"round",fill:"none",style:m}))))),l?y("div",null,h.default?y("div",{class:`${f}-progress-custom-content`,role:"none"},h.default()):r!=="default"?y("div",{class:`${f}-progress-icon`,"aria-hidden":!0},y(Pe,{clsPrefix:f},{default:()=>qs[r]})):y("div",{class:`${f}-progress-text`,style:{color:c},role:"none"},y("span",{class:`${f}-progress-text__percentage`},o),y("span",{class:`${f}-progress-text__unit`},v))):null)}}});function un(e,h,t=100){return`m ${t/2} ${t/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const Gs=be({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:h}){const t=he(()=>e.percentage.map((s,n)=>`${Math.PI*s/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*n)-e.circleGap*n)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:u,strokeWidth:s,circleGap:n,showIndicator:i,fillColor:r,railColor:o,railStyle:l,percentage:c,clsPrefix:v}=e;return y("div",{class:`${v}-progress-content`,role:"none"},y("div",{class:`${v}-progress-graph`,"aria-hidden":!0},y("div",{class:`${v}-progress-graph-circle`},y("svg",{viewBox:`0 0 ${u} ${u}`},c.map((b,f)=>y("g",{key:f},y("path",{class:`${v}-progress-graph-circle-rail`,d:un(u/2-s/2*(1+2*f)-n*f,s,u),"stroke-width":s,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:o[f]},l[f]]}),y("path",{class:[`${v}-progress-graph-circle-fill`,b===0&&`${v}-progress-graph-circle-fill--empty`],d:un(u/2-s/2*(1+2*f)-n*f,s,u),"stroke-width":s,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:t.value[f],strokeDashoffset:0,stroke:r[f]}})))))),i&&h.default?y("div",null,y("div",{class:`${v}-progress-text`},h.default())):null)}}}),Ys=Object.assign(Object.assign({},$e.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Ks=be({name:"Progress",props:Ys,setup(e){const h=he(()=>e.indicatorPlacement||e.indicatorPosition),t=he(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:u,inlineThemeDisabled:s}=Ke(e),n=$e("Progress","-progress",Vs,Oo,e,u),i=he(()=>{const{status:o}=e,{common:{cubicBezierEaseInOut:l},self:{fontSize:c,fontSizeCircle:v,railColor:b,railHeight:f,iconSizeCircle:w,iconSizeLine:g,textColorCircle:x,textColorLineInner:m,textColorLineOuter:_,lineBgProcessing:R,fontWeightCircle:A,[Fe("iconColor",o)]:S,[Fe("fillColor",o)]:$}}=n.value;return{"--n-bezier":l,"--n-fill-color":$,"--n-font-size":c,"--n-font-size-circle":v,"--n-font-weight-circle":A,"--n-icon-color":S,"--n-icon-size-circle":w,"--n-icon-size-line":g,"--n-line-bg-processing":R,"--n-rail-color":b,"--n-rail-height":f,"--n-text-color-circle":x,"--n-text-color-line-inner":m,"--n-text-color-line-outer":_}}),r=s?kt("progress",he(()=>e.status[0]),i,e):void 0;return{mergedClsPrefix:u,mergedIndicatorPlacement:h,gapDeg:t,cssVars:s?void 0:i,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){const{type:e,cssVars:h,indicatorTextColor:t,showIndicator:u,status:s,railColor:n,railStyle:i,color:r,percentage:o,viewBoxWidth:l,strokeWidth:c,mergedIndicatorPlacement:v,unit:b,borderRadius:f,fillBorderRadius:w,height:g,processing:x,circleGap:m,mergedClsPrefix:_,gapDeg:R,gapOffsetDegree:A,themeClass:S,$slots:$,onRender:O}=this;return O==null||O(),y("div",{class:[S,`${_}-progress`,`${_}-progress--${e}`,`${_}-progress--${s}`],style:h,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?y(Xs,{clsPrefix:_,status:s,showIndicator:u,indicatorTextColor:t,railColor:n,fillColor:r,railStyle:i,offsetDegree:this.offsetDegree,percentage:o,viewBoxWidth:l,strokeWidth:c,gapDegree:R===void 0?e==="dashboard"?75:0:R,gapOffsetDegree:A,unit:b},$):e==="line"?y(Zs,{clsPrefix:_,status:s,showIndicator:u,indicatorTextColor:t,railColor:n,fillColor:r,railStyle:i,percentage:o,processing:x,indicatorPlacement:v,unit:b,fillBorderRadius:w,railBorderRadius:f,height:g},$):e==="multiple-circle"?y(Gs,{clsPrefix:_,strokeWidth:c,railColor:n,fillColor:r,railStyle:i,viewBoxWidth:l,percentage:o,showIndicator:u,circleGap:m},$):null)}}),Js=Object.assign(Object.assign({},$e.props),{trigger:String,xScrollable:Boolean,onScroll:Function,contentClass:String,contentStyle:[Object,String],size:Number}),Qs=be({name:"Scrollbar",props:Js,setup(){const e=le(null);return Object.assign(Object.assign({},{scrollTo:(...t)=>{var u;(u=e.value)===null||u===void 0||u.scrollTo(t[0],t[1])},scrollBy:(...t)=>{var u;(u=e.value)===null||u===void 0||u.scrollBy(t[0],t[1])}}),{scrollbarInstRef:e})},render(){return y(Rn,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),el=H("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[K("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),K("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),K("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),H("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Lr({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),K("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),K("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),K("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),ue("&:focus",[K("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),de("round",[K("rail","border-radius: calc(var(--n-rail-height) / 2);",[K("button","border-radius: calc(var(--n-button-height) / 2);")])]),at("disabled",[at("icon",[de("rubber-band",[de("pressed",[K("rail",[K("button","max-width: var(--n-button-width-pressed);")])]),K("rail",[ue("&:active",[K("button","max-width: var(--n-button-width-pressed);")])]),de("active",[de("pressed",[K("rail",[K("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),K("rail",[ue("&:active",[K("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),de("active",[K("rail",[K("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),K("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[K("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Lr()]),K("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),de("active",[K("rail","background-color: var(--n-rail-color-active);")]),de("loading",[K("rail",`
 cursor: wait;
 `)]),de("disabled",[K("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),tl=Object.assign(Object.assign({},$e.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let jt;const rl=be({name:"Switch",props:tl,setup(e){jt===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?jt=CSS.supports("width","max(1px)"):jt=!1:jt=!0);const{mergedClsPrefixRef:h,inlineThemeDisabled:t}=Ke(e),u=$e("Switch","-switch",el,To,e,h),s=gr(e),{mergedSizeRef:n,mergedDisabledRef:i}=s,r=le(e.defaultValue),o=_e(e,"value"),l=Vt(o,r),c=he(()=>l.value===e.checkedValue),v=le(!1),b=le(!1),f=he(()=>{const{railStyle:L}=e;if(L)return L({focused:b.value,checked:c.value})});function w(L){const{"onUpdate:value":B,onChange:W,onUpdateValue:J}=e,{nTriggerFormInput:C,nTriggerFormChange:U}=s;B&&Ae(B,L),J&&Ae(J,L),W&&Ae(W,L),r.value=L,C(),U()}function g(){const{nTriggerFormFocus:L}=s;L()}function x(){const{nTriggerFormBlur:L}=s;L()}function m(){e.loading||i.value||(l.value!==e.checkedValue?w(e.checkedValue):w(e.uncheckedValue))}function _(){b.value=!0,g()}function R(){b.value=!1,x(),v.value=!1}function A(L){e.loading||i.value||L.key===" "&&(l.value!==e.checkedValue?w(e.checkedValue):w(e.uncheckedValue),v.value=!1)}function S(L){e.loading||i.value||L.key===" "&&(L.preventDefault(),v.value=!0)}const $=he(()=>{const{value:L}=n,{self:{opacityDisabled:B,railColor:W,railColorActive:J,buttonBoxShadow:C,buttonColor:U,boxShadowFocus:d,loadingColor:M,textColor:re,iconColor:V,[Fe("buttonHeight",L)]:ne,[Fe("buttonWidth",L)]:X,[Fe("buttonWidthPressed",L)]:ae,[Fe("railHeight",L)]:F,[Fe("railWidth",L)]:D,[Fe("railBorderRadius",L)]:se,[Fe("buttonBorderRadius",L)]:ee},common:{cubicBezierEaseInOut:Y}}=u.value;let fe,Se,pe;return jt?(fe=`calc((${F} - ${ne}) / 2)`,Se=`max(${F}, ${ne})`,pe=`max(${D}, calc(${D} + ${ne} - ${F}))`):(fe=yr((Je(F)-Je(ne))/2),Se=yr(Math.max(Je(F),Je(ne))),pe=Je(F)>Je(ne)?D:yr(Je(D)+Je(ne)-Je(F))),{"--n-bezier":Y,"--n-button-border-radius":ee,"--n-button-box-shadow":C,"--n-button-color":U,"--n-button-width":X,"--n-button-width-pressed":ae,"--n-button-height":ne,"--n-height":Se,"--n-offset":fe,"--n-opacity-disabled":B,"--n-rail-border-radius":se,"--n-rail-color":W,"--n-rail-color-active":J,"--n-rail-height":F,"--n-rail-width":D,"--n-width":pe,"--n-box-shadow-focus":d,"--n-loading-color":M,"--n-text-color":re,"--n-icon-color":V}}),O=t?kt("switch",he(()=>n.value[0]),$,e):void 0;return{handleClick:m,handleBlur:R,handleFocus:_,handleKeyup:A,handleKeydown:S,mergedRailStyle:f,pressed:v,mergedClsPrefix:h,mergedValue:l,checked:c,mergedDisabled:i,cssVars:t?void 0:$,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:h,checked:t,mergedRailStyle:u,onRender:s,$slots:n}=this;s==null||s();const{checked:i,unchecked:r,icon:o,"checked-icon":l,"unchecked-icon":c}=n,v=!(xr(o)&&xr(l)&&xr(c));return y("div",{role:"switch","aria-checked":t,class:[`${e}-switch`,this.themeClass,v&&`${e}-switch--icon`,t&&`${e}-switch--active`,h&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},y("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:u},He(i,b=>He(r,f=>b||f?y("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},y("div",{class:`${e}-switch__rail-placeholder`},y("div",{class:`${e}-switch__button-placeholder`}),b),y("div",{class:`${e}-switch__rail-placeholder`},y("div",{class:`${e}-switch__button-placeholder`}),f)):null)),y("div",{class:`${e}-switch__button`},He(o,b=>He(l,f=>He(c,w=>y(Ln,null,{default:()=>this.loading?y(Do,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(f||b)?y("div",{class:`${e}-switch__button-icon`,key:f?"checked-icon":"icon"},f||b):!this.checked&&(w||b)?y("div",{class:`${e}-switch__button-icon`,key:w?"unchecked-icon":"icon"},w||b):null})))),He(i,b=>b&&y("div",{key:"checked",class:`${e}-switch__checked`},b)),He(r,b=>b&&y("div",{key:"unchecked",class:`${e}-switch__unchecked`},b)))))}}),Lt=Dt("n-upload"),ci="__UPLOAD_DRAGGER__",nl=be({name:"UploadDragger",[ci]:!0,setup(e,{slots:h}){const t=Ge(Lt,null);return t||Xt("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:u},mergedDisabledRef:{value:s},maxReachedRef:{value:n}}=t;return y("div",{class:[`${u}-upload-dragger`,(s||n)&&`${u}-upload-dragger--disabled`]},h)}}});var Nr=function(e,h,t,u){function s(n){return n instanceof t?n:new t(function(i){i(n)})}return new(t||(t=Promise))(function(n,i){function r(c){try{l(u.next(c))}catch(v){i(v)}}function o(c){try{l(u.throw(c))}catch(v){i(v)}}function l(c){c.done?n(c.value):s(c.value).then(r,o)}l((u=u.apply(e,h||[])).next())})};function di(e){return e.includes("image/")}function cn(e=""){const h=e.split("/"),u=h[h.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(u)||[""])[0]}const dn=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,hi=e=>{if(e.type)return di(e.type);const h=cn(e.name||"");if(dn.test(h))return!0;const t=e.thumbnailUrl||e.url||"",u=cn(t);return!!(/^data:image\//.test(t)||dn.test(u))};function il(e){return Nr(this,void 0,void 0,function*(){return yield new Promise(h=>{if(!e.type||!di(e.type)){h("");return}h(window.URL.createObjectURL(e))})})}const ol=zn&&window.FileReader&&window.File;function al(e){return e.isDirectory}function sl(e){return e.isFile}function ll(e,h){return Nr(this,void 0,void 0,function*(){const t=[];function u(s){return Nr(this,void 0,void 0,function*(){for(const n of s)if(n){if(h&&al(n)){const i=n.createReader();try{const r=yield new Promise((o,l)=>{i.readEntries(o,l)});yield u(r)}catch{}}else if(sl(n))try{const i=yield new Promise((r,o)=>{n.file(r,o)});t.push({file:i,entry:n,source:"dnd"})}catch{}}})}return yield u(e),t})}function Zt(e){const{id:h,name:t,percentage:u,status:s,url:n,file:i,thumbnailUrl:r,type:o,fullPath:l,batchId:c}=e;return{id:h,name:t,percentage:u??null,status:s,url:n??null,file:i??null,thumbnailUrl:r??null,type:o??null,fullPath:l??null,batchId:c??null}}function ul(e,h,t){return e=e.toLowerCase(),h=h.toLocaleLowerCase(),t=t.toLocaleLowerCase(),t.split(",").map(s=>s.trim()).filter(Boolean).some(s=>{if(s.startsWith(".")){if(e.endsWith(s))return!0}else if(s.includes("/")){const[n,i]=h.split("/"),[r,o]=s.split("/");if((r==="*"||n&&r&&r===n)&&(o==="*"||i&&o&&o===i))return!0}else return!0;return!1})}const fi=be({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:h}){const t=Ge(Lt,null);t||Xt("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:u,mergedDisabledRef:s,maxReachedRef:n,listTypeRef:i,dragOverRef:r,openOpenFileDialog:o,draggerInsideRef:l,handleFileAddition:c,mergedDirectoryDndRef:v,triggerClassRef:b,triggerStyleRef:f}=t,w=he(()=>i.value==="image-card");function g(){s.value||n.value||o()}function x(A){A.preventDefault(),r.value=!0}function m(A){A.preventDefault(),r.value=!0}function _(A){A.preventDefault(),r.value=!1}function R(A){var S;if(A.preventDefault(),!l.value||s.value||n.value){r.value=!1;return}const $=(S=A.dataTransfer)===null||S===void 0?void 0:S.items;$!=null&&$.length?ll(Array.from($).map(O=>O.webkitGetAsEntry()),v.value).then(O=>{c(O)}).finally(()=>{r.value=!1}):r.value=!1}return()=>{var A;const{value:S}=u;return e.abstract?(A=h.default)===null||A===void 0?void 0:A.call(h,{handleClick:g,handleDrop:R,handleDragOver:x,handleDragEnter:m,handleDragLeave:_}):y("div",{class:[`${S}-upload-trigger`,(s.value||n.value)&&`${S}-upload-trigger--disabled`,w.value&&`${S}-upload-trigger--image-card`,b.value],style:f.value,onClick:g,onDrop:R,onDragover:x,onDragenter:m,onDragleave:_},w.value?y(nl,null,{default:()=>ar(h.default,()=>[y(Pe,{clsPrefix:S},{default:()=>y(qo,null)})])}):h)}}}),cl=be({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Ge(Lt).mergedThemeRef}},render(){return y(Fn,null,{default:()=>this.show?y(Ks,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),dl=y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},y("g",{fill:"none"},y("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),hl=y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},y("g",{fill:"none"},y("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var fl=function(e,h,t,u){function s(n){return n instanceof t?n:new t(function(i){i(n)})}return new(t||(t=Promise))(function(n,i){function r(c){try{l(u.next(c))}catch(v){i(v)}}function o(c){try{l(u.throw(c))}catch(v){i(v)}}function l(c){c.done?n(c.value):s(c.value).then(r,o)}l((u=u.apply(e,h||[])).next())})};const ir={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},pl=be({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const h=Ge(Lt),t=le(null),u=le(""),s=he(()=>{const{file:S}=e;return S.status==="finished"?"success":S.status==="error"?"error":"info"}),n=he(()=>{const{file:S}=e;if(S.status==="error")return"error"}),i=he(()=>{const{file:S}=e;return S.status==="uploading"}),r=he(()=>{if(!h.showCancelButtonRef.value)return!1;const{file:S}=e;return["uploading","pending","error"].includes(S.status)}),o=he(()=>{if(!h.showRemoveButtonRef.value)return!1;const{file:S}=e;return["finished"].includes(S.status)}),l=he(()=>{if(!h.showDownloadButtonRef.value)return!1;const{file:S}=e;return["finished"].includes(S.status)}),c=he(()=>{if(!h.showRetryButtonRef.value)return!1;const{file:S}=e;return["error"].includes(S.status)}),v=Ar(()=>u.value||e.file.thumbnailUrl||e.file.url),b=he(()=>{if(!h.showPreviewButtonRef.value)return!1;const{file:{status:S},listType:$}=e;return["finished"].includes(S)&&v.value&&$==="image-card"});function f(){h.submit(e.file.id)}function w(S){S.preventDefault();const{file:$}=e;["finished","pending","error"].includes($.status)?x($):["uploading"].includes($.status)?_($):Bn("upload","The button clicked type is unknown.")}function g(S){S.preventDefault(),m(e.file)}function x(S){const{xhrMap:$,doChange:O,onRemoveRef:{value:L},mergedFileListRef:{value:B}}=h;Promise.resolve(L?L({file:Object.assign({},S),fileList:B,index:e.index}):!0).then(W=>{if(W===!1)return;const J=Object.assign({},S,{status:"removed"});$.delete(S.id),O(J,void 0,{remove:!0})})}function m(S){const{onDownloadRef:{value:$}}=h;Promise.resolve($?$(Object.assign({},S)):!0).then(O=>{O!==!1&&Nn(S.url,S.name)})}function _(S){const{xhrMap:$}=h,O=$.get(S.id);O==null||O.abort(),x(Object.assign({},S))}function R(S){const{onPreviewRef:{value:$}}=h;if($)$(e.file,{event:S});else if(e.listType==="image-card"){const{value:O}=t;if(!O)return;O.click()}}const A=()=>fl(this,void 0,void 0,function*(){const{listType:S}=e;S!=="image"&&S!=="image-card"||h.shouldUseThumbnailUrlRef.value(e.file)&&(u.value=yield h.getFileThumbnailUrlResolver(e.file))});return _t(()=>{A()}),{mergedTheme:h.mergedThemeRef,progressStatus:s,buttonType:n,showProgress:i,disabled:h.mergedDisabledRef,showCancelButton:r,showRemoveButton:o,showDownloadButton:l,showRetryButton:c,showPreviewButton:b,mergedThumbnailUrl:v,shouldUseThumbnailUrl:h.shouldUseThumbnailUrlRef,renderIcon:h.renderIconRef,imageRef:t,handleRemoveOrCancelClick:w,handleDownloadClick:g,handleRetryClick:f,handlePreviewClick:R}},render(){const{clsPrefix:e,mergedTheme:h,listType:t,file:u,renderIcon:s}=this;let n;const i=t==="image";i||t==="image-card"?n=!this.shouldUseThumbnailUrl(u)||!this.mergedThumbnailUrl?y("span",{class:`${e}-upload-file-info__thumbnail`},s?s(u):hi(u)?y(Pe,{clsPrefix:e},{default:()=>dl}):y(Pe,{clsPrefix:e},{default:()=>hl})):y("a",{rel:"noopener noreferer",target:"_blank",href:u.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},t==="image-card"?y(Us,{src:this.mergedThumbnailUrl||void 0,previewSrc:u.url||void 0,alt:u.name,ref:"imageRef"}):y("img",{src:this.mergedThumbnailUrl||void 0,alt:u.name})):n=y("span",{class:`${e}-upload-file-info__thumbnail`},s?s(u):y(Pe,{clsPrefix:e},{default:()=>y(Fa,null)}));const o=y(cl,{show:this.showProgress,percentage:u.percentage||0,status:this.progressStatus}),l=t==="text"||t==="image";return y("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,u.url&&u.status!=="error"&&t!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${t}-type`]},y("div",{class:`${e}-upload-file-info`},n,y("div",{class:`${e}-upload-file-info__name`},l&&(u.url&&u.status!=="error"?y("a",{rel:"noopener noreferer",target:"_blank",href:u.url||void 0,onClick:this.handlePreviewClick},u.name):y("span",{onClick:this.handlePreviewClick},u.name)),i&&o),y("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${t}-type`]},this.showPreviewButton?y(Ue,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,builtinThemeOverrides:ir},{icon:()=>y(Pe,{clsPrefix:e},{default:()=>y(ti,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&y(Ue,{key:"cancelOrTrash",theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ir,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>y(Ln,null,{default:()=>this.showRemoveButton?y(Pe,{clsPrefix:e,key:"trash"},{default:()=>y(Ma,null)}):y(Pe,{clsPrefix:e,key:"cancel"},{default:()=>y(Na,null)})})}),this.showRetryButton&&!this.disabled&&y(Ue,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,builtinThemeOverrides:ir},{icon:()=>y(Pe,{clsPrefix:e},{default:()=>y(ja,null)})}),this.showDownloadButton?y(Ue,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:h.peers.Button,themeOverrides:h.peerOverrides.Button,builtinThemeOverrides:ir},{icon:()=>y(Pe,{clsPrefix:e},{default:()=>y(ri,null)})}):null)),!i&&o)}}),gl=be({name:"UploadFileList",setup(e,{slots:h}){const t=Ge(Lt,null);t||Xt("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:u,mergedClsPrefixRef:s,listTypeRef:n,mergedFileListRef:i,fileListClassRef:r,fileListStyleRef:o,cssVarsRef:l,themeClassRef:c,maxReachedRef:v,showTriggerRef:b,imageGroupPropsRef:f}=t,w=he(()=>n.value==="image-card"),g=()=>i.value.map((m,_)=>y(pl,{clsPrefix:s.value,key:m.id,file:m,index:_,listType:n.value})),x=()=>w.value?y(Ls,Object.assign({},f.value),{default:g}):y(Fn,{group:!0},{default:g});return()=>{const{value:m}=s,{value:_}=u;return y("div",{class:[`${m}-upload-file-list`,w.value&&`${m}-upload-file-list--grid`,_?c==null?void 0:c.value:void 0,r.value],style:[_&&l?l.value:"",o.value]},x(),b.value&&!v.value&&w.value&&y(fi,null,h))}}}),vl=ue([H("upload","width: 100%;",[de("dragger-inside",[H("upload-trigger",`
 display: block;
 `)]),de("drag-over",[H("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),H("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ue("&:hover",`
 border: var(--n-dragger-border-hover);
 `),de("disabled",`
 cursor: not-allowed;
 `)]),H("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ue("+",[H("upload-file-list","margin-top: 8px;")]),de("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),de("image-card",`
 width: 96px;
 height: 96px;
 `,[H("base-icon",`
 font-size: 24px;
 `),H("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),H("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ue("a, img","outline: none;"),de("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[H("upload-file","cursor: not-allowed;")]),de("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),H("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Qr(),H("progress",[Qr({foldPadding:!0})]),ue("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[H("upload-file-info",[K("action",`
 opacity: 1;
 `)])]),de("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[H("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[H("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),K("name",`
 padding: 0 8px;
 `),K("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ue("img",`
 width: 100%;
 `)])])]),de("text-type",[H("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),de("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[H("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),H("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[K("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ue("img",`
 width: 100%;
 `)])]),ue("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ue("&:hover",[ue("&::before","opacity: 1;"),H("upload-file-info",[K("thumbnail","opacity: .12;")])])]),de("error-status",[ue("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),H("upload-file-info",[K("name","color: var(--n-item-text-color-error);"),K("thumbnail","color: var(--n-item-text-color-error);")]),de("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),de("with-url",`
 cursor: pointer;
 `,[H("upload-file-info",[K("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ue("a",`
 text-decoration: underline;
 `)])])]),H("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[K("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[H("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),K("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[H("button",[ue("&:not(:last-child)",{marginRight:"4px"}),H("base-icon",[ue("svg",[Lr()])])]),de("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),de("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),K("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ue("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),H("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var hn=function(e,h,t,u){function s(n){return n instanceof t?n:new t(function(i){i(n)})}return new(t||(t=Promise))(function(n,i){function r(c){try{l(u.next(c))}catch(v){i(v)}}function o(c){try{l(u.throw(c))}catch(v){i(v)}}function l(c){c.done?n(c.value):s(c.value).then(r,o)}l((u=u.apply(e,h||[])).next())})};function ml(e,h,t){const{doChange:u,xhrMap:s}=e;let n=0;function i(o){var l;let c=Object.assign({},h,{status:"error",percentage:n});s.delete(h.id),c=Zt(((l=e.onError)===null||l===void 0?void 0:l.call(e,{file:c,event:o}))||c),u(c,o)}function r(o){var l;if(e.isErrorState){if(e.isErrorState(t)){i(o);return}}else if(t.status<200||t.status>=300){i(o);return}let c=Object.assign({},h,{status:"finished",percentage:n});s.delete(h.id),c=Zt(((l=e.onFinish)===null||l===void 0?void 0:l.call(e,{file:c,event:o}))||c),u(c,o)}return{handleXHRLoad:r,handleXHRError:i,handleXHRAbort(o){const l=Object.assign({},h,{status:"removed",file:null,percentage:n});s.delete(h.id),u(l,o)},handleXHRProgress(o){const l=Object.assign({},h,{status:"uploading"});if(o.lengthComputable){const c=Math.ceil(o.loaded/o.total*100);l.percentage=c,n=c}u(l,o)}}}function bl(e){const{inst:h,file:t,data:u,headers:s,withCredentials:n,action:i,customRequest:r}=e,{doChange:o}=e.inst;let l=0;r({file:t,data:u,headers:s,withCredentials:n,action:i,onProgress(c){const v=Object.assign({},t,{status:"uploading"}),b=c.percent;v.percentage=b,l=b,o(v)},onFinish(){var c;let v=Object.assign({},t,{status:"finished",percentage:l});v=Zt(((c=h.onFinish)===null||c===void 0?void 0:c.call(h,{file:v}))||v),o(v)},onError(){var c;let v=Object.assign({},t,{status:"error",percentage:l});v=Zt(((c=h.onError)===null||c===void 0?void 0:c.call(h,{file:v}))||v),o(v)}})}function wl(e,h,t){const u=ml(e,h,t);t.onabort=u.handleXHRAbort,t.onerror=u.handleXHRError,t.onload=u.handleXHRLoad,t.upload&&(t.upload.onprogress=u.handleXHRProgress)}function pi(e,h){return typeof e=="function"?e({file:h}):e||{}}function yl(e,h,t){const u=pi(h,t);u&&Object.keys(u).forEach(s=>{e.setRequestHeader(s,u[s])})}function xl(e,h,t){const u=pi(h,t);u&&Object.keys(u).forEach(s=>{e.append(s,u[s])})}function _l(e,h,t,{method:u,action:s,withCredentials:n,responseType:i,headers:r,data:o}){const l=new XMLHttpRequest;l.responseType=i,e.xhrMap.set(t.id,l),l.withCredentials=n;const c=new FormData;if(xl(c,o,t),t.file!==null&&c.append(h,t.file),wl(e,t,l),s!==void 0){l.open(u.toUpperCase(),s),yl(l,r,t),l.send(c);const v=Object.assign({},t,{status:"uploading"});e.doChange(v)}}const kl=Object.assign(Object.assign({},$e.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>ol?hi(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Cl=be({name:"Upload",props:kl,setup(e){e.abstract&&e.listType==="image-card"&&Xt("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:h,inlineThemeDisabled:t}=Ke(e),u=$e("Upload","-upload",vl,$o,e,h),s=gr(e),n=le(e.defaultFileList),i=_e(e,"fileList"),r=le(null),o={value:!1},l=le(!1),c=new Map,v=Vt(i,n),b=he(()=>v.value.map(Zt)),f=he(()=>{const{max:B}=e;return B!==void 0?b.value.length>=B:!1});function w(){var B;(B=r.value)===null||B===void 0||B.click()}function g(B){const W=B.target;R(W.files?Array.from(W.files).map(J=>({file:J,entry:null,source:"input"})):null,B),W.value=""}function x(B){const{"onUpdate:fileList":W,onUpdateFileList:J}=e;W&&Ae(W,B),J&&Ae(J,B),n.value=B}const m=he(()=>e.multiple||e.directory),_=(B,W,J={append:!1,remove:!1})=>{const{append:C,remove:U}=J,d=Array.from(b.value),M=d.findIndex(re=>re.id===B.id);if(C||U||~M){C?d.push(B):U?d.splice(M,1):d.splice(M,1,B);const{onChange:re}=e;re&&re({file:B,fileList:d,event:W}),x(d)}};function R(B,W){if(!B||B.length===0)return;const{onBeforeUpload:J}=e;B=m.value?B:[B[0]];const{max:C,accept:U}=e;B=B.filter(({file:M,source:re})=>re==="dnd"&&(U!=null&&U.trim())?ul(M.name,M.type,U):!0),C&&(B=B.slice(0,C-b.value.length));const d=$r();Promise.all(B.map(M=>hn(this,[M],void 0,function*({file:re,entry:V}){var ne;const X={id:$r(),batchId:d,name:re.name,status:"pending",percentage:0,file:re,url:null,type:re.type,thumbnailUrl:null,fullPath:(ne=V==null?void 0:V.fullPath)!==null&&ne!==void 0?ne:`/${re.webkitRelativePath||re.name}`};return!J||(yield J({file:X,fileList:b.value}))!==!1?X:null}))).then(M=>hn(this,void 0,void 0,function*(){let re=Promise.resolve();M.forEach(V=>{re=re.then(dr).then(()=>{V&&_(V,W,{append:!0})})}),yield re})).then(()=>{e.defaultUpload&&A()})}function A(B){const{method:W,action:J,withCredentials:C,headers:U,data:d,name:M}=e,re=B!==void 0?b.value.filter(ne=>ne.id===B):b.value,V=B!==void 0;re.forEach(ne=>{const{status:X}=ne;(X==="pending"||X==="error"&&V)&&(e.customRequest?bl({inst:{doChange:_,xhrMap:c,onFinish:e.onFinish,onError:e.onError},file:ne,action:J,withCredentials:C,headers:U,data:d,customRequest:e.customRequest}):_l({doChange:_,xhrMap:c,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},M,ne,{method:W,action:J,withCredentials:C,responseType:e.responseType,headers:U,data:d}))})}function S(B){var W;if(B.thumbnailUrl)return B.thumbnailUrl;const{createThumbnailUrl:J}=e;return J?(W=J(B.file,B))!==null&&W!==void 0?W:B.url||"":B.url?B.url:B.file?il(B.file):""}const $=he(()=>{const{common:{cubicBezierEaseInOut:B},self:{draggerColor:W,draggerBorder:J,draggerBorderHover:C,itemColorHover:U,itemColorHoverError:d,itemTextColorError:M,itemTextColorSuccess:re,itemTextColor:V,itemIconColor:ne,itemDisabledOpacity:X,lineHeight:ae,borderRadius:F,fontSize:D,itemBorderImageCardError:se,itemBorderImageCard:ee}}=u.value;return{"--n-bezier":B,"--n-border-radius":F,"--n-dragger-border":J,"--n-dragger-border-hover":C,"--n-dragger-color":W,"--n-font-size":D,"--n-item-color-hover":U,"--n-item-color-hover-error":d,"--n-item-disabled-opacity":X,"--n-item-icon-color":ne,"--n-item-text-color":V,"--n-item-text-color-error":M,"--n-item-text-color-success":re,"--n-line-height":ae,"--n-item-border-image-card-error":se,"--n-item-border-image-card":ee}}),O=t?kt("upload",void 0,$,e):void 0;$t(Lt,{mergedClsPrefixRef:h,mergedThemeRef:u,showCancelButtonRef:_e(e,"showCancelButton"),showDownloadButtonRef:_e(e,"showDownloadButton"),showRemoveButtonRef:_e(e,"showRemoveButton"),showRetryButtonRef:_e(e,"showRetryButton"),onRemoveRef:_e(e,"onRemove"),onDownloadRef:_e(e,"onDownload"),mergedFileListRef:b,triggerClassRef:_e(e,"triggerClass"),triggerStyleRef:_e(e,"triggerStyle"),shouldUseThumbnailUrlRef:_e(e,"shouldUseThumbnailUrl"),renderIconRef:_e(e,"renderIcon"),xhrMap:c,submit:A,doChange:_,showPreviewButtonRef:_e(e,"showPreviewButton"),onPreviewRef:_e(e,"onPreview"),getFileThumbnailUrlResolver:S,listTypeRef:_e(e,"listType"),dragOverRef:l,openOpenFileDialog:w,draggerInsideRef:o,handleFileAddition:R,mergedDisabledRef:s.mergedDisabledRef,maxReachedRef:f,fileListClassRef:_e(e,"fileListClass"),fileListStyleRef:_e(e,"fileListStyle"),abstractRef:_e(e,"abstract"),acceptRef:_e(e,"accept"),cssVarsRef:t?void 0:$,themeClassRef:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender,showTriggerRef:_e(e,"showTrigger"),imageGroupPropsRef:_e(e,"imageGroupProps"),mergedDirectoryDndRef:he(()=>{var B;return(B=e.directoryDnd)!==null&&B!==void 0?B:e.directory})});const L={clear:()=>{n.value=[]},submit:A,openOpenFileDialog:w};return Object.assign({mergedClsPrefix:h,draggerInsideRef:o,inputElRef:r,mergedTheme:u,dragOver:l,mergedMultiple:m,cssVars:t?void 0:$,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender,handleFileInputChange:g},L)},render(){var e,h;const{draggerInsideRef:t,mergedClsPrefix:u,$slots:s,directory:n,onRender:i}=this;if(s.default&&!this.abstract){const o=s.default()[0];!((e=o==null?void 0:o.type)===null||e===void 0)&&e[ci]&&(t.value=!0)}const r=y("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${u}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:n||void 0,directory:n||void 0}));return this.abstract?y(ut,null,(h=s.default)===null||h===void 0?void 0:h.call(s),y(Lo,{to:"body"},r)):(i==null||i(),y("div",{class:[`${u}-upload`,t.value&&`${u}-upload--dragger-inside`,this.dragOver&&`${u}-upload--drag-over`,this.themeClass],style:this.cssVars},r,this.showTrigger&&this.listType!=="image-card"&&y(fi,null,s),this.showFileList&&y(gl,null,s)))}}),Sl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Rl=Ze("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),zl=Ze("path",{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38z",fill:"currentColor"},null,-1),Bl=Ze("path",{d:"M399.34 90L218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z",fill:"currentColor"},null,-1),Al=[Rl,zl,Bl],Il=be({name:"CreateOutline",render:function(h,t){return et(),Pt("svg",Sl,Al)}}),El={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pl=Ze("path",{d:"M432 144l-28.67 275.74A32 32 0 0 1 371.55 448H140.46a32 32 0 0 1-31.78-28.26L80 144",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ol=Ze("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Tl=Ze("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M312 240L200 352"},null,-1),Dl=Ze("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M312 352L200 240"},null,-1),$l=[Pl,Ol,Tl,Dl],Ll=be({name:"TrashBinOutline",render:function(h,t){return et(),Pt("svg",El,$l)}});function qt(e,h){let t=!1;const{x:u,y:s}=e,n=h.length;for(let i=0,r=n-1;i<n;r=i++){const o=h[i].x,l=h[i].y,c=h[r].x,v=h[r].y;l>s!=v>s&&u<(c-o)*(s-l)/(v-l)+o&&(t=!t)}return t}const gi=le(),Te={x:0,y:0};let je=1,Et=.1,fn=4,pn=Et,vi=.4;const lt=le([{name:"头盔",color:"#18a058"},{name:"口罩",color:"#f0a020"},{name:"飞机",color:"#2080f0"}]);let rt=[];const ve=le(),cr=le(!1);let ie,Qe=7;const mi=le();function qr(){const e=rt.map(h=>({name:h.name,...h.points}));ie&&e.push({name:ie.name,...ie.points}),mi.value=e}let ze;const hr=new Image;function bi(e,h){const{naturalWidth:t,naturalHeight:u}=hr,s=t/u,i=e/h<=s,r=i?e:h*s,o=i?e/s:h,l=i?0:(e-r)/2,c=i?(h-o)/2:0;return{width:je*r,height:je*o,left:je*l+Te.x,top:je*c+Te.y}}function jr(e,h,t,u){const{ctx:s,left:n,top:i,width:r,height:o}=ze,l=18*je,c=5*je;s.font=l+"px serif";let v=s.measureText(t);s.fillStyle=u,s.fillRect(n+e*r,i+h*o-(l+2*c),v.width+2*c,l+2*c),s.fillStyle="white",s.textBaseline="bottom",s.fillText(t,n+e*r+c,i+h*o-c)}function Fl(){const{ctx:e,left:h,top:t,width:u,height:s}=ze;function n(i,r,o,l,c){e.fillStyle=c+(255*vi).toString(16).split(".")[0],e.fillRect(i,r,o,l),e.strokeStyle=c,e.strokeRect(i,r,o,l)}if(rt.forEach(i=>{n(h+i.points.x*u,t+i.points.y*s,i.points.w*u,i.points.h*s,i.color),jr(i.points.x,i.points.y,i.name,i.color)}),ve.value&&ve.value.points.length>1){const i=Math.min(ve.value.points[0].x,ve.value.points[1].x),r=Math.min(ve.value.points[0].y,ve.value.points[1].y),o=Math.max(ve.value.points[0].x,ve.value.points[1].x)-i,l=Math.max(ve.value.points[0].y,ve.value.points[1].y)-r;n(h+i*u,t+r*s,o*u,l*s,ve.value.color),jr(i,r,ve.value.name,ve.value.color)}}function fr(){ie&&(rt.push(ie),ie=void 0)}function wi(){if(!ie)return;const{left:e,top:h,width:t,height:u}=ze,{x:s,y:n,w:i,h:r}=ie.points;return[{x:s,y:n,type:"left-top"},{x:s+i/2,y:n,type:"center-top"},{x:s+i,y:n,type:"right-top"},{x:s+i,y:n+r/2,type:"right-center"},{x:s+i,y:n+r,type:"right-bottom"},{x:s+i/2,y:n+r,type:"center-bottom"},{x:s,y:n+r,type:"left-bottom"},{x:s,y:n+r/2,type:"left-center"}].map(({x:l,y:c,type:v})=>({x:l*t+e,y:c*u+h,type:v}))}function yi(e,h){const t=wi();if(!t)return;const{dom:u}=ze,{x:s,y:n}=u.getBoundingClientRect();function i(r){const o=r.x+s,l=r.y+n;return[{x:o-Qe,y:l-Qe},{x:o+Qe,y:l-Qe},{x:o+Qe,y:l+Qe},{x:o-Qe,y:l+Qe}]}return t.find(r=>qt({x:e,y:h},i(r)))}function Ul(){if(!ie)return;const{ctx:e,left:h,top:t,width:u,height:s}=ze,{points:n,color:i}=ie,r=h+n.x*u,o=t+n.y*s,l=n.w*u,c=n.h*s;e.fillStyle=i+(255*vi).toString(16).split(".")[0],e.fillRect(r,o,l,c),e.strokeStyle="white",e.strokeRect(r,o,l,c),jr(n.x,n.y,ie.name,ie.color);const v=wi();v==null||v.forEach(({x:b,y:f})=>{e.strokeStyle=i,e.beginPath(),e.arc(b,f,Qe,0,2*Math.PI),e.stroke(),e.fillStyle="white",e.fill()})}function Ml(){const{clientWidth:e,clientHeight:h,ctx:t}=ze,{left:u,top:s,width:n,height:i}=bi(e,h);t.drawImage(hr,u,s,n,i)}function Xe(){const e=gi.value,h=e.getContext("2d");if(!e||!h)return;const{clientWidth:t,clientHeight:u}=e;e.width=t,e.height=u;const{x:s,y:n}=e.getBoundingClientRect(),{left:i,top:r,width:o,height:l}=bi(t,u);h.clearRect(Te.x,Te.y,t+Te.x,u+Te.y),ze={dom:e,ctx:h,clientWidth:t,clientHeight:u,x:s,y:n,left:i,top:r,width:o,height:l},Ml(),Fl(),Ul()}let Xr=!1,Gr=!1,we,Ye={};function xi(e){if(!ze)return;const{clientX:h,clientY:t}=e,{left:u,top:s,width:n,height:i,x:r,y:o}=ze;return{x:(h-(r+u))/n,y:(t-(o+s))/i}}function pr(e){const{left:h,top:t,width:u,height:s}=ze,n=h+e.points.x*u,i=t+e.points.y*s,r=e.points.w*u,o=e.points.h*s;return[{x:n,y:i},{x:n+r,y:i},{x:n+r,y:i+o},{x:n,y:i+o}]}const gn=function(){const e=en(()=>window.$message.warning(`放大到最大值了！ ${fn} 倍`),200),h=en(()=>window.$message.warning(`缩小到最小值了！ ${pn} 倍`),200);return function(t){if(!ze)return;const{x:u,y:s}=ze,{deltaY:n,clientX:i,clientY:r}=t;function o(){const c=u+Te.x,v=s+Te.y,b=i-c,f=r-v,w=n>0?-Et:Et,g=je-w,x=b/g*w,m=f/g*w;i<c?Te.x+=x:i>c&&(Te.x-=x),r<v?Te.y+=m:r>v&&(Te.y-=m),Xe()}function l(){var c;if(n<0&&je>=fn)e();else if(n>0&&je<=pn)h();else{const v=((c=Et.toString().split(".")[1])==null?void 0:c.length)||0,b=n>0?-Et:Et;je=Number((je+b).toFixed(v)),o()}}l()}}();function vn(e){const{clientX:h,clientY:t}=e;if(!(!ze||Xr)){if(ve.value){const u=xi(e);if(u===void 0)return;if(ve.value.points.length===0)ve.value.points[0]=u;else{const s=Math.min(ve.value.points[0].x,u.x),n=Math.min(ve.value.points[0].y,u.y),i=Math.max(ve.value.points[0].x,u.x)-s,r=Math.max(ve.value.points[0].y,u.y)-n;if(rt.push({id:Wr(),name:ve.value.name,color:ve.value.color,points:{x:s,y:n,w:i,h:r}}),qr(),cr.value){const o=ve.value;ve.value={name:o.name,color:o.color,points:[]}}else ve.value=void 0}Xe()}else if(!we){const{x:u,y:s}=ze;if(ie&&qt({x:h-u,y:t-s},pr(ie)))fr(),Xe();else{const i=[...rt];i.sort((o,l)=>o.points.w*o.points.h-l.points.w*l.points.h);const r=i.find(o=>qt({x:h-u,y:t-s},pr(o)));fr(),r&&(rt=rt.filter(o=>o.id!==r.id),ie=r),Xe()}}}}function mn(e){const{clientX:h,clientY:t}=e;if(!ze)return;const{x:u,y:s,dom:n}=ze;if(ie){const i=yi(h,t),r=ie&&qt({x:h-u,y:t-s},pr(ie));(i||r)&&(we=i?i.type:"box",Ye={x:h,y:t},r&&!i&&(n.style.cursor="move"))}else ve.value||(Gr=!0)}function bn(){if(Ye={},Gr=!1,requestAnimationFrame(()=>{we=void 0,Xr=!1}),!ze)return;const{dom:e}=ze;e.style.cursor="inherit"}const _i={"left-top":"nwse-resize","center-top":"ns-resize","right-top":"nesw-resize","right-center":"ew-resize","right-bottom":"nwse-resize","center-bottom":"ns-resize","left-bottom":"nesw-resize","left-center":"ew-resize"};function Nl(e,h){if(!we)return;const{x:t,y:u}=Ye;if(t===void 0||u===void 0||!ie)return;const{width:s,height:n,dom:i}=ze,r={x:(e-t)/s,y:(h-u)/n};if(Ye={x:e,y:h},we=="left-top"){ie.points.x+=r.x,ie.points.y+=r.y,ie.points.w+=-r.x,ie.points.h+=-r.y;const o=ie.points.w<0,l=ie.points.h<0;o&&l?we="right-bottom":o?we="right-top":l&&(we="left-bottom")}else if(we=="center-top")ie.points.y+=r.y,ie.points.h+=-r.y,ie.points.h<0&&(we="center-bottom");else if(we=="right-top"){ie.points.y+=r.y,ie.points.w+=r.x,ie.points.h+=-r.y;const o=ie.points.w<0,l=ie.points.h<0;o&&l?we="left-bottom":o?we="left-top":l&&(we="right-bottom")}else if(we=="right-center")ie.points.w+=r.x,ie.points.w<0&&(we="left-center");else if(we=="right-bottom"){ie.points.w+=r.x,ie.points.h+=r.y;const o=ie.points.w<0,l=ie.points.h<0;o&&l?we="left-top":o?we="left-bottom":l&&(we="right-top")}else if(we=="center-bottom")ie.points.h+=r.y,ie.points.h<0&&(we="center-top");else if(we=="left-bottom"){ie.points.x+=r.x,ie.points.w+=-r.x,ie.points.h+=r.y;const o=ie.points.w<0,l=ie.points.h<0;o&&l?we="right-top":o?we="right-bottom":l&&(we="left-top")}else we=="left-center"?(ie.points.x+=r.x,ie.points.w+=-r.x,ie.points.w<0&&(we="right-center")):we=="box"&&(ie.points.x+=r.x,ie.points.y+=r.y);we!="box"&&(i.style.cursor=_i[we]),ie.points.w<0&&(ie.points.x+=ie.points.w,ie.points.w=-ie.points.w),ie.points.h<0&&(ie.points.y+=ie.points.h,ie.points.h=-ie.points.h),qr(),Xe()}function wn(e){const{clientX:h,clientY:t}=e;if(ze){if(Gr)Ye.x!==void 0&&Ye.y!==void 0&&(Xr=!0,Te.x+=h-Ye.x,Te.y+=t-Ye.y,Xe()),Ye.x=h,Ye.y=t;else if(ve.value!==void 0&&ve.value.points.length>0){const u=xi(e);if(u===void 0)return;ve.value.points[1]=u,Xe()}else if(ie)if(we)Nl(h,t);else{const{x:u,y:s,dom:n}=ze,i=yi(h,t),r=qt({x:h-u,y:t-s},pr(ie));i||r?n.style.cursor=i?_i[i.type]:"move":n.style.cursor="inherit"}}}function yn(e){if(ze&&e.key==="Delete"){const h=!!ve.value,t=!!ie;ve.value=void 0,ie=void 0,t&&qr(),(h||t)&&Xe()}}function xn(e){if(ze)if(e.preventDefault(),ve.value){const h=ve.value.points.length>0;ve.value=void 0,h&&Xe()}else ie&&(fr(),Xe())}function jl(e){const h=lt.value[e];!ze||!h||(ve.value={...h,points:[]},ie&&fr())}function Br(e){if(rt=[],ie=void 0,ve.value=void 0,e){const{src:h}=e;hr.src=h,rt=e.boxList.map(t=>{const u=lt.value.find(n=>n.name===t.name);if(!u)return;const s={...t};return delete s.name,{id:Wr(),name:t.name,color:u.color,points:s}}).filter(Boolean),hr.onload=function(){je=1,Te.x=0,Te.y=0,Xe()}}else if(ze){const{ctx:h,clientWidth:t,clientHeight:u}=ze;h.clearRect(Te.x,Te.y,t+Te.x,u+Te.y)}}function Wl(){const e="0123456789ABCDEF";let h="#";for(let t=0;t<6;t++)h+=e[Math.floor(Math.random()*16)];return h}function Vl(e){return()=>y(Un,null,{default:()=>y(e)})}function Hl(){const e=le(Wl()),h=le("你好啊你好");window.$dialog.create({icon:Vl(Il),title:"添加方框类别",content:()=>y(lr,{vertical:!0},()=>[y(ii,{label:"类别名称",value:h.value,onUpdateValue:t=>h.value=t}),y(Is,{modes:["hex"],"show-alpha":!1,label:"类别颜色",value:e.value,onUpdateValue:t=>e.value=t})]),positiveText:"添加",negativeText:"取消",onPositiveClick:()=>{lt.value.push({name:h.value,color:e.value})}})}const Zl=""+new URL("1-D6MQjZe8.avif",import.meta.url).href,ql=""+new URL("2-BR1XFc7x.avif",import.meta.url).href;function or(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ki={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,h){(function(t){e.exports=t()})(function(){return function t(u,s,n){function i(l,c){if(!s[l]){if(!u[l]){var v=typeof or=="function"&&or;if(!c&&v)return v(l,!0);if(r)return r(l,!0);var b=new Error("Cannot find module '"+l+"'");throw b.code="MODULE_NOT_FOUND",b}var f=s[l]={exports:{}};u[l][0].call(f.exports,function(w){var g=u[l][1][w];return i(g||w)},f,f.exports,t,u,s,n)}return s[l].exports}for(var r=typeof or=="function"&&or,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,u,s){var n=t("./utils"),i=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(o){for(var l,c,v,b,f,w,g,x=[],m=0,_=o.length,R=_,A=n.getTypeOf(o)!=="string";m<o.length;)R=_-m,v=A?(l=o[m++],c=m<_?o[m++]:0,m<_?o[m++]:0):(l=o.charCodeAt(m++),c=m<_?o.charCodeAt(m++):0,m<_?o.charCodeAt(m++):0),b=l>>2,f=(3&l)<<4|c>>4,w=1<R?(15&c)<<2|v>>6:64,g=2<R?63&v:64,x.push(r.charAt(b)+r.charAt(f)+r.charAt(w)+r.charAt(g));return x.join("")},s.decode=function(o){var l,c,v,b,f,w,g=0,x=0,m="data:";if(o.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var _,R=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===r.charAt(64)&&R--,o.charAt(o.length-2)===r.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=i.uint8array?new Uint8Array(0|R):new Array(0|R);g<o.length;)l=r.indexOf(o.charAt(g++))<<2|(b=r.indexOf(o.charAt(g++)))>>4,c=(15&b)<<4|(f=r.indexOf(o.charAt(g++)))>>2,v=(3&f)<<6|(w=r.indexOf(o.charAt(g++))),_[x++]=l,f!==64&&(_[x++]=c),w!==64&&(_[x++]=v);return _}},{"./support":30,"./utils":32}],2:[function(t,u,s){var n=t("./external"),i=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");function l(c,v,b,f,w){this.compressedSize=c,this.uncompressedSize=v,this.crc32=b,this.compression=f,this.compressedContent=w}l.prototype={getContentWorker:function(){var c=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),v=this;return c.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(c,v,b){return c.pipe(new r).pipe(new o("uncompressedSize")).pipe(v.compressWorker(b)).pipe(new o("compressedSize")).withStreamInfo("compression",v)},u.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,u,s){var n=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,u,s){var n=t("./utils"),i=function(){for(var r,o=[],l=0;l<256;l++){r=l;for(var c=0;c<8;c++)r=1&r?3988292384^r>>>1:r>>>1;o[l]=r}return o}();u.exports=function(r,o){return r!==void 0&&r.length?n.getTypeOf(r)!=="string"?function(l,c,v,b){var f=i,w=b+v;l^=-1;for(var g=b;g<w;g++)l=l>>>8^f[255&(l^c[g])];return-1^l}(0|o,r,r.length,0):function(l,c,v,b){var f=i,w=b+v;l^=-1;for(var g=b;g<w;g++)l=l>>>8^f[255&(l^c.charCodeAt(g))];return-1^l}(0|o,r,r.length,0):0}},{"./utils":32}],5:[function(t,u,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,u,s){var n=null;n=typeof Promise<"u"?Promise:t("lie"),u.exports={Promise:n}},{lie:37}],7:[function(t,u,s){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=t("pako"),r=t("./utils"),o=t("./stream/GenericWorker"),l=n?"uint8array":"array";function c(v,b){o.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=b,this.meta={}}s.magic="\b\0",r.inherits(c,o),c.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(l,v.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(b){v.push({data:b,meta:v.meta})}},s.compressWorker=function(v){return new c("Deflate",v)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,u,s){function n(f,w){var g,x="";for(g=0;g<w;g++)x+=String.fromCharCode(255&f),f>>>=8;return x}function i(f,w,g,x,m,_){var R,A,S=f.file,$=f.compression,O=_!==l.utf8encode,L=r.transformTo("string",_(S.name)),B=r.transformTo("string",l.utf8encode(S.name)),W=S.comment,J=r.transformTo("string",_(W)),C=r.transformTo("string",l.utf8encode(W)),U=B.length!==S.name.length,d=C.length!==W.length,M="",re="",V="",ne=S.dir,X=S.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};w&&!g||(ae.crc32=f.crc32,ae.compressedSize=f.compressedSize,ae.uncompressedSize=f.uncompressedSize);var F=0;w&&(F|=8),O||!U&&!d||(F|=2048);var D=0,se=0;ne&&(D|=16),m==="UNIX"?(se=798,D|=function(Y,fe){var Se=Y;return Y||(Se=fe?16893:33204),(65535&Se)<<16}(S.unixPermissions,ne)):(se=20,D|=function(Y){return 63&(Y||0)}(S.dosPermissions)),R=X.getUTCHours(),R<<=6,R|=X.getUTCMinutes(),R<<=5,R|=X.getUTCSeconds()/2,A=X.getUTCFullYear()-1980,A<<=4,A|=X.getUTCMonth()+1,A<<=5,A|=X.getUTCDate(),U&&(re=n(1,1)+n(c(L),4)+B,M+="up"+n(re.length,2)+re),d&&(V=n(1,1)+n(c(J),4)+C,M+="uc"+n(V.length,2)+V);var ee="";return ee+=`
\0`,ee+=n(F,2),ee+=$.magic,ee+=n(R,2),ee+=n(A,2),ee+=n(ae.crc32,4),ee+=n(ae.compressedSize,4),ee+=n(ae.uncompressedSize,4),ee+=n(L.length,2),ee+=n(M.length,2),{fileRecord:v.LOCAL_FILE_HEADER+ee+L+M,dirRecord:v.CENTRAL_FILE_HEADER+n(se,2)+ee+n(J.length,2)+"\0\0\0\0"+n(D,4)+n(x,4)+L+M+J}}var r=t("../utils"),o=t("../stream/GenericWorker"),l=t("../utf8"),c=t("../crc32"),v=t("../signature");function b(f,w,g,x){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=g,this.encodeFileName=x,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,o),b.prototype.push=function(f){var w=f.meta.percent||0,g=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,o.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(w+100*(g-x-1))/g:100}}))},b.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var w=this.streamFiles&&!f.file.dir;if(w){var g=i(f,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(f){this.accumulate=!1;var w=this.streamFiles&&!f.file.dir,g=i(f,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),w)this.push({data:function(x){return v.DATA_DESCRIPTOR+n(x.crc32,4)+n(x.compressedSize,4)+n(x.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var f=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var g=this.bytesWritten-f,x=function(m,_,R,A,S){var $=r.transformTo("string",S(A));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(m,2)+n(m,2)+n(_,4)+n(R,4)+n($.length,2)+$}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(f){this._sources.push(f);var w=this;return f.on("data",function(g){w.processChunk(g)}),f.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),f.on("error",function(g){w.error(g)}),this},b.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(f){var w=this._sources;if(!o.prototype.error.call(this,f))return!1;for(var g=0;g<w.length;g++)try{w[g].error(f)}catch{}return!0},b.prototype.lock=function(){o.prototype.lock.call(this);for(var f=this._sources,w=0;w<f.length;w++)f[w].lock()},u.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,u,s){var n=t("../compressions"),i=t("./ZipFileWorker");s.generateWorker=function(r,o,l){var c=new i(o.streamFiles,l,o.platform,o.encodeFileName),v=0;try{r.forEach(function(b,f){v++;var w=function(_,R){var A=_||R,S=n[A];if(!S)throw new Error(A+" is not a valid compression method !");return S}(f.options.compression,o.compression),g=f.options.compressionOptions||o.compressionOptions||{},x=f.dir,m=f.date;f._compressWorker(w,g).withStreamInfo("file",{name:b,dir:x,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=v}catch(b){c.error(b)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,u,s){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new n;for(var r in this)typeof this[r]!="function"&&(i[r]=this[r]);return i}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(i,r){return new n().loadAsync(i,r)},n.external=t("./external"),u.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,u,s){var n=t("./utils"),i=t("./external"),r=t("./utf8"),o=t("./zipEntries"),l=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function v(b){return new i.Promise(function(f,w){var g=b.decompressed.getContentWorker().pipe(new l);g.on("error",function(x){w(x)}).on("end",function(){g.streamInfo.crc32!==b.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}u.exports=function(b,f){var w=this;return f=n.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),c.isNode&&c.isStream(b)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,f.optimizedBinaryString,f.base64).then(function(g){var x=new o(f);return x.load(g),x}).then(function(g){var x=[i.Promise.resolve(g)],m=g.files;if(f.checkCRC32)for(var _=0;_<m.length;_++)x.push(v(m[_]));return i.Promise.all(x)}).then(function(g){for(var x=g.shift(),m=x.files,_=0;_<m.length;_++){var R=m[_],A=R.fileNameStr,S=n.resolve(R.fileNameStr);w.file(S,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:f.createFolders}),R.dir||(w.file(S).unsafeOriginalName=A)}return x.zipComment.length&&(w.comment=x.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,u,s){var n=t("../utils"),i=t("../stream/GenericWorker");function r(o,l){i.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(l)}n.inherits(r,i),r.prototype._bindStream=function(o){var l=this;(this._stream=o).pause(),o.on("data",function(c){l.push({data:c,meta:{percent:0}})}).on("error",function(c){l.isPaused?this.generatedError=c:l.error(c)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},r.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,u,s){var n=t("readable-stream").Readable;function i(r,o,l){n.call(this,o),this._helper=r;var c=this;r.on("data",function(v,b){c.push(v)||c._helper.pause(),l&&l(b)}).on("error",function(v){c.emit("error",v)}).on("end",function(){c.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},u.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,u,s){u.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,i);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,i)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var i=new Buffer(n);return i.fill(0),i},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,u,s){function n(S,$,O){var L,B=r.getTypeOf($),W=r.extend(O||{},c);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(S=m(S)),W.createFolders&&(L=x(S))&&_.call(this,L,!0);var J=B==="string"&&W.binary===!1&&W.base64===!1;O&&O.binary!==void 0||(W.binary=!J),($ instanceof v&&$.uncompressedSize===0||W.dir||!$||$.length===0)&&(W.base64=!1,W.binary=!0,$="",W.compression="STORE",B="string");var C=null;C=$ instanceof v||$ instanceof o?$:w.isNode&&w.isStream($)?new g(S,$):r.prepareContent(S,$,W.binary,W.optimizedBinaryString,W.base64);var U=new b(S,C,W);this.files[S]=U}var i=t("./utf8"),r=t("./utils"),o=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),c=t("./defaults"),v=t("./compressedObject"),b=t("./zipObject"),f=t("./generate"),w=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),x=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var $=S.lastIndexOf("/");return 0<$?S.substring(0,$):""},m=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,$){return $=$!==void 0?$:c.createFolders,S=m(S),this.files[S]||n.call(this,S,null,{dir:!0,createFolders:$}),this.files[S]};function R(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var $,O,L;for($ in this.files)L=this.files[$],(O=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&S(O,L)},filter:function(S){var $=[];return this.forEach(function(O,L){S(O,L)&&$.push(L)}),$},file:function(S,$,O){if(arguments.length!==1)return S=this.root+S,n.call(this,S,$,O),this;if(R(S)){var L=S;return this.filter(function(W,J){return!J.dir&&L.test(W)})}var B=this.files[this.root+S];return B&&!B.dir?B:null},folder:function(S){if(!S)return this;if(R(S))return this.filter(function(B,W){return W.dir&&S.test(B)});var $=this.root+S,O=_.call(this,$),L=this.clone();return L.root=O.name,L},remove:function(S){S=this.root+S;var $=this.files[S];if($||(S.slice(-1)!=="/"&&(S+="/"),$=this.files[S]),$&&!$.dir)delete this.files[S];else for(var O=this.filter(function(B,W){return W.name.slice(0,S.length)===S}),L=0;L<O.length;L++)delete this.files[O[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var $,O={};try{if((O=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");r.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var L=O.comment||this.comment||"";$=f.generateWorker(this,O,L)}catch(B){($=new o("error")).error(B)}return new l($,O.type||"string",O.mimeType)},generateAsync:function(S,$){return this.generateInternalStream(S).accumulate($)},generateNodeStream:function(S,$){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream($)}};u.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,u,s){u.exports=t("stream")},{stream:void 0}],17:[function(t,u,s){var n=t("./DataReader");function i(r){n.call(this,r);for(var o=0;o<this.data.length;o++)r[o]=255&r[o]}t("../utils").inherits(i,n),i.prototype.byteAt=function(r){return this.data[this.zero+r]},i.prototype.lastIndexOfSignature=function(r){for(var o=r.charCodeAt(0),l=r.charCodeAt(1),c=r.charCodeAt(2),v=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===o&&this.data[b+1]===l&&this.data[b+2]===c&&this.data[b+3]===v)return b-this.zero;return-1},i.prototype.readAndCheckSignature=function(r){var o=r.charCodeAt(0),l=r.charCodeAt(1),c=r.charCodeAt(2),v=r.charCodeAt(3),b=this.readData(4);return o===b[0]&&l===b[1]&&c===b[2]&&v===b[3]},i.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},u.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,u,s){var n=t("../utils");function i(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var o,l=0;for(this.checkOffset(r),o=this.index+r-1;o>=this.index;o--)l=(l<<8)+this.byteAt(o);return this.index+=r,l},readString:function(r){return n.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},u.exports=i},{"../utils":32}],19:[function(t,u,s){var n=t("./Uint8ArrayReader");function i(r){n.call(this,r)}t("../utils").inherits(i,n),i.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},u.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,u,s){var n=t("./DataReader");function i(r){n.call(this,r)}t("../utils").inherits(i,n),i.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},i.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},i.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},i.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},u.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,u,s){var n=t("./ArrayReader");function i(r){n.call(this,r)}t("../utils").inherits(i,n),i.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},u.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,u,s){var n=t("../utils"),i=t("../support"),r=t("./ArrayReader"),o=t("./StringReader"),l=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");u.exports=function(v){var b=n.getTypeOf(v);return n.checkSupport(b),b!=="string"||i.uint8array?b==="nodebuffer"?new l(v):i.uint8array?new c(n.transformTo("uint8array",v)):new r(n.transformTo("array",v)):new o(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,u,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,u,s){var n=t("./GenericWorker"),i=t("../utils");function r(o){n.call(this,"ConvertWorker to "+o),this.destType=o}i.inherits(r,n),r.prototype.processChunk=function(o){this.push({data:i.transformTo(this.destType,o.data),meta:o.meta})},u.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,u,s){var n=t("./GenericWorker"),i=t("../crc32");function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,n),r.prototype.processChunk=function(o){this.streamInfo.crc32=i(o.data,this.streamInfo.crc32||0),this.push(o)},u.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,u,s){var n=t("../utils"),i=t("./GenericWorker");function r(o){i.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(r,i),r.prototype.processChunk=function(o){if(o){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+o.data.length}i.prototype.processChunk.call(this,o)},u.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,u,s){var n=t("../utils"),i=t("./GenericWorker");function r(o){i.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(c){l.dataIsReady=!0,l.data=c,l.max=c&&c.length||0,l.type=n.getTypeOf(c),l.isPaused||l._tickAndRepeat()},function(c){l.error(c)})}n.inherits(r,i),r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,l);break;case"uint8array":o=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":o=this.data.slice(this.index,l)}return this.index=l,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,u,s){function n(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,r){return this._listeners[i].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,r){if(this._listeners[i])for(var o=0;o<this._listeners[i].length;o++)this._listeners[i][o].call(this,r)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var r=this;return i.on("data",function(o){r.processChunk(o)}),i.on("end",function(){r.end()}),i.on("error",function(o){r.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,r){return this.extraStreamInfo[i]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},u.exports=n},{}],29:[function(t,u,s){var n=t("../utils"),i=t("./ConvertWorker"),r=t("./GenericWorker"),o=t("../base64"),l=t("../support"),c=t("../external"),v=null;if(l.nodestream)try{v=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(w,g){return new c.Promise(function(x,m){var _=[],R=w._internalType,A=w._outputType,S=w._mimeType;w.on("data",function($,O){_.push($),g&&g(O)}).on("error",function($){_=[],m($)}).on("end",function(){try{var $=function(O,L,B){switch(O){case"blob":return n.newBlob(n.transformTo("arraybuffer",L),B);case"base64":return o.encode(L);default:return n.transformTo(O,L)}}(A,function(O,L){var B,W=0,J=null,C=0;for(B=0;B<L.length;B++)C+=L[B].length;switch(O){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(J=new Uint8Array(C),B=0;B<L.length;B++)J.set(L[B],W),W+=L[B].length;return J;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+O+"'")}}(R,_),S);x($)}catch(O){m(O)}_=[]}).resume()})}function f(w,g,x){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=x,n.checkSupport(m),this._worker=w.pipe(new i(m)),w.lock()}catch(_){this._worker=new r("error"),this._worker.error(_)}}f.prototype={accumulate:function(w){return b(this,w)},on:function(w,g){var x=this;return w==="data"?this._worker.on(w,function(m){g.call(x,m.data,m.meta)}):this._worker.on(w,function(){n.delay(g,arguments,x)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},w)}},u.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,u,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var n=new ArrayBuffer(0);try{s.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),s.blob=i.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,u,s){for(var n=t("./utils"),i=t("./support"),r=t("./nodejsUtils"),o=t("./stream/GenericWorker"),l=new Array(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;l[254]=l[254]=1;function v(){o.call(this,"utf-8 decode"),this.leftOver=null}function b(){o.call(this,"utf-8 encode")}s.utf8encode=function(f){return i.nodebuffer?r.newBufferFrom(f,"utf-8"):function(w){var g,x,m,_,R,A=w.length,S=0;for(_=0;_<A;_++)(64512&(x=w.charCodeAt(_)))==55296&&_+1<A&&(64512&(m=w.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),S+=x<128?1:x<2048?2:x<65536?3:4;for(g=i.uint8array?new Uint8Array(S):new Array(S),_=R=0;R<S;_++)(64512&(x=w.charCodeAt(_)))==55296&&_+1<A&&(64512&(m=w.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),x<128?g[R++]=x:(x<2048?g[R++]=192|x>>>6:(x<65536?g[R++]=224|x>>>12:(g[R++]=240|x>>>18,g[R++]=128|x>>>12&63),g[R++]=128|x>>>6&63),g[R++]=128|63&x);return g}(f)},s.utf8decode=function(f){return i.nodebuffer?n.transformTo("nodebuffer",f).toString("utf-8"):function(w){var g,x,m,_,R=w.length,A=new Array(2*R);for(g=x=0;g<R;)if((m=w[g++])<128)A[x++]=m;else if(4<(_=l[m]))A[x++]=65533,g+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&g<R;)m=m<<6|63&w[g++],_--;1<_?A[x++]=65533:m<65536?A[x++]=m:(m-=65536,A[x++]=55296|m>>10&1023,A[x++]=56320|1023&m)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),n.applyFromCharCode(A)}(f=n.transformTo(i.uint8array?"uint8array":"array",f))},n.inherits(v,o),v.prototype.processChunk=function(f){var w=n.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var g=w;(w=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),w.set(g,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var x=function(_,R){var A;for((R=R||_.length)>_.length&&(R=_.length),A=R-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?R:A+l[_[A]]>R?A:R}(w),m=w;x!==w.length&&(i.uint8array?(m=w.subarray(0,x),this.leftOver=w.subarray(x,w.length)):(m=w.slice(0,x),this.leftOver=w.slice(x,w.length))),this.push({data:s.utf8decode(m),meta:f.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,n.inherits(b,o),b.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,u,s){var n=t("./support"),i=t("./base64"),r=t("./nodejsUtils"),o=t("./external");function l(g){return g}function c(g,x){for(var m=0;m<g.length;++m)x[m]=255&g.charCodeAt(m);return x}t("setimmediate"),s.newBlob=function(g,x){s.checkSupport("blob");try{return new Blob([g],{type:x})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(g,x,m){var _=[],R=0,A=g.length;if(A<=m)return String.fromCharCode.apply(null,g);for(;R<A;)x==="array"||x==="nodebuffer"?_.push(String.fromCharCode.apply(null,g.slice(R,Math.min(R+m,A)))):_.push(String.fromCharCode.apply(null,g.subarray(R,Math.min(R+m,A)))),R+=m;return _.join("")},stringifyByChar:function(g){for(var x="",m=0;m<g.length;m++)x+=String.fromCharCode(g[m]);return x},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(g){var x=65536,m=s.getTypeOf(g),_=!0;if(m==="uint8array"?_=v.applyCanBeUsed.uint8array:m==="nodebuffer"&&(_=v.applyCanBeUsed.nodebuffer),_)for(;1<x;)try{return v.stringifyByChunk(g,m,x)}catch{x=Math.floor(x/2)}return v.stringifyByChar(g)}function f(g,x){for(var m=0;m<g.length;m++)x[m]=g[m];return x}s.applyFromCharCode=b;var w={};w.string={string:l,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return w.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,r.allocBuffer(g.length))}},w.array={string:b,array:l,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return r.newBufferFrom(g)}},w.arraybuffer={string:function(g){return b(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:l,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return r.newBufferFrom(new Uint8Array(g))}},w.uint8array={string:b,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:l,nodebuffer:function(g){return r.newBufferFrom(g)}},w.nodebuffer={string:b,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return w.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:l},s.transformTo=function(g,x){if(x=x||"",!g)return x;s.checkSupport(g);var m=s.getTypeOf(x);return w[m][g](x)},s.resolve=function(g){for(var x=g.split("/"),m=[],_=0;_<x.length;_++){var R=x[_];R==="."||R===""&&_!==0&&_!==x.length-1||(R===".."?m.pop():m.push(R))}return m.join("/")},s.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":n.nodebuffer&&r.isBuffer(g)?"nodebuffer":n.uint8array&&g instanceof Uint8Array?"uint8array":n.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(g){if(!n[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(g){var x,m,_="";for(m=0;m<(g||"").length;m++)_+="\\x"+((x=g.charCodeAt(m))<16?"0":"")+x.toString(16).toUpperCase();return _},s.delay=function(g,x,m){setImmediate(function(){g.apply(m||null,x||[])})},s.inherits=function(g,x){function m(){}m.prototype=x.prototype,g.prototype=new m},s.extend=function(){var g,x,m={};for(g=0;g<arguments.length;g++)for(x in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],x)&&m[x]===void 0&&(m[x]=arguments[g][x]);return m},s.prepareContent=function(g,x,m,_,R){return o.Promise.resolve(x).then(function(A){return n.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new o.Promise(function(S,$){var O=new FileReader;O.onload=function(L){S(L.target.result)},O.onerror=function(L){$(L.target.error)},O.readAsArrayBuffer(A)}):A}).then(function(A){var S=s.getTypeOf(A);return S?(S==="arraybuffer"?A=s.transformTo("uint8array",A):S==="string"&&(R?A=i.decode(A):m&&_!==!0&&(A=function($){return c($,n.uint8array?new Uint8Array($.length):new Array($.length))}(A))),A):o.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,u,s){var n=t("./reader/readerFor"),i=t("./utils"),r=t("./signature"),o=t("./zipEntry"),l=t("./support");function c(v){this.files=[],this.loadOptions=v}c.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(b)+", expected "+i.pretty(v)+")")}},isSignature:function(v,b){var f=this.reader.index;this.reader.setIndex(v);var w=this.reader.readString(4)===b;return this.reader.setIndex(f),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),b=l.uint8array?"uint8array":"array",f=i.transformTo(b,v);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,b,f,w=this.zip64EndOfCentralSize-44;0<w;)v=this.reader.readInt(2),b=this.reader.readInt(4),f=this.reader.readData(b),this.zip64ExtensibleData[v]={id:v,length:b,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,b;for(v=0;v<this.files.length;v++)b=this.files[v],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(v=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var b=v;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var w=b-f;if(0<w)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(v){this.reader=n(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,u,s){var n=t("./reader/readerFor"),i=t("./utils"),r=t("./compressedObject"),o=t("./crc32"),l=t("./utf8"),c=t("./compressions"),v=t("./support");function b(f,w){this.options=f,this.loadOptions=w}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var w,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(x){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===x)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,w,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var w=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(w),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var w,g,x,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)w=f.readInt(2),g=f.readInt(2),x=f.readData(g),this.extraFields[w]={id:w,length:g,value:x};f.setIndex(m)},handleUTF8:function(){var f=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var g=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var m=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var w=n(f.value);return w.readInt(1)!==1||o(this.fileName)!==w.readInt(4)?null:l.utf8decode(w.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var w=n(f.value);return w.readInt(1)!==1||o(this.fileComment)!==w.readInt(4)?null:l.utf8decode(w.readData(f.length-5))}return null}},u.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,u,s){function n(w,g,x){this.name=w,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=g,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var i=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),o=t("./utf8"),l=t("./compressedObject"),c=t("./stream/GenericWorker");n.prototype={internalStream:function(w){var g=null,x="string";try{if(!w)throw new Error("No output type specified.");var m=(x=w.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),g=this._decompressWorker();var _=!this._dataBinary;_&&!m&&(g=g.pipe(new o.Utf8EncodeWorker)),!_&&m&&(g=g.pipe(new o.Utf8DecodeWorker))}catch(R){(g=new c("error")).error(R)}return new i(g,x,"")},async:function(w,g){return this.internalStream(w).accumulate(g)},nodeStream:function(w,g){return this.internalStream(w||"nodebuffer").toNodejsStream(g)},_compressWorker:function(w,g){if(this._data instanceof l&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(x,w,g)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof c?this._data:new r(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<v.length;f++)n.prototype[v[f]]=b;u.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,u,s){(function(n){var i,r,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var l=0,c=new o(w),v=n.document.createTextNode("");c.observe(v,{characterData:!0}),i=function(){v.data=l=++l%2}}else if(n.setImmediate||n.MessageChannel===void 0)i="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var g=n.document.createElement("script");g.onreadystatechange=function(){w(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},n.document.documentElement.appendChild(g)}:function(){setTimeout(w,0)};else{var b=new n.MessageChannel;b.port1.onmessage=w,i=function(){b.port2.postMessage(0)}}var f=[];function w(){var g,x;r=!0;for(var m=f.length;m;){for(x=f,f=[],g=-1;++g<m;)x[g]();m=f.length}r=!1}u.exports=function(g){f.push(g)!==1||r||i()}}).call(this,typeof rr<"u"?rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,u,s){var n=t("immediate");function i(){}var r={},o=["REJECTED"],l=["FULFILLED"],c=["PENDING"];function v(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==i&&g(this,m)}function b(m,_,R){this.promise=m,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function f(m,_,R){n(function(){var A;try{A=_(R)}catch(S){return r.reject(m,S)}A===m?r.reject(m,new TypeError("Cannot resolve promise with itself")):r.resolve(m,A)})}function w(m){var _=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof _=="function")return function(){_.apply(m,arguments)}}function g(m,_){var R=!1;function A(O){R||(R=!0,r.reject(m,O))}function S(O){R||(R=!0,r.resolve(m,O))}var $=x(function(){_(S,A)});$.status==="error"&&A($.value)}function x(m,_){var R={};try{R.value=m(_),R.status="success"}catch(A){R.status="error",R.value=A}return R}(u.exports=v).prototype.finally=function(m){if(typeof m!="function")return this;var _=this.constructor;return this.then(function(R){return _.resolve(m()).then(function(){return R})},function(R){return _.resolve(m()).then(function(){throw R})})},v.prototype.catch=function(m){return this.then(null,m)},v.prototype.then=function(m,_){if(typeof m!="function"&&this.state===l||typeof _!="function"&&this.state===o)return this;var R=new this.constructor(i);return this.state!==c?f(R,this.state===l?m:_,this.outcome):this.queue.push(new b(R,m,_)),R},b.prototype.callFulfilled=function(m){r.resolve(this.promise,m)},b.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},b.prototype.callRejected=function(m){r.reject(this.promise,m)},b.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},r.resolve=function(m,_){var R=x(w,_);if(R.status==="error")return r.reject(m,R.value);var A=R.value;if(A)g(m,A);else{m.state=l,m.outcome=_;for(var S=-1,$=m.queue.length;++S<$;)m.queue[S].callFulfilled(_)}return m},r.reject=function(m,_){m.state=o,m.outcome=_;for(var R=-1,A=m.queue.length;++R<A;)m.queue[R].callRejected(_);return m},v.resolve=function(m){return m instanceof this?m:r.resolve(new this(i),m)},v.reject=function(m){var _=new this(i);return r.reject(_,m)},v.all=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=m.length,A=!1;if(!R)return this.resolve([]);for(var S=new Array(R),$=0,O=-1,L=new this(i);++O<R;)B(m[O],O);return L;function B(W,J){_.resolve(W).then(function(C){S[J]=C,++$!==R||A||(A=!0,r.resolve(L,S))},function(C){A||(A=!0,r.reject(L,C))})}},v.race=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=m.length,A=!1;if(!R)return this.resolve([]);for(var S=-1,$=new this(i);++S<R;)O=m[S],_.resolve(O).then(function(L){A||(A=!0,r.resolve($,L))},function(L){A||(A=!0,r.reject($,L))});var O;return $}},{immediate:36}],38:[function(t,u,s){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),u.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,u,s){var n=t("./zlib/deflate"),i=t("./utils/common"),r=t("./utils/strings"),o=t("./zlib/messages"),l=t("./zlib/zstream"),c=Object.prototype.toString,v=0,b=-1,f=0,w=8;function g(m){if(!(this instanceof g))return new g(m);this.options=i.assign({level:b,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=n.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(R!==v)throw new Error(o[R]);if(_.header&&n.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?r.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(R=n.deflateSetDictionary(this.strm,A))!==v)throw new Error(o[R]);this._dict_set=!0}}function x(m,_){var R=new g(_);if(R.push(m,!0),R.err)throw R.msg||o[R.err];return R.result}g.prototype.push=function(m,_){var R,A,S=this.strm,$=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof m=="string"?S.input=r.string2buf(m):c.call(m)==="[object ArrayBuffer]"?S.input=new Uint8Array(m):S.input=m,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new i.Buf8($),S.next_out=0,S.avail_out=$),(R=n.deflate(S,A))!==1&&R!==v)return this.onEnd(R),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(i.shrinkBuf(S.output,S.next_out))):this.onData(i.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&R!==1);return A===4?(R=n.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===v):A!==2||(this.onEnd(v),!(S.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Deflate=g,s.deflate=x,s.deflateRaw=function(m,_){return(_=_||{}).raw=!0,x(m,_)},s.gzip=function(m,_){return(_=_||{}).gzip=!0,x(m,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,u,s){var n=t("./zlib/inflate"),i=t("./utils/common"),r=t("./utils/strings"),o=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),v=t("./zlib/gzheader"),b=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},g||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||g&&g.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=n.inflateInit2(this.strm,x.windowBits);if(m!==o.Z_OK)throw new Error(l[m]);this.header=new v,n.inflateGetHeader(this.strm,this.header)}function w(g,x){var m=new f(x);if(m.push(g,!0),m.err)throw m.msg||l[m.err];return m.result}f.prototype.push=function(g,x){var m,_,R,A,S,$,O=this.strm,L=this.options.chunkSize,B=this.options.dictionary,W=!1;if(this.ended)return!1;_=x===~~x?x:x===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof g=="string"?O.input=r.binstring2buf(g):b.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new i.Buf8(L),O.next_out=0,O.avail_out=L),(m=n.inflate(O,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&B&&($=typeof B=="string"?r.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,m=n.inflateSetDictionary(this.strm,$)),m===o.Z_BUF_ERROR&&W===!0&&(m=o.Z_OK,W=!1),m!==o.Z_STREAM_END&&m!==o.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==o.Z_STREAM_END&&(O.avail_in!==0||_!==o.Z_FINISH&&_!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=r.utf8border(O.output,O.next_out),A=O.next_out-R,S=r.buf2string(O.output,R),O.next_out=A,O.avail_out=L-A,A&&i.arraySet(O.output,O.output,R,A,0),this.onData(S)):this.onData(i.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(W=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==o.Z_STREAM_END);return m===o.Z_STREAM_END&&(_=o.Z_FINISH),_===o.Z_FINISH?(m=n.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===o.Z_OK):_!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(O.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Inflate=f,s.inflate=w,s.inflateRaw=function(g,x){return(x=x||{}).raw=!0,w(g,x)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,u,s){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var c=l.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var v in c)c.hasOwnProperty(v)&&(o[v]=c[v])}}return o},s.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var i={arraySet:function(o,l,c,v,b){if(l.subarray&&o.subarray)o.set(l.subarray(c,c+v),b);else for(var f=0;f<v;f++)o[b+f]=l[c+f]},flattenChunks:function(o){var l,c,v,b,f,w;for(l=v=0,c=o.length;l<c;l++)v+=o[l].length;for(w=new Uint8Array(v),l=b=0,c=o.length;l<c;l++)f=o[l],w.set(f,b),b+=f.length;return w}},r={arraySet:function(o,l,c,v,b){for(var f=0;f<v;f++)o[b+f]=l[c+f]},flattenChunks:function(o){return[].concat.apply([],o)}};s.setTyped=function(o){o?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,i)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,r))},s.setTyped(n)},{}],42:[function(t,u,s){var n=t("./common"),i=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(v,b){if(b<65537&&(v.subarray&&r||!v.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(v,b));for(var f="",w=0;w<b;w++)f+=String.fromCharCode(v[w]);return f}o[254]=o[254]=1,s.string2buf=function(v){var b,f,w,g,x,m=v.length,_=0;for(g=0;g<m;g++)(64512&(f=v.charCodeAt(g)))==55296&&g+1<m&&(64512&(w=v.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),g++),_+=f<128?1:f<2048?2:f<65536?3:4;for(b=new n.Buf8(_),g=x=0;x<_;g++)(64512&(f=v.charCodeAt(g)))==55296&&g+1<m&&(64512&(w=v.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),g++),f<128?b[x++]=f:(f<2048?b[x++]=192|f>>>6:(f<65536?b[x++]=224|f>>>12:(b[x++]=240|f>>>18,b[x++]=128|f>>>12&63),b[x++]=128|f>>>6&63),b[x++]=128|63&f);return b},s.buf2binstring=function(v){return c(v,v.length)},s.binstring2buf=function(v){for(var b=new n.Buf8(v.length),f=0,w=b.length;f<w;f++)b[f]=v.charCodeAt(f);return b},s.buf2string=function(v,b){var f,w,g,x,m=b||v.length,_=new Array(2*m);for(f=w=0;f<m;)if((g=v[f++])<128)_[w++]=g;else if(4<(x=o[g]))_[w++]=65533,f+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&f<m;)g=g<<6|63&v[f++],x--;1<x?_[w++]=65533:g<65536?_[w++]=g:(g-=65536,_[w++]=55296|g>>10&1023,_[w++]=56320|1023&g)}return c(_,w)},s.utf8border=function(v,b){var f;for((b=b||v.length)>v.length&&(b=v.length),f=b-1;0<=f&&(192&v[f])==128;)f--;return f<0||f===0?b:f+o[v[f]]>b?f:b}},{"./common":41}],43:[function(t,u,s){u.exports=function(n,i,r,o){for(var l=65535&n|0,c=n>>>16&65535|0,v=0;r!==0;){for(r-=v=2e3<r?2e3:r;c=c+(l=l+i[o++]|0)|0,--v;);l%=65521,c%=65521}return l|c<<16|0}},{}],44:[function(t,u,s){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,u,s){var n=function(){for(var i,r=[],o=0;o<256;o++){i=o;for(var l=0;l<8;l++)i=1&i?3988292384^i>>>1:i>>>1;r[o]=i}return r}();u.exports=function(i,r,o,l){var c=n,v=l+o;i^=-1;for(var b=l;b<v;b++)i=i>>>8^c[255&(i^r[b])];return-1^i}},{}],46:[function(t,u,s){var n,i=t("../utils/common"),r=t("./trees"),o=t("./adler32"),l=t("./crc32"),c=t("./messages"),v=0,b=4,f=0,w=-2,g=-1,x=4,m=2,_=8,R=9,A=286,S=30,$=19,O=2*A+1,L=15,B=3,W=258,J=W+B+1,C=42,U=113,d=1,M=2,re=3,V=4;function ne(a,I){return a.msg=c[I],I}function X(a){return(a<<1)-(4<a?9:0)}function ae(a){for(var I=a.length;0<=--I;)a[I]=0}function F(a){var I=a.state,T=I.pending;T>a.avail_out&&(T=a.avail_out),T!==0&&(i.arraySet(a.output,I.pending_buf,I.pending_out,T,a.next_out),a.next_out+=T,I.pending_out+=T,a.total_out+=T,a.avail_out-=T,I.pending-=T,I.pending===0&&(I.pending_out=0))}function D(a,I){r._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,I),a.block_start=a.strstart,F(a.strm)}function se(a,I){a.pending_buf[a.pending++]=I}function ee(a,I){a.pending_buf[a.pending++]=I>>>8&255,a.pending_buf[a.pending++]=255&I}function Y(a,I){var T,k,p=a.max_chain_length,z=a.strstart,N=a.prev_length,j=a.nice_match,P=a.strstart>a.w_size-J?a.strstart-(a.w_size-J):0,Z=a.window,Q=a.w_mask,G=a.prev,oe=a.strstart+W,ye=Z[z+N-1],ge=Z[z+N];a.prev_length>=a.good_match&&(p>>=2),j>a.lookahead&&(j=a.lookahead);do if(Z[(T=I)+N]===ge&&Z[T+N-1]===ye&&Z[T]===Z[z]&&Z[++T]===Z[z+1]){z+=2,T++;do;while(Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&Z[++z]===Z[++T]&&z<oe);if(k=W-(oe-z),z=oe-W,N<k){if(a.match_start=I,j<=(N=k))break;ye=Z[z+N-1],ge=Z[z+N]}}while((I=G[I&Q])>P&&--p!=0);return N<=a.lookahead?N:a.lookahead}function fe(a){var I,T,k,p,z,N,j,P,Z,Q,G=a.w_size;do{if(p=a.window_size-a.lookahead-a.strstart,a.strstart>=G+(G-J)){for(i.arraySet(a.window,a.window,G,G,0),a.match_start-=G,a.strstart-=G,a.block_start-=G,I=T=a.hash_size;k=a.head[--I],a.head[I]=G<=k?k-G:0,--T;);for(I=T=G;k=a.prev[--I],a.prev[I]=G<=k?k-G:0,--T;);p+=G}if(a.strm.avail_in===0)break;if(N=a.strm,j=a.window,P=a.strstart+a.lookahead,Z=p,Q=void 0,Q=N.avail_in,Z<Q&&(Q=Z),T=Q===0?0:(N.avail_in-=Q,i.arraySet(j,N.input,N.next_in,Q,P),N.state.wrap===1?N.adler=o(N.adler,j,Q,P):N.state.wrap===2&&(N.adler=l(N.adler,j,Q,P)),N.next_in+=Q,N.total_in+=Q,Q),a.lookahead+=T,a.lookahead+a.insert>=B)for(z=a.strstart-a.insert,a.ins_h=a.window[z],a.ins_h=(a.ins_h<<a.hash_shift^a.window[z+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[z+B-1])&a.hash_mask,a.prev[z&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=z,z++,a.insert--,!(a.lookahead+a.insert<B)););}while(a.lookahead<J&&a.strm.avail_in!==0)}function Se(a,I){for(var T,k;;){if(a.lookahead<J){if(fe(a),a.lookahead<J&&I===v)return d;if(a.lookahead===0)break}if(T=0,a.lookahead>=B&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+B-1])&a.hash_mask,T=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),T!==0&&a.strstart-T<=a.w_size-J&&(a.match_length=Y(a,T)),a.match_length>=B)if(k=r._tr_tally(a,a.strstart-a.match_start,a.match_length-B),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=B){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+B-1])&a.hash_mask,T=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else k=r._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(k&&(D(a,!1),a.strm.avail_out===0))return d}return a.insert=a.strstart<B-1?a.strstart:B-1,I===b?(D(a,!0),a.strm.avail_out===0?re:V):a.last_lit&&(D(a,!1),a.strm.avail_out===0)?d:M}function pe(a,I){for(var T,k,p;;){if(a.lookahead<J){if(fe(a),a.lookahead<J&&I===v)return d;if(a.lookahead===0)break}if(T=0,a.lookahead>=B&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+B-1])&a.hash_mask,T=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=B-1,T!==0&&a.prev_length<a.max_lazy_match&&a.strstart-T<=a.w_size-J&&(a.match_length=Y(a,T),a.match_length<=5&&(a.strategy===1||a.match_length===B&&4096<a.strstart-a.match_start)&&(a.match_length=B-1)),a.prev_length>=B&&a.match_length<=a.prev_length){for(p=a.strstart+a.lookahead-B,k=r._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-B),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=p&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+B-1])&a.hash_mask,T=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=B-1,a.strstart++,k&&(D(a,!1),a.strm.avail_out===0))return d}else if(a.match_available){if((k=r._tr_tally(a,0,a.window[a.strstart-1]))&&D(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return d}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(k=r._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<B-1?a.strstart:B-1,I===b?(D(a,!0),a.strm.avail_out===0?re:V):a.last_lit&&(D(a,!1),a.strm.avail_out===0)?d:M}function me(a,I,T,k,p){this.good_length=a,this.max_lazy=I,this.nice_length=T,this.max_chain=k,this.func=p}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*O),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*$+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(L+1),this.heap=new i.Buf16(2*A+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*A+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(a){var I;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=m,(I=a.state).pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?C:U,a.adler=I.wrap===2?0:1,I.last_flush=v,r._tr_init(I),f):ne(a,w)}function Oe(a){var I=ke(a);return I===f&&function(T){T.window_size=2*T.w_size,ae(T.head),T.max_lazy_match=n[T.level].max_lazy,T.good_match=n[T.level].good_length,T.nice_match=n[T.level].nice_length,T.max_chain_length=n[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=B-1,T.match_available=0,T.ins_h=0}(a.state),I}function te(a,I,T,k,p,z){if(!a)return w;var N=1;if(I===g&&(I=6),k<0?(N=0,k=-k):15<k&&(N=2,k-=16),p<1||R<p||T!==_||k<8||15<k||I<0||9<I||z<0||x<z)return ne(a,w);k===8&&(k=9);var j=new Be;return(a.state=j).strm=a,j.wrap=N,j.gzhead=null,j.w_bits=k,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=p+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+B-1)/B),j.window=new i.Buf8(2*j.w_size),j.head=new i.Buf16(j.hash_size),j.prev=new i.Buf16(j.w_size),j.lit_bufsize=1<<p+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new i.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=I,j.strategy=z,j.method=T,Oe(a)}n=[new me(0,0,0,0,function(a,I){var T=65535;for(T>a.pending_buf_size-5&&(T=a.pending_buf_size-5);;){if(a.lookahead<=1){if(fe(a),a.lookahead===0&&I===v)return d;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var k=a.block_start+T;if((a.strstart===0||a.strstart>=k)&&(a.lookahead=a.strstart-k,a.strstart=k,D(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-J&&(D(a,!1),a.strm.avail_out===0))return d}return a.insert=0,I===b?(D(a,!0),a.strm.avail_out===0?re:V):(a.strstart>a.block_start&&(D(a,!1),a.strm.avail_out),d)}),new me(4,4,8,4,Se),new me(4,5,16,8,Se),new me(4,6,32,32,Se),new me(4,4,16,16,pe),new me(8,16,32,32,pe),new me(8,16,128,128,pe),new me(8,32,128,256,pe),new me(32,128,258,1024,pe),new me(32,258,258,4096,pe)],s.deflateInit=function(a,I){return te(a,I,_,15,8,0)},s.deflateInit2=te,s.deflateReset=Oe,s.deflateResetKeep=ke,s.deflateSetHeader=function(a,I){return a&&a.state?a.state.wrap!==2?w:(a.state.gzhead=I,f):w},s.deflate=function(a,I){var T,k,p,z;if(!a||!a.state||5<I||I<0)return a?ne(a,w):w;if(k=a.state,!a.output||!a.input&&a.avail_in!==0||k.status===666&&I!==b)return ne(a,a.avail_out===0?-5:w);if(k.strm=a,T=k.last_flush,k.last_flush=I,k.status===C)if(k.wrap===2)a.adler=0,se(k,31),se(k,139),se(k,8),k.gzhead?(se(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),se(k,255&k.gzhead.time),se(k,k.gzhead.time>>8&255),se(k,k.gzhead.time>>16&255),se(k,k.gzhead.time>>24&255),se(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),se(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(se(k,255&k.gzhead.extra.length),se(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(a.adler=l(a.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(se(k,0),se(k,0),se(k,0),se(k,0),se(k,0),se(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),se(k,3),k.status=U);else{var N=_+(k.w_bits-8<<4)<<8;N|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(N|=32),N+=31-N%31,k.status=U,ee(k,N),k.strstart!==0&&(ee(k,a.adler>>>16),ee(k,65535&a.adler)),a.adler=1}if(k.status===69)if(k.gzhead.extra){for(p=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),F(a),p=k.pending,k.pending!==k.pending_buf_size));)se(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){p=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),F(a),p=k.pending,k.pending===k.pending_buf_size)){z=1;break}z=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,se(k,z)}while(z!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),z===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){p=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),F(a),p=k.pending,k.pending===k.pending_buf_size)){z=1;break}z=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,se(k,z)}while(z!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=l(a.adler,k.pending_buf,k.pending-p,p)),z===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&F(a),k.pending+2<=k.pending_buf_size&&(se(k,255&a.adler),se(k,a.adler>>8&255),a.adler=0,k.status=U)):k.status=U),k.pending!==0){if(F(a),a.avail_out===0)return k.last_flush=-1,f}else if(a.avail_in===0&&X(I)<=X(T)&&I!==b)return ne(a,-5);if(k.status===666&&a.avail_in!==0)return ne(a,-5);if(a.avail_in!==0||k.lookahead!==0||I!==v&&k.status!==666){var j=k.strategy===2?function(P,Z){for(var Q;;){if(P.lookahead===0&&(fe(P),P.lookahead===0)){if(Z===v)return d;break}if(P.match_length=0,Q=r._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,Q&&(D(P,!1),P.strm.avail_out===0))return d}return P.insert=0,Z===b?(D(P,!0),P.strm.avail_out===0?re:V):P.last_lit&&(D(P,!1),P.strm.avail_out===0)?d:M}(k,I):k.strategy===3?function(P,Z){for(var Q,G,oe,ye,ge=P.window;;){if(P.lookahead<=W){if(fe(P),P.lookahead<=W&&Z===v)return d;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=B&&0<P.strstart&&(G=ge[oe=P.strstart-1])===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]){ye=P.strstart+W;do;while(G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&G===ge[++oe]&&oe<ye);P.match_length=W-(ye-oe),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=B?(Q=r._tr_tally(P,1,P.match_length-B),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(Q=r._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),Q&&(D(P,!1),P.strm.avail_out===0))return d}return P.insert=0,Z===b?(D(P,!0),P.strm.avail_out===0?re:V):P.last_lit&&(D(P,!1),P.strm.avail_out===0)?d:M}(k,I):n[k.level].func(k,I);if(j!==re&&j!==V||(k.status=666),j===d||j===re)return a.avail_out===0&&(k.last_flush=-1),f;if(j===M&&(I===1?r._tr_align(k):I!==5&&(r._tr_stored_block(k,0,0,!1),I===3&&(ae(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),F(a),a.avail_out===0))return k.last_flush=-1,f}return I!==b?f:k.wrap<=0?1:(k.wrap===2?(se(k,255&a.adler),se(k,a.adler>>8&255),se(k,a.adler>>16&255),se(k,a.adler>>24&255),se(k,255&a.total_in),se(k,a.total_in>>8&255),se(k,a.total_in>>16&255),se(k,a.total_in>>24&255)):(ee(k,a.adler>>>16),ee(k,65535&a.adler)),F(a),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?f:1)},s.deflateEnd=function(a){var I;return a&&a.state?(I=a.state.status)!==C&&I!==69&&I!==73&&I!==91&&I!==103&&I!==U&&I!==666?ne(a,w):(a.state=null,I===U?ne(a,-3):f):w},s.deflateSetDictionary=function(a,I){var T,k,p,z,N,j,P,Z,Q=I.length;if(!a||!a.state||(z=(T=a.state).wrap)===2||z===1&&T.status!==C||T.lookahead)return w;for(z===1&&(a.adler=o(a.adler,I,Q,0)),T.wrap=0,Q>=T.w_size&&(z===0&&(ae(T.head),T.strstart=0,T.block_start=0,T.insert=0),Z=new i.Buf8(T.w_size),i.arraySet(Z,I,Q-T.w_size,T.w_size,0),I=Z,Q=T.w_size),N=a.avail_in,j=a.next_in,P=a.input,a.avail_in=Q,a.next_in=0,a.input=I,fe(T);T.lookahead>=B;){for(k=T.strstart,p=T.lookahead-(B-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[k+B-1])&T.hash_mask,T.prev[k&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=k,k++,--p;);T.strstart=k,T.lookahead=B-1,fe(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=B-1,T.match_available=0,a.next_in=j,a.input=P,a.avail_in=N,T.wrap=z,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,u,s){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,u,s){u.exports=function(n,i){var r,o,l,c,v,b,f,w,g,x,m,_,R,A,S,$,O,L,B,W,J,C,U,d,M;r=n.state,o=n.next_in,d=n.input,l=o+(n.avail_in-5),c=n.next_out,M=n.output,v=c-(i-n.avail_out),b=c+(n.avail_out-257),f=r.dmax,w=r.wsize,g=r.whave,x=r.wnext,m=r.window,_=r.hold,R=r.bits,A=r.lencode,S=r.distcode,$=(1<<r.lenbits)-1,O=(1<<r.distbits)-1;e:do{R<15&&(_+=d[o++]<<R,R+=8,_+=d[o++]<<R,R+=8),L=A[_&$];t:for(;;){if(_>>>=B=L>>>24,R-=B,(B=L>>>16&255)===0)M[c++]=65535&L;else{if(!(16&B)){if(!(64&B)){L=A[(65535&L)+(_&(1<<B)-1)];continue t}if(32&B){r.mode=12;break e}n.msg="invalid literal/length code",r.mode=30;break e}W=65535&L,(B&=15)&&(R<B&&(_+=d[o++]<<R,R+=8),W+=_&(1<<B)-1,_>>>=B,R-=B),R<15&&(_+=d[o++]<<R,R+=8,_+=d[o++]<<R,R+=8),L=S[_&O];r:for(;;){if(_>>>=B=L>>>24,R-=B,!(16&(B=L>>>16&255))){if(!(64&B)){L=S[(65535&L)+(_&(1<<B)-1)];continue r}n.msg="invalid distance code",r.mode=30;break e}if(J=65535&L,R<(B&=15)&&(_+=d[o++]<<R,(R+=8)<B&&(_+=d[o++]<<R,R+=8)),f<(J+=_&(1<<B)-1)){n.msg="invalid distance too far back",r.mode=30;break e}if(_>>>=B,R-=B,(B=c-v)<J){if(g<(B=J-B)&&r.sane){n.msg="invalid distance too far back",r.mode=30;break e}if(U=m,(C=0)===x){if(C+=w-B,B<W){for(W-=B;M[c++]=m[C++],--B;);C=c-J,U=M}}else if(x<B){if(C+=w+x-B,(B-=x)<W){for(W-=B;M[c++]=m[C++],--B;);if(C=0,x<W){for(W-=B=x;M[c++]=m[C++],--B;);C=c-J,U=M}}}else if(C+=x-B,B<W){for(W-=B;M[c++]=m[C++],--B;);C=c-J,U=M}for(;2<W;)M[c++]=U[C++],M[c++]=U[C++],M[c++]=U[C++],W-=3;W&&(M[c++]=U[C++],1<W&&(M[c++]=U[C++]))}else{for(C=c-J;M[c++]=M[C++],M[c++]=M[C++],M[c++]=M[C++],2<(W-=3););W&&(M[c++]=M[C++],1<W&&(M[c++]=M[C++]))}break}}break}}while(o<l&&c<b);o-=W=R>>3,_&=(1<<(R-=W<<3))-1,n.next_in=o,n.next_out=c,n.avail_in=o<l?l-o+5:5-(o-l),n.avail_out=c<b?b-c+257:257-(c-b),r.hold=_,r.bits=R}},{}],49:[function(t,u,s){var n=t("../utils/common"),i=t("./adler32"),r=t("./crc32"),o=t("./inffast"),l=t("./inftrees"),c=1,v=2,b=0,f=-2,w=1,g=852,x=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(C){var U;return C&&C.state?(U=C.state,C.total_in=C.total_out=U.total=0,C.msg="",U.wrap&&(C.adler=1&U.wrap),U.mode=w,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new n.Buf32(g),U.distcode=U.distdyn=new n.Buf32(x),U.sane=1,U.back=-1,b):f}function A(C){var U;return C&&C.state?((U=C.state).wsize=0,U.whave=0,U.wnext=0,R(C)):f}function S(C,U){var d,M;return C&&C.state?(M=C.state,U<0?(d=0,U=-U):(d=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?f:(M.window!==null&&M.wbits!==U&&(M.window=null),M.wrap=d,M.wbits=U,A(C))):f}function $(C,U){var d,M;return C?(M=new _,(C.state=M).window=null,(d=S(C,U))!==b&&(C.state=null),d):f}var O,L,B=!0;function W(C){if(B){var U;for(O=new n.Buf32(512),L=new n.Buf32(32),U=0;U<144;)C.lens[U++]=8;for(;U<256;)C.lens[U++]=9;for(;U<280;)C.lens[U++]=7;for(;U<288;)C.lens[U++]=8;for(l(c,C.lens,0,288,O,0,C.work,{bits:9}),U=0;U<32;)C.lens[U++]=5;l(v,C.lens,0,32,L,0,C.work,{bits:5}),B=!1}C.lencode=O,C.lenbits=9,C.distcode=L,C.distbits=5}function J(C,U,d,M){var re,V=C.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new n.Buf8(V.wsize)),M>=V.wsize?(n.arraySet(V.window,U,d-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(M<(re=V.wsize-V.wnext)&&(re=M),n.arraySet(V.window,U,d-M,re,V.wnext),(M-=re)?(n.arraySet(V.window,U,d-M,M,0),V.wnext=M,V.whave=V.wsize):(V.wnext+=re,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=re))),0}s.inflateReset=A,s.inflateReset2=S,s.inflateResetKeep=R,s.inflateInit=function(C){return $(C,15)},s.inflateInit2=$,s.inflate=function(C,U){var d,M,re,V,ne,X,ae,F,D,se,ee,Y,fe,Se,pe,me,Be,ke,Oe,te,a,I,T,k,p=0,z=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return f;(d=C.state).mode===12&&(d.mode=13),ne=C.next_out,re=C.output,ae=C.avail_out,V=C.next_in,M=C.input,X=C.avail_in,F=d.hold,D=d.bits,se=X,ee=ae,I=b;e:for(;;)switch(d.mode){case w:if(d.wrap===0){d.mode=13;break}for(;D<16;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(2&d.wrap&&F===35615){z[d.check=0]=255&F,z[1]=F>>>8&255,d.check=r(d.check,z,2,0),D=F=0,d.mode=2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&F)<<8)+(F>>8))%31){C.msg="incorrect header check",d.mode=30;break}if((15&F)!=8){C.msg="unknown compression method",d.mode=30;break}if(D-=4,a=8+(15&(F>>>=4)),d.wbits===0)d.wbits=a;else if(a>d.wbits){C.msg="invalid window size",d.mode=30;break}d.dmax=1<<a,C.adler=d.check=1,d.mode=512&F?10:12,D=F=0;break;case 2:for(;D<16;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(d.flags=F,(255&d.flags)!=8){C.msg="unknown compression method",d.mode=30;break}if(57344&d.flags){C.msg="unknown header flags set",d.mode=30;break}d.head&&(d.head.text=F>>8&1),512&d.flags&&(z[0]=255&F,z[1]=F>>>8&255,d.check=r(d.check,z,2,0)),D=F=0,d.mode=3;case 3:for(;D<32;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.head&&(d.head.time=F),512&d.flags&&(z[0]=255&F,z[1]=F>>>8&255,z[2]=F>>>16&255,z[3]=F>>>24&255,d.check=r(d.check,z,4,0)),D=F=0,d.mode=4;case 4:for(;D<16;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.head&&(d.head.xflags=255&F,d.head.os=F>>8),512&d.flags&&(z[0]=255&F,z[1]=F>>>8&255,d.check=r(d.check,z,2,0)),D=F=0,d.mode=5;case 5:if(1024&d.flags){for(;D<16;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.length=F,d.head&&(d.head.extra_len=F),512&d.flags&&(z[0]=255&F,z[1]=F>>>8&255,d.check=r(d.check,z,2,0)),D=F=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(1024&d.flags&&(X<(Y=d.length)&&(Y=X),Y&&(d.head&&(a=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),n.arraySet(d.head.extra,M,V,Y,a)),512&d.flags&&(d.check=r(d.check,M,Y,V)),X-=Y,V+=Y,d.length-=Y),d.length))break e;d.length=0,d.mode=7;case 7:if(2048&d.flags){if(X===0)break e;for(Y=0;a=M[V+Y++],d.head&&a&&d.length<65536&&(d.head.name+=String.fromCharCode(a)),a&&Y<X;);if(512&d.flags&&(d.check=r(d.check,M,Y,V)),X-=Y,V+=Y,a)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=8;case 8:if(4096&d.flags){if(X===0)break e;for(Y=0;a=M[V+Y++],d.head&&a&&d.length<65536&&(d.head.comment+=String.fromCharCode(a)),a&&Y<X;);if(512&d.flags&&(d.check=r(d.check,M,Y,V)),X-=Y,V+=Y,a)break e}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(512&d.flags){for(;D<16;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(F!==(65535&d.check)){C.msg="header crc mismatch",d.mode=30;break}D=F=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),C.adler=d.check=0,d.mode=12;break;case 10:for(;D<32;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}C.adler=d.check=m(F),D=F=0,d.mode=11;case 11:if(d.havedict===0)return C.next_out=ne,C.avail_out=ae,C.next_in=V,C.avail_in=X,d.hold=F,d.bits=D,2;C.adler=d.check=1,d.mode=12;case 12:if(U===5||U===6)break e;case 13:if(d.last){F>>>=7&D,D-=7&D,d.mode=27;break}for(;D<3;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}switch(d.last=1&F,D-=1,3&(F>>>=1)){case 0:d.mode=14;break;case 1:if(W(d),d.mode=20,U!==6)break;F>>>=2,D-=2;break e;case 2:d.mode=17;break;case 3:C.msg="invalid block type",d.mode=30}F>>>=2,D-=2;break;case 14:for(F>>>=7&D,D-=7&D;D<32;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if((65535&F)!=(F>>>16^65535)){C.msg="invalid stored block lengths",d.mode=30;break}if(d.length=65535&F,D=F=0,d.mode=15,U===6)break e;case 15:d.mode=16;case 16:if(Y=d.length){if(X<Y&&(Y=X),ae<Y&&(Y=ae),Y===0)break e;n.arraySet(re,M,V,Y,ne),X-=Y,V+=Y,ae-=Y,ne+=Y,d.length-=Y;break}d.mode=12;break;case 17:for(;D<14;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(d.nlen=257+(31&F),F>>>=5,D-=5,d.ndist=1+(31&F),F>>>=5,D-=5,d.ncode=4+(15&F),F>>>=4,D-=4,286<d.nlen||30<d.ndist){C.msg="too many length or distance symbols",d.mode=30;break}d.have=0,d.mode=18;case 18:for(;d.have<d.ncode;){for(;D<3;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.lens[N[d.have++]]=7&F,F>>>=3,D-=3}for(;d.have<19;)d.lens[N[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,T={bits:d.lenbits},I=l(0,d.lens,0,19,d.lencode,0,d.work,T),d.lenbits=T.bits,I){C.msg="invalid code lengths set",d.mode=30;break}d.have=0,d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;me=(p=d.lencode[F&(1<<d.lenbits)-1])>>>16&255,Be=65535&p,!((pe=p>>>24)<=D);){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(Be<16)F>>>=pe,D-=pe,d.lens[d.have++]=Be;else{if(Be===16){for(k=pe+2;D<k;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(F>>>=pe,D-=pe,d.have===0){C.msg="invalid bit length repeat",d.mode=30;break}a=d.lens[d.have-1],Y=3+(3&F),F>>>=2,D-=2}else if(Be===17){for(k=pe+3;D<k;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}D-=pe,a=0,Y=3+(7&(F>>>=pe)),F>>>=3,D-=3}else{for(k=pe+7;D<k;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}D-=pe,a=0,Y=11+(127&(F>>>=pe)),F>>>=7,D-=7}if(d.have+Y>d.nlen+d.ndist){C.msg="invalid bit length repeat",d.mode=30;break}for(;Y--;)d.lens[d.have++]=a}}if(d.mode===30)break;if(d.lens[256]===0){C.msg="invalid code -- missing end-of-block",d.mode=30;break}if(d.lenbits=9,T={bits:d.lenbits},I=l(c,d.lens,0,d.nlen,d.lencode,0,d.work,T),d.lenbits=T.bits,I){C.msg="invalid literal/lengths set",d.mode=30;break}if(d.distbits=6,d.distcode=d.distdyn,T={bits:d.distbits},I=l(v,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,T),d.distbits=T.bits,I){C.msg="invalid distances set",d.mode=30;break}if(d.mode=20,U===6)break e;case 20:d.mode=21;case 21:if(6<=X&&258<=ae){C.next_out=ne,C.avail_out=ae,C.next_in=V,C.avail_in=X,d.hold=F,d.bits=D,o(C,ee),ne=C.next_out,re=C.output,ae=C.avail_out,V=C.next_in,M=C.input,X=C.avail_in,F=d.hold,D=d.bits,d.mode===12&&(d.back=-1);break}for(d.back=0;me=(p=d.lencode[F&(1<<d.lenbits)-1])>>>16&255,Be=65535&p,!((pe=p>>>24)<=D);){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(me&&!(240&me)){for(ke=pe,Oe=me,te=Be;me=(p=d.lencode[te+((F&(1<<ke+Oe)-1)>>ke)])>>>16&255,Be=65535&p,!(ke+(pe=p>>>24)<=D);){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}F>>>=ke,D-=ke,d.back+=ke}if(F>>>=pe,D-=pe,d.back+=pe,d.length=Be,me===0){d.mode=26;break}if(32&me){d.back=-1,d.mode=12;break}if(64&me){C.msg="invalid literal/length code",d.mode=30;break}d.extra=15&me,d.mode=22;case 22:if(d.extra){for(k=d.extra;D<k;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.length+=F&(1<<d.extra)-1,F>>>=d.extra,D-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=23;case 23:for(;me=(p=d.distcode[F&(1<<d.distbits)-1])>>>16&255,Be=65535&p,!((pe=p>>>24)<=D);){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(!(240&me)){for(ke=pe,Oe=me,te=Be;me=(p=d.distcode[te+((F&(1<<ke+Oe)-1)>>ke)])>>>16&255,Be=65535&p,!(ke+(pe=p>>>24)<=D);){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}F>>>=ke,D-=ke,d.back+=ke}if(F>>>=pe,D-=pe,d.back+=pe,64&me){C.msg="invalid distance code",d.mode=30;break}d.offset=Be,d.extra=15&me,d.mode=24;case 24:if(d.extra){for(k=d.extra;D<k;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}d.offset+=F&(1<<d.extra)-1,F>>>=d.extra,D-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){C.msg="invalid distance too far back",d.mode=30;break}d.mode=25;case 25:if(ae===0)break e;if(Y=ee-ae,d.offset>Y){if((Y=d.offset-Y)>d.whave&&d.sane){C.msg="invalid distance too far back",d.mode=30;break}fe=Y>d.wnext?(Y-=d.wnext,d.wsize-Y):d.wnext-Y,Y>d.length&&(Y=d.length),Se=d.window}else Se=re,fe=ne-d.offset,Y=d.length;for(ae<Y&&(Y=ae),ae-=Y,d.length-=Y;re[ne++]=Se[fe++],--Y;);d.length===0&&(d.mode=21);break;case 26:if(ae===0)break e;re[ne++]=d.length,ae--,d.mode=21;break;case 27:if(d.wrap){for(;D<32;){if(X===0)break e;X--,F|=M[V++]<<D,D+=8}if(ee-=ae,C.total_out+=ee,d.total+=ee,ee&&(C.adler=d.check=d.flags?r(d.check,re,ee,ne-ee):i(d.check,re,ee,ne-ee)),ee=ae,(d.flags?F:m(F))!==d.check){C.msg="incorrect data check",d.mode=30;break}D=F=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;D<32;){if(X===0)break e;X--,F+=M[V++]<<D,D+=8}if(F!==(4294967295&d.total)){C.msg="incorrect length check",d.mode=30;break}D=F=0}d.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return f}return C.next_out=ne,C.avail_out=ae,C.next_in=V,C.avail_in=X,d.hold=F,d.bits=D,(d.wsize||ee!==C.avail_out&&d.mode<30&&(d.mode<27||U!==4))&&J(C,C.output,C.next_out,ee-C.avail_out)?(d.mode=31,-4):(se-=C.avail_in,ee-=C.avail_out,C.total_in+=se,C.total_out+=ee,d.total+=ee,d.wrap&&ee&&(C.adler=d.check=d.flags?r(d.check,re,ee,C.next_out-ee):i(d.check,re,ee,C.next_out-ee)),C.data_type=d.bits+(d.last?64:0)+(d.mode===12?128:0)+(d.mode===20||d.mode===15?256:0),(se==0&&ee===0||U===4)&&I===b&&(I=-5),I)},s.inflateEnd=function(C){if(!C||!C.state)return f;var U=C.state;return U.window&&(U.window=null),C.state=null,b},s.inflateGetHeader=function(C,U){var d;return C&&C.state&&2&(d=C.state).wrap?((d.head=U).done=!1,b):f},s.inflateSetDictionary=function(C,U){var d,M=U.length;return C&&C.state?(d=C.state).wrap!==0&&d.mode!==11?f:d.mode===11&&i(1,U,M,0)!==d.check?-3:J(C,U,M,M)?(d.mode=31,-4):(d.havedict=1,b):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,u,s){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(c,v,b,f,w,g,x,m){var _,R,A,S,$,O,L,B,W,J=m.bits,C=0,U=0,d=0,M=0,re=0,V=0,ne=0,X=0,ae=0,F=0,D=null,se=0,ee=new n.Buf16(16),Y=new n.Buf16(16),fe=null,Se=0;for(C=0;C<=15;C++)ee[C]=0;for(U=0;U<f;U++)ee[v[b+U]]++;for(re=J,M=15;1<=M&&ee[M]===0;M--);if(M<re&&(re=M),M===0)return w[g++]=20971520,w[g++]=20971520,m.bits=1,0;for(d=1;d<M&&ee[d]===0;d++);for(re<d&&(re=d),C=X=1;C<=15;C++)if(X<<=1,(X-=ee[C])<0)return-1;if(0<X&&(c===0||M!==1))return-1;for(Y[1]=0,C=1;C<15;C++)Y[C+1]=Y[C]+ee[C];for(U=0;U<f;U++)v[b+U]!==0&&(x[Y[v[b+U]]++]=U);if(O=c===0?(D=fe=x,19):c===1?(D=i,se-=257,fe=r,Se-=257,256):(D=o,fe=l,-1),C=d,$=g,ne=U=F=0,A=-1,S=(ae=1<<(V=re))-1,c===1&&852<ae||c===2&&592<ae)return 1;for(;;){for(L=C-ne,W=x[U]<O?(B=0,x[U]):x[U]>O?(B=fe[Se+x[U]],D[se+x[U]]):(B=96,0),_=1<<C-ne,d=R=1<<V;w[$+(F>>ne)+(R-=_)]=L<<24|B<<16|W|0,R!==0;);for(_=1<<C-1;F&_;)_>>=1;if(_!==0?(F&=_-1,F+=_):F=0,U++,--ee[C]==0){if(C===M)break;C=v[b+x[U]]}if(re<C&&(F&S)!==A){for(ne===0&&(ne=re),$+=d,X=1<<(V=C-ne);V+ne<M&&!((X-=ee[V+ne])<=0);)V++,X<<=1;if(ae+=1<<V,c===1&&852<ae||c===2&&592<ae)return 1;w[A=F&S]=re<<24|V<<16|$-g|0}}return F!==0&&(w[$+F]=C-ne<<24|64<<16|0),m.bits=re,0}},{"../utils/common":41}],51:[function(t,u,s){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,u,s){var n=t("../utils/common"),i=0,r=1;function o(p){for(var z=p.length;0<=--z;)p[z]=0}var l=0,c=29,v=256,b=v+1+c,f=30,w=19,g=2*b+1,x=15,m=16,_=7,R=256,A=16,S=17,$=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));o(J);var C=new Array(2*f);o(C);var U=new Array(512);o(U);var d=new Array(256);o(d);var M=new Array(c);o(M);var re,V,ne,X=new Array(f);function ae(p,z,N,j,P){this.static_tree=p,this.extra_bits=z,this.extra_base=N,this.elems=j,this.max_length=P,this.has_stree=p&&p.length}function F(p,z){this.dyn_tree=p,this.max_code=0,this.stat_desc=z}function D(p){return p<256?U[p]:U[256+(p>>>7)]}function se(p,z){p.pending_buf[p.pending++]=255&z,p.pending_buf[p.pending++]=z>>>8&255}function ee(p,z,N){p.bi_valid>m-N?(p.bi_buf|=z<<p.bi_valid&65535,se(p,p.bi_buf),p.bi_buf=z>>m-p.bi_valid,p.bi_valid+=N-m):(p.bi_buf|=z<<p.bi_valid&65535,p.bi_valid+=N)}function Y(p,z,N){ee(p,N[2*z],N[2*z+1])}function fe(p,z){for(var N=0;N|=1&p,p>>>=1,N<<=1,0<--z;);return N>>>1}function Se(p,z,N){var j,P,Z=new Array(x+1),Q=0;for(j=1;j<=x;j++)Z[j]=Q=Q+N[j-1]<<1;for(P=0;P<=z;P++){var G=p[2*P+1];G!==0&&(p[2*P]=fe(Z[G]++,G))}}function pe(p){var z;for(z=0;z<b;z++)p.dyn_ltree[2*z]=0;for(z=0;z<f;z++)p.dyn_dtree[2*z]=0;for(z=0;z<w;z++)p.bl_tree[2*z]=0;p.dyn_ltree[2*R]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function me(p){8<p.bi_valid?se(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Be(p,z,N,j){var P=2*z,Z=2*N;return p[P]<p[Z]||p[P]===p[Z]&&j[z]<=j[N]}function ke(p,z,N){for(var j=p.heap[N],P=N<<1;P<=p.heap_len&&(P<p.heap_len&&Be(z,p.heap[P+1],p.heap[P],p.depth)&&P++,!Be(z,j,p.heap[P],p.depth));)p.heap[N]=p.heap[P],N=P,P<<=1;p.heap[N]=j}function Oe(p,z,N){var j,P,Z,Q,G=0;if(p.last_lit!==0)for(;j=p.pending_buf[p.d_buf+2*G]<<8|p.pending_buf[p.d_buf+2*G+1],P=p.pending_buf[p.l_buf+G],G++,j===0?Y(p,P,z):(Y(p,(Z=d[P])+v+1,z),(Q=O[Z])!==0&&ee(p,P-=M[Z],Q),Y(p,Z=D(--j),N),(Q=L[Z])!==0&&ee(p,j-=X[Z],Q)),G<p.last_lit;);Y(p,R,z)}function te(p,z){var N,j,P,Z=z.dyn_tree,Q=z.stat_desc.static_tree,G=z.stat_desc.has_stree,oe=z.stat_desc.elems,ye=-1;for(p.heap_len=0,p.heap_max=g,N=0;N<oe;N++)Z[2*N]!==0?(p.heap[++p.heap_len]=ye=N,p.depth[N]=0):Z[2*N+1]=0;for(;p.heap_len<2;)Z[2*(P=p.heap[++p.heap_len]=ye<2?++ye:0)]=1,p.depth[P]=0,p.opt_len--,G&&(p.static_len-=Q[2*P+1]);for(z.max_code=ye,N=p.heap_len>>1;1<=N;N--)ke(p,Z,N);for(P=oe;N=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ke(p,Z,1),j=p.heap[1],p.heap[--p.heap_max]=N,p.heap[--p.heap_max]=j,Z[2*P]=Z[2*N]+Z[2*j],p.depth[P]=(p.depth[N]>=p.depth[j]?p.depth[N]:p.depth[j])+1,Z[2*N+1]=Z[2*j+1]=P,p.heap[1]=P++,ke(p,Z,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(ge,Le){var ht,Me,ft,Ie,Ct,Ft,Ve=Le.dyn_tree,St=Le.max_code,Gt=Le.stat_desc.static_tree,vr=Le.stat_desc.has_stree,mr=Le.stat_desc.extra_bits,Yt=Le.stat_desc.extra_base,pt=Le.stat_desc.max_length,Rt=0;for(Ie=0;Ie<=x;Ie++)ge.bl_count[Ie]=0;for(Ve[2*ge.heap[ge.heap_max]+1]=0,ht=ge.heap_max+1;ht<g;ht++)pt<(Ie=Ve[2*Ve[2*(Me=ge.heap[ht])+1]+1]+1)&&(Ie=pt,Rt++),Ve[2*Me+1]=Ie,St<Me||(ge.bl_count[Ie]++,Ct=0,Yt<=Me&&(Ct=mr[Me-Yt]),Ft=Ve[2*Me],ge.opt_len+=Ft*(Ie+Ct),vr&&(ge.static_len+=Ft*(Gt[2*Me+1]+Ct)));if(Rt!==0){do{for(Ie=pt-1;ge.bl_count[Ie]===0;)Ie--;ge.bl_count[Ie]--,ge.bl_count[Ie+1]+=2,ge.bl_count[pt]--,Rt-=2}while(0<Rt);for(Ie=pt;Ie!==0;Ie--)for(Me=ge.bl_count[Ie];Me!==0;)St<(ft=ge.heap[--ht])||(Ve[2*ft+1]!==Ie&&(ge.opt_len+=(Ie-Ve[2*ft+1])*Ve[2*ft],Ve[2*ft+1]=Ie),Me--)}}(p,z),Se(Z,ye,p.bl_count)}function a(p,z,N){var j,P,Z=-1,Q=z[1],G=0,oe=7,ye=4;for(Q===0&&(oe=138,ye=3),z[2*(N+1)+1]=65535,j=0;j<=N;j++)P=Q,Q=z[2*(j+1)+1],++G<oe&&P===Q||(G<ye?p.bl_tree[2*P]+=G:P!==0?(P!==Z&&p.bl_tree[2*P]++,p.bl_tree[2*A]++):G<=10?p.bl_tree[2*S]++:p.bl_tree[2*$]++,Z=P,ye=(G=0)===Q?(oe=138,3):P===Q?(oe=6,3):(oe=7,4))}function I(p,z,N){var j,P,Z=-1,Q=z[1],G=0,oe=7,ye=4;for(Q===0&&(oe=138,ye=3),j=0;j<=N;j++)if(P=Q,Q=z[2*(j+1)+1],!(++G<oe&&P===Q)){if(G<ye)for(;Y(p,P,p.bl_tree),--G!=0;);else P!==0?(P!==Z&&(Y(p,P,p.bl_tree),G--),Y(p,A,p.bl_tree),ee(p,G-3,2)):G<=10?(Y(p,S,p.bl_tree),ee(p,G-3,3)):(Y(p,$,p.bl_tree),ee(p,G-11,7));Z=P,ye=(G=0)===Q?(oe=138,3):P===Q?(oe=6,3):(oe=7,4)}}o(X);var T=!1;function k(p,z,N,j){ee(p,(l<<1)+(j?1:0),3),function(P,Z,Q,G){me(P),se(P,Q),se(P,~Q),n.arraySet(P.pending_buf,P.window,Z,Q,P.pending),P.pending+=Q}(p,z,N)}s._tr_init=function(p){T||(function(){var z,N,j,P,Z,Q=new Array(x+1);for(P=j=0;P<c-1;P++)for(M[P]=j,z=0;z<1<<O[P];z++)d[j++]=P;for(d[j-1]=P,P=Z=0;P<16;P++)for(X[P]=Z,z=0;z<1<<L[P];z++)U[Z++]=P;for(Z>>=7;P<f;P++)for(X[P]=Z<<7,z=0;z<1<<L[P]-7;z++)U[256+Z++]=P;for(N=0;N<=x;N++)Q[N]=0;for(z=0;z<=143;)J[2*z+1]=8,z++,Q[8]++;for(;z<=255;)J[2*z+1]=9,z++,Q[9]++;for(;z<=279;)J[2*z+1]=7,z++,Q[7]++;for(;z<=287;)J[2*z+1]=8,z++,Q[8]++;for(Se(J,b+1,Q),z=0;z<f;z++)C[2*z+1]=5,C[2*z]=fe(z,5);re=new ae(J,O,v+1,b,x),V=new ae(C,L,0,f,x),ne=new ae(new Array(0),B,0,w,_)}(),T=!0),p.l_desc=new F(p.dyn_ltree,re),p.d_desc=new F(p.dyn_dtree,V),p.bl_desc=new F(p.bl_tree,ne),p.bi_buf=0,p.bi_valid=0,pe(p)},s._tr_stored_block=k,s._tr_flush_block=function(p,z,N,j){var P,Z,Q=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(G){var oe,ye=4093624447;for(oe=0;oe<=31;oe++,ye>>>=1)if(1&ye&&G.dyn_ltree[2*oe]!==0)return i;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return r;for(oe=32;oe<v;oe++)if(G.dyn_ltree[2*oe]!==0)return r;return i}(p)),te(p,p.l_desc),te(p,p.d_desc),Q=function(G){var oe;for(a(G,G.dyn_ltree,G.l_desc.max_code),a(G,G.dyn_dtree,G.d_desc.max_code),te(G,G.bl_desc),oe=w-1;3<=oe&&G.bl_tree[2*W[oe]+1]===0;oe--);return G.opt_len+=3*(oe+1)+5+5+4,oe}(p),P=p.opt_len+3+7>>>3,(Z=p.static_len+3+7>>>3)<=P&&(P=Z)):P=Z=N+5,N+4<=P&&z!==-1?k(p,z,N,j):p.strategy===4||Z===P?(ee(p,2+(j?1:0),3),Oe(p,J,C)):(ee(p,4+(j?1:0),3),function(G,oe,ye,ge){var Le;for(ee(G,oe-257,5),ee(G,ye-1,5),ee(G,ge-4,4),Le=0;Le<ge;Le++)ee(G,G.bl_tree[2*W[Le]+1],3);I(G,G.dyn_ltree,oe-1),I(G,G.dyn_dtree,ye-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,Q+1),Oe(p,p.dyn_ltree,p.dyn_dtree)),pe(p),j&&me(p)},s._tr_tally=function(p,z,N){return p.pending_buf[p.d_buf+2*p.last_lit]=z>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&z,p.pending_buf[p.l_buf+p.last_lit]=255&N,p.last_lit++,z===0?p.dyn_ltree[2*N]++:(p.matches++,z--,p.dyn_ltree[2*(d[N]+v+1)]++,p.dyn_dtree[2*D(z)]++),p.last_lit===p.lit_bufsize-1},s._tr_align=function(p){ee(p,2,3),Y(p,R,J),function(z){z.bi_valid===16?(se(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(t,u,s){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,u,s){(function(n){(function(i,r){if(!i.setImmediate){var o,l,c,v,b=1,f={},w=!1,g=i.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(i);x=x&&x.setTimeout?x:i,o={}.toString.call(i.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:function(){if(i.postMessage&&!i.importScripts){var A=!0,S=i.onmessage;return i.onmessage=function(){A=!1},i.postMessage("","*"),i.onmessage=S,A}}()?(v="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",R,!1):i.attachEvent("onmessage",R),function(A){i.postMessage(v+A,"*")}):i.MessageChannel?((c=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){c.port2.postMessage(A)}):g&&"onreadystatechange"in g.createElement("script")?(l=g.documentElement,function(A){var S=g.createElement("script");S.onreadystatechange=function(){_(A),S.onreadystatechange=null,l.removeChild(S),S=null},l.appendChild(S)}):function(A){setTimeout(_,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),$=0;$<S.length;$++)S[$]=arguments[$+1];var O={callback:A,args:S};return f[b]=O,o(b),b++},x.clearImmediate=m}function m(A){delete f[A]}function _(A){if(w)setTimeout(_,0,A);else{var S=f[A];if(S){w=!0;try{(function($){var O=$.callback,L=$.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(r,L)}})(S)}finally{m(A),w=!1}}}}function R(A){A.source===i&&typeof A.data=="string"&&A.data.indexOf(v)===0&&_(+A.data.slice(v.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof rr<"u"?rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ki);var Xl=ki.exports;const Gl=Es(Xl),Yl={class:"content"},Kl={class:"info"},Jl=["src"],Ql=be({__name:"index",setup(e){const h=le([{src:Zl,boxList:[{name:"头盔",x:.15,y:.15,w:.15,h:.15},{name:"口罩",x:.35,y:.45,w:.25,h:.25}]},{src:ql,boxList:[]}]),t=le(0);Tt(mi,o=>{h.value.length>=t.value&&(h.value[t.value].boxList=o)});function u(o){o!==t.value&&(o!==void 0&&(t.value=o),requestAnimationFrame(()=>Br(h.value[t.value])))}u();function s(o){const l=o[0];if(!l||!l.file)return;const c=URL.createObjectURL(l.file);h.value.push({src:c,boxList:[]})}function n(o){h.value.splice(o,1),h.value.length==0?(t.value=0,Br()):o==t.value&&(t.value=Math.max(0,t.value-1),Br(h.value[t.value]))}function i(o){lt.value=lt.value.filter(l=>l.name!==o),h.value.forEach(l=>{l.boxList=l.boxList.filter(c=>c.name!==o)}),u()}async function r(){const o="yolo8FormatAnnotator";if(Mo(o,"导出中..."),h.value.length==0)return window.$message.warning("没有图片可导出~");const l=new Gl,c=l.folder("images"),v=l.folder("annotations");if(!c||!v)return window.$message.warning("图片导出失败~");const b=lt.value.map(f=>f.name);l.file("names.txt",`names: ["${b.join('", "')}"]`);for(const f of h.value)try{const g=await(await fetch(f.src)).blob(),x=Wr();c.file(x+"."+g.type.split("/")[1],g);const m=f.boxList.map(_=>{const{name:R,x:A,y:S,w:$,h:O}=_;return`${b.findIndex(L=>L===R)} ${A} ${S} ${$} ${O}`}).join(`
`);v.file(x+".txt",m)}catch(w){console.error(`Error fetching image at ${f.src}: ${w}`)}l.generateAsync({type:"blob"}).then(function(f){const w=URL.createObjectURL(f),g=document.createElement("a");g.href=w,g.download="yolo8FormatAnnotator.zip",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(w)}).finally(()=>No(o))}return window.addEventListener("mousemove",wn),window.addEventListener("mouseup",bn),window.addEventListener("keydown",yn),Fo(()=>{window.removeEventListener("mousemove",wn),window.removeEventListener("mouseup",bn),window.removeEventListener("keydown",yn)}),(o,l)=>(et(),Pt("div",Yl,[Ze("div",Kl,[Ne(xe(Ue),{onClick:xe(Hl)},{default:De(()=>[ot("添加标签")]),_:1},8,["onClick"]),Ne(xe(lr),null,{default:De(()=>[(et(!0),Pt(ut,null,_r(xe(lt),c=>(et(),kr(xe(jo),{key:c.name,closable:"",bordered:!1,class:"box-tag",color:{color:c.color,textColor:"#fff"},onClose:v=>i(c.name)},{default:De(()=>[ot(Cr(c.name),1)]),_:2},1032,["color","onClose"]))),128))]),_:1}),Ne(xe(lr),null,{default:De(()=>[Ne(xe(Cl),{multiple:"",accept:"image/*","show-file-list":!1,"file-list":[],"onUpdate:fileList":s},{default:De(()=>[Ne(xe(Ue),null,{default:De(()=>[ot("添加图片")]),_:1})]),_:1}),Ne(xe(Ue),{onClick:r},{default:De(()=>[ot("导出")]),_:1})]),_:1}),Ne(xe(Qs),{class:"file-list"},{default:De(()=>[Ne(xe(js),{hoverable:"",clickable:""},{default:De(()=>[(et(!0),Pt(ut,null,_r(h.value,(c,v)=>(et(),kr(xe(Ws),{key:c.src,class:Wo([v==t.value&&"active"]),onClick:b=>u(v)},{default:De(()=>[Ze("img",{src:c.src,alt:""},null,8,Jl),ot(" 标注个数："+Cr(c.boxList.length)+" ",1),Ne(xe(Ue),{onClick:Vo(b=>n(v),["stop"])},{default:De(()=>[Ne(xe(Un),{size:"20",component:xe(Ll)},null,8,["component"])]),_:2},1032,["onClick"])]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),Ze("div",{class:"canvas-box",style:Pn({"pointer-events":h.value.length>0?"auto":"none"})},[Ze("canvas",{ref_key:"canvas",ref:gi,onWheel:l[0]||(l[0]=(...c)=>xe(gn)&&xe(gn)(...c)),onMousedown:l[1]||(l[1]=(...c)=>xe(mn)&&xe(mn)(...c)),onContextmenu:l[2]||(l[2]=(...c)=>xe(xn)&&xe(xn)(...c)),onClick:l[3]||(l[3]=(...c)=>xe(vn)&&xe(vn)(...c))},null,544),Ne(xe(lr),null,{default:De(()=>[Ne(xe(rl),{value:xe(cr),"onUpdate:value":l[4]||(l[4]=c=>Uo(cr)?cr.value=c:null),size:"large"},{checked:De(()=>[ot(" 连续创建")]),unchecked:De(()=>[ot(" 单个创建 ")]),_:1},8,["value"]),(et(!0),Pt(ut,null,_r(xe(lt),(c,v)=>{var b;return et(),kr(xe(Ue),{key:c.color,onClick:f=>xe(jl)(v),color:c.color,secondary:((b=xe(ve))==null?void 0:b.name)!==c.name},{default:De(()=>[ot(Cr(c.name),1)]),_:2},1032,["onClick","color","secondary"])}),128))]),_:1})],4)]))}}),nu=Ho(Ql,[["__scopeId","data-v-df8d82a0"]]);export{nu as default};
