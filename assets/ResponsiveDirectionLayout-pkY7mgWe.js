import{z as _,W as D,au as q,V as J,d as j,h as p,Y as G,D as K,E as L,cI as Q,G as $,Q as M,J as Z,a2 as ee,a1 as ie,K as te,ai as B,a6 as k,M as F,ah as N,cJ as re,aU as T,aY as se,o as ne,u as P,a8 as oe,w as O,a$ as Y,_ as le}from"./index-SnQg8QuD.js";const ae=_("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[D("horizontal",`
 flex-direction: row;
 `),D("vertical",`
 flex-direction: column;
 `),_("split-pane-1",`
 overflow: hidden;
 `),_("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),q("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[D("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),J("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ce=Object.assign(Object.assign({},L.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),de=j({name:"Split",props:ce,slots:Object,setup(e){var n;const{mergedClsPrefixRef:r,inlineThemeDisabled:o}=K(e),s=L("Split","-split",ae,Q,e,r),d=$(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:t,resizableTriggerColorHover:a}}=s.value;return{"--n-bezier":i,"--n-resize-trigger-color":t,"--n-resize-trigger-color-hover":a}}),g=M(null),l=M(!1),f=Z(e,"size"),v=M(e.defaultSize);!((n=e.watchProps)===null||n===void 0)&&n.includes("defaultSize")&&ee(()=>v.value=e.defaultSize);const m=i=>{const t=e["onUpdate:size"];e.onUpdateSize&&F(e.onUpdateSize,i),t&&F(t,i),v.value=i},S=ie(f,v),V=$(()=>{const i=S.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const t=i*100;return{flex:`0 0 calc(${t}% - ${e.resizeTriggerSize*t/100}px)`}}}),A=$(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),E=$(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let x=0;const W=i=>{i.preventDefault(),l.value=!0,e.onDragStart&&e.onDragStart(i);const t="mousemove",a="mouseup",c=u=>{U(u),e.onDragMove&&e.onDragMove(u)},y=()=>{N(t,document,c),N(a,document,y),l.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=E.value.cursor,B(t,document,c),B(a,document,y);const b=g.value;if(b){const u=b.getBoundingClientRect();e.direction==="horizontal"?x=i.clientX-u.left:x=u.top-i.clientY}U(i)};function U(i){var t,a;const c=(a=(t=g.value)===null||t===void 0?void 0:t.parentElement)===null||a===void 0?void 0:a.getBoundingClientRect();if(!c)return;const{direction:y}=e,b=c.width-e.resizeTriggerSize,u=c.height-e.resizeTriggerSize,C=y==="horizontal"?b:u,X=y==="horizontal"?i.clientX-c.left-x:i.clientY-c.top+x,{min:w,max:R}=e,H=typeof w=="string"?k(w):w*C,I=typeof R=="string"?k(R):R*C;let z=X;z=Math.max(z,H),z=Math.min(z,I,C),typeof S.value=="string"?m(`${z}px`):m(z/C)}const h=o?te("split",void 0,d,e):void 0;return{themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender,cssVars:o?void 0:d,resizeTriggerElRef:g,isDragging:l,mergedClsPrefix:r,resizeTriggerWrapperStyle:E,resizeTriggerStyle:A,handleMouseDown:W,firstPaneStyle:V}},render(){var e,n,r,o,s;return(e=this.onRender)===null||e===void 0||e.call(this),p("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},p("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(r=(n=this.$slots)[1])===null||r===void 0?void 0:r.call(n)),!this.disabled&&p("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},G(this.$slots["resize-trigger"],()=>[p("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),p("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(s=(o=this.$slots)[2])===null||s===void 0?void 0:s.call(o)))}}),ge=j({__name:"ResponsiveDirectionLayout",props:{defaultSize:{default:.25},min:{default:.25},max:{default:.75}},setup(e){const n=e,r=M(n.defaultSize),o=re();return requestAnimationFrame(()=>{const s=o.value.$el.querySelector(".n-split__resize-trigger-wrapper");if(s){const{width:d,height:g}=o.value.$el.getBoundingClientRect();let l,f;s.addEventListener("touchmove",v=>{const{clientX:m,clientY:S}=v.touches[0];T.value.isMobileStyle?(f&&(r.value+=(S-f)/g),f=S):(l&&(r.value+=(m-l)/d),l=m),r.value=Math.max(n.min,Math.min(n.max,r.value))}),s.addEventListener("touchend",()=>{l=f=void 0})}}),(s,d)=>(ne(),se(P(de),oe({ref_key:"split",ref:o,direction:P(T).isMobileStyle?"vertical":"horizontal","resize-trigger-size":P(T).isMobileStyle?6:4},{max:e.max,min:e.min},{size:r.value,"onUpdate:size":d[0]||(d[0]=g=>r.value=g)}),{1:O(()=>[Y(s.$slots,"left",{},void 0,!0)]),2:O(()=>[Y(s.$slots,"right",{},void 0,!0)]),_:3},16,["direction","resize-trigger-size","size"]))}}),fe=le(ge,[["__scopeId","data-v-98a0841b"]]);export{fe as R};
