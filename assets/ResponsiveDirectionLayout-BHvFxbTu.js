import{f as M,i as R,j as I,h as K,d as O,k as G,s as A,ae as J,x as b,E as C,K as Q,af as Z,ag as ee,z as ie,n as S,ah as te,ai as k,aj as B,ak as j,al as F,am as re,a5 as T,o as se,a1 as ne,w as N,u as D,an as L,_ as oe}from"./index-BPBd_PCe.js";const le=M("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[R("horizontal",`
 flex-direction: row;
 `),R("vertical",`
 flex-direction: column;
 `),M("split-pane-1",`
 overflow: hidden;
 `),M("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),I("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[R("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),K("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ae=Object.assign(Object.assign({},A.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),ce=O({name:"Split",props:ae,setup(e){var r;const{mergedClsPrefixRef:n,inlineThemeDisabled:s}=G(e),o=A("Split","-split",le,J,e,n),u=b(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:t,resizableTriggerColorHover:c}}=o.value;return{"--n-bezier":i,"--n-resize-trigger-color":t,"--n-resize-trigger-color-hover":c}}),l=C(null),a=C(!1),_=Q(e,"size"),h=C(e.defaultSize);!((r=e.watchProps)===null||r===void 0)&&r.includes("defaultSize")&&Z(()=>h.value=e.defaultSize);const v=i=>{const t=e["onUpdate:size"];e.onUpdateSize&&j(e.onUpdateSize,i),t&&j(t,i),h.value=i},P=ee(_,h),V=b(()=>{const i=P.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const t=i*100;return{flex:`0 0 calc(${t}% - ${e.resizeTriggerSize*t/100}px)`}}}),X=b(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),E=b(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let y=0;const Y=i=>{i.preventDefault(),a.value=!0,e.onDragStart&&e.onDragStart(i);const t="mousemove",c="mouseup",d=g=>{U(g),e.onDragMove&&e.onDragMove(g)},m=()=>{F(t,document,d),F(c,document,m),a.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=E.value.cursor,k(t,document,d),k(c,document,m);const p=l.value;if(p){const g=p.getBoundingClientRect();e.direction==="horizontal"?y=i.clientX-g.left:y=g.top-i.clientY}U(i)};function U(i){var t,c;const d=(c=(t=l.value)===null||t===void 0?void 0:t.parentElement)===null||c===void 0?void 0:c.getBoundingClientRect();if(!d)return;const{direction:m}=e,p=d.width-e.resizeTriggerSize,g=d.height-e.resizeTriggerSize,x=m==="horizontal"?p:g,H=m==="horizontal"?i.clientX-d.left-y:i.clientY-d.top+y,{min:$,max:w}=e,W=typeof $=="string"?B($):$*x,q=typeof w=="string"?B(w):w*x;let z=H;z=Math.max(z,W),z=Math.min(z,q,x),typeof P.value=="string"?v(`${z}px`):v(z/x)}const f=s?ie("split",void 0,u,e):void 0;return{themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,cssVars:s?void 0:u,resizeTriggerElRef:l,isDragging:a,mergedClsPrefix:n,resizeTriggerWrapperStyle:E,resizeTriggerStyle:X,handleMouseDown:Y,firstPaneStyle:V}},render(){var e,r,n,s,o;return(e=this.onRender)===null||e===void 0||e.call(this),S("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},S("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(r=this.$slots)[1])===null||n===void 0?void 0:n.call(r)),!this.disabled&&S("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},te(this.$slots["resize-trigger"],()=>[S("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),S("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(o=(s=this.$slots)[2])===null||o===void 0?void 0:o.call(s)))}}),de=O({__name:"ResponsiveDirectionLayout",setup(e){const r=C(.25),n=re();return requestAnimationFrame(()=>{const s=n.value.$el.querySelector(".n-split__resize-trigger-wrapper");if(s){const{width:o,height:u}=n.value.$el.getBoundingClientRect();let l,a;s.addEventListener("touchmove",_=>{const{clientX:h,clientY:v}=_.touches[0];T.value.isMobileStyle?(a&&(r.value+=(v-a)/u),a=v):(l&&(r.value+=(h-l)/o),l=h),r.value=Math.max(.25,Math.min(.75,r.value))}),s.addEventListener("touchend",()=>{l=a=void 0,console.log(123)})}}),(s,o)=>(se(),ne(D(ce),{ref_key:"split",ref:n,direction:D(T).isMobileStyle?"vertical":"horizontal","resize-trigger-size":D(T).isMobileStyle?6:3,max:.75,min:.25,size:r.value,"onUpdate:size":o[0]||(o[0]=u=>r.value=u)},{1:N(()=>[L(s.$slots,"left",{},void 0,!0)]),2:N(()=>[L(s.$slots,"right",{},void 0,!0)]),_:3},8,["direction","resize-trigger-size","size"]))}}),ue=oe(de,[["__scopeId","data-v-628cd754"]]);export{ue as R};
