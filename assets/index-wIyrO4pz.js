import{ao as S,di as s,p as O,dn as V,ah as X,d as Y,cg as q,q as R,ab as U,Z as z,o as G,w as f,b as m,W,u as r,av as Z,e as k}from"./index-BxCq4Aag.js";import{A as n,M as g}from"./tool-D8cOC9NW.js";import{C as $}from"./Card-Derw2y6D.js";import{O as H}from"./Oscillator-BAnvJweN.js";import{N as I}from"./p-BLCekWmb.js";import{N as D}from"./text-C25t0gju.js";import{N as J}from"./blockquote-BHj8PHzl.js";import"./Alert-BudboR93.js";import"./Slider-CNOJSZc4.js";const P=S(),w=(e,a,c)=>({text:e,offset:{x:a,y:c},style:{size:20},isInteractive:!1}),x=new s.Text({value:[0,2],...w("A",0,-20)}),o=new s.Text({value:[-3,-2],...w("B",-15,15)}),l=new s.Text({value:[2,-2],...w("C",15,15)}),v=new s.Text({value:n.getMid(x,o),...w("D",-15,-15)}),u=new s.Text({value:n.getMid(x,l),...w("E",15,-15)}),_=new s.Text({value:[l.value[0]-u.value[0]+v.value[0],o.value[1]],...w("F",0,15)}),C=new s.Text({value:o.value,...w("G",0,15)}),K=[x,o,l,v,u,_,C],Q=new s.Polygon({value:n.join(x,o,l),isInteractive:!1}),b=new s.Polygon({value:n.join(v,u,C),isInteractive:!1,style:{fill:"#C73A6480",stroke:{color:"transparent"}}}),ee=[Q,b],y=(e,a=!1,c=4)=>({isInteractive:!1,style:{stroke:{color:e,dash:a,width:c}}}),A=new s.Line({isInteractive:!1,style:{stroke:{dash:!0,width:2}}}),h=new s.Line({value:n.join(u,o),...y("#C73A64",!0,2)}),E=new s.Line({value:n.join(v,l),...y("#C73A64",!0,2)}),N=new s.Line({value:n.join(v,_),...y("#C73A64",!0,2)}),T=new s.Line({...y("#C73A64",!0,2)}),j=new s.Line({...y("#C73A64",!0,2)}),ae=[A,h,E,N,T,j],te=[ee,ae,K],d=O(0);let p=0,M=200;const t={abv:{},ab(e){if(String(e)in t.abv)return t.abv[e];const a=g.calculateXFromY(g.inverseTransform(x.value),g.inverseTransform(o.value),e);return t.abv[e]=a},acv:{},ac(e){if(String(e)in t.acv)return t.acv[e];const a=g.calculateXFromY(g.inverseTransform(x.value),g.inverseTransform(l.value),e);return t.acv[e]=a}};function L(){const e=d.value;if(v.value=[t.ab(e),e],u.value=[t.ac(e),e],e>=2||e==-2?_.value=C.value=N.value=void 0:(E.value=n.join(v,l),h.value=n.join(u,o)),e>2){A.value=[[t.ac(e)-1,e],[t.ab(e)+1,e]];{const i=t.ab(e+.5);T.value=[x.value,[i,e+.5]]}{const i=t.ac(e+.5);j.value=[x.value,[i,e+.5]]}const a=p*v.value[0]+(1-p)*u.value[0],c=n.join(o,l);c.push([a,v.value[1]]),b.value=c,E.value=n.join(v,l),h.value=n.join(u,o)}else if(e==2)A.value=[[t.ac(e)-1,e],[t.ab(e)+1,e]],b.value=j.value=T.value=void 0;else if(2>e&&e>-2){A.value=[[t.ab(e)-1,e],[t.ac(e)+1,e]];const a=p*l.value[0]+(1-p)*o.value[0];C.value=[a,l.value[1]],b.value=n.join(v,u,C),_.value=[l.value[0]-u.value[0]+v.value[0],l.value[1]],N.value=n.join(v,_),j.value=T.value=void 0}else{A.value=[[t.ab(e)-1,e],[t.ac(e)+1,e]];{const c=t.ab(e-.5);T.value=[o.value,[c,e-.5]]}{const c=t.ac(e-.5);j.value=[l.value,[c,e-.5]]}const a=p*u.value[0]+(1-p)*v.value[0];C.value=[a,u.value[1]],b.value=n.join(o,l,C),_.value=[u.value[0]-l.value[0]+o.value[0],u.value[1]],N.value=n.join(o,_)}}const B=V(0,1,M,e=>{(e==0||e==1||d.value==-2||d.value==2)&&B.pause(),p=e,L()},4);X.value.fpsCallback(e=>{const a=e/60*M;M=a,B.updateParams(0,1,a)});function le(){B.isPlaying()?B.pause():d.value==-2||d.value==2||B.play()}const ne=["id"],xe=Y({__name:"index",setup(e){let a=q();return R(()=>{a.value=new s({id:P,theme:U.value.theme,axisShow:!1,axisConfig:{y:-1}}),a.value.addOverlay(te),L()}),(c,i)=>(G(),z($,{canvas:r(a),alert:"三角形 ABC 中, DE 平行于 BC"},{"alert-content":f(()=>[m(r(I),null,{default:f(()=>[m(r(D),{strong:""},{default:f(()=>[...i[1]||(i[1]=[k(" DE 分割线段 AB、AC 或与线段 AB、AC 的延长线相交后，对应线段的比相等且比值等于 DE 比 BC ",-1)])]),_:1})]),_:1}),m(r(I),null,{default:f(()=>[m(r(D),{strong:""},{default:f(()=>[...i[2]||(i[2]=[k(" 三角形 ADE 与三角形 ABC 对应边比例相等 ",-1)])]),_:1})]),_:1}),m(r(J),null,{default:f(()=>[m(r(D),{strong:"",depth:"3"},{default:f(()=>[...i[3]||(i[3]=[k(" 注：做辅助线 DF 平行于 AC ",-1)])]),_:1})]),_:1})]),default:f(()=>[m(H,{canvas:r(a),value:r(d),"onUpdate:value":i[0]||(i[0]=F=>Z(d)?d.value=F:null),onChange:r(L),marks:{"-4":"DE(y) -4",4:"DE(y) 4"},min:-4,max:4,step:.01,Tips:r(le)},null,8,["canvas","value","onChange","Tips"]),W("canvas",{id:r(P)},null,8,ne)]),_:1},8,["canvas"]))}});export{xe as default};
