var Z=Object.defineProperty;var tt=(o,n,e)=>n in o?Z(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e;var p=(o,n,e)=>tt(o,typeof n!="symbol"?n+"":n,e);import{p as T,x as H,s as $,v as b,q as V,d as P,y as U,D as et,L as ot,M as nt,h as D,b9 as st,z as K,ba as it,m as I,N as rt,P as at,bb as lt,o as W,c as E,aS as B,bc as A,bd as ct,k as dt,aW as ut,be as ht,bf as ft,j as Q,bg as xt,aT as mt,u,a as S,w as k,B as F,bh as L,aV as N,aU as vt,e as pt,t as gt,b6 as yt,b7 as bt,_ as wt}from"./index-CeYsDVdC.js";import{_ as St}from"./Math-Dr61D0Lr.js";import{A as $t}from"./Add-4hRc21Lr.js";const f="0!important",J="-1px!important";function _(o){return b(`${o}-type`,[$("& +",[T("button",{},[b(`${o}-type`,[V("border",{borderLeftWidth:f}),V("state-border",{left:J})])])])])}function z(o){return b(`${o}-type`,[$("& +",[T("button",[b(`${o}-type`,[V("border",{borderTopWidth:f}),V("state-border",{top:J})])])])])}const Ct=T("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[H("vertical",{flexDirection:"row"},[H("rtl",[T("button",[$("&:first-child:not(:last-child)",`
 margin-right: ${f};
 border-top-right-radius: ${f};
 border-bottom-right-radius: ${f};
 `),$("&:last-child:not(:first-child)",`
 margin-left: ${f};
 border-top-left-radius: ${f};
 border-bottom-left-radius: ${f};
 `),$("&:not(:first-child):not(:last-child)",`
 margin-left: ${f};
 margin-right: ${f};
 border-radius: ${f};
 `),_("default"),b("ghost",[_("primary"),_("info"),_("success"),_("warning"),_("error")])])])]),b("vertical",{flexDirection:"column"},[T("button",[$("&:first-child:not(:last-child)",`
 margin-bottom: ${f};
 margin-left: ${f};
 margin-right: ${f};
 border-bottom-left-radius: ${f};
 border-bottom-right-radius: ${f};
 `),$("&:last-child:not(:first-child)",`
 margin-top: ${f};
 margin-left: ${f};
 margin-right: ${f};
 border-top-left-radius: ${f};
 border-top-right-radius: ${f};
 `),$("&:not(:first-child):not(:last-child)",`
 margin: ${f};
 border-radius: ${f};
 `),z("default"),b("ghost",[z("primary"),z("info"),z("success"),z("warning"),z("error")])])])]),Mt={size:{type:String,default:void 0},vertical:Boolean},At=P({name:"ButtonGroup",props:Mt,setup(o){const{mergedClsPrefixRef:n,mergedRtlRef:e}=U(o);return et("-button-group",Ct,n),ot(st,o),{rtlEnabled:nt("ButtonGroup",e,n),mergedClsPrefix:n}},render(){const{mergedClsPrefix:o}=this;return D("div",{class:[`${o}-button-group`,this.rtlEnabled&&`${o}-button-group--rtl`,this.vertical&&`${o}-button-group--vertical`],role:"group"},this.$slots)}}),kt=T("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[b("strong",`
 font-weight: var(--n-font-weight-strong);
 `),b("italic",{fontStyle:"italic"}),b("underline",{textDecoration:"underline"}),b("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),_t=Object.assign(Object.assign({},K.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),zt=P({name:"Text",props:_t,setup(o){const{mergedClsPrefixRef:n,inlineThemeDisabled:e}=U(o),t=K("Typography","-text",kt,it,o,n),i=I(()=>{const{depth:r,type:l}=o,d=l==="default"?r===void 0?"textColor":`textColor${r}Depth`:rt("textColor",l),{common:{fontWeightStrong:x,fontFamilyMono:a,cubicBezierEaseInOut:m},self:{codeTextColor:h,codeBorderRadius:c,codeColor:g,codeBorder:w,[d]:y}}=t.value;return{"--n-bezier":m,"--n-text-color":y,"--n-font-weight-strong":x,"--n-font-famliy-mono":a,"--n-code-border-radius":c,"--n-code-text-color":h,"--n-code-color":g,"--n-code-border":w}}),s=e?at("text",I(()=>`${o.type[0]}${o.depth||""}`),i,o):void 0;return{mergedClsPrefix:n,compitableTag:lt(o,["as","tag"]),cssVars:e?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var o,n,e;const{mergedClsPrefix:t}=this;(o=this.onRender)===null||o===void 0||o.call(this);const i=[`${t}-text`,this.themeClass,{[`${t}-text--code`]:this.code,[`${t}-text--delete`]:this.delete,[`${t}-text--strong`]:this.strong,[`${t}-text--italic`]:this.italic,[`${t}-text--underline`]:this.underline}],s=(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n);return this.code?D("code",{class:i,style:this.cssVars},this.delete?D("del",null,s):s):this.delete?D("del",{class:i,style:this.cssVars},s):D(this.compitableTag||"span",{class:i,style:this.cssVars},s)}}),Tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Bt=B("path",{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z",fill:"currentColor"},null,-1),Rt=B("path",{d:"M490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z",fill:"currentColor"},null,-1),Dt=[Bt,Rt],Gt=P({name:"Home",render:function(n,e){return W(),E("svg",Tt,Dt)}}),Pt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Vt=B("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),It=[Vt],Ot=P({name:"Remove",render:function(n,e){return W(),E("svg",Pt,It)}}),G=I(()=>A.value.theme==="light"?{axis:"#222",grid:"#666",innerGrid:"#e5e5e5"}:{axis:"#aeaeae",grid:"#666",innerGrid:"#272727"});function Ft(){const{ctx:o,width:n,height:e,centent:t,gridSize:i}=v.value,s=i.size,r=s/5,l=(a,m,h)=>{o.lineWidth=1,o.strokeStyle=h,o.beginPath(),o.moveTo(...a),o.lineTo(...m),o.stroke()},d=(a,m)=>{const h=t.x%a>0?t.x%a:a+t.x%a;for(let c=0;c*a+h<=n;c++)l([c*a+h,0],[c*a+h,e],m)},x=(a,m)=>{const h=t.y%a>0?t.y%a:a+t.y%a;for(let c=0;c*a+h<=e;c++)l([0,c*a+h],[n,c*a+h],m)};d(r,G.value.innerGrid),x(r,G.value.innerGrid),d(s,G.value.grid),x(s,G.value.grid)}function Lt(){const{ctx:o,width:n,height:e,centent:t,gridSize:i,scale:s,delta:r,cycle:l,style:d}=v.value,x=g=>Math.ceil(o.measureText(g).width),a=4,m=d[A.value.theme].text.size;{const g=x("0"),w=t.x<a||t.x>n+g+a,y=t.y<-(a+m)||t.y>e+m+a;!w&&!y&&v.value.drawText("0",t.x-g-a,t.y+m+a)}const h=v.value.getGridCount(),c=i.size;{let g=t.y+m+a;g=Math.max(Math.min(g,e-a),a+m);const w=t.y>e||t.y<0;let y=t.x%c>0?t.x%c:c+t.x%c,M=t.x>0?h*Math.floor(t.x/c)*-1:h*(Math.ceil(Math.abs(t.x/c))||1);for(;y<=n;){const R=x(String(M));M!==0&&v.value.drawText(String(M),y-R/2,g,w),y+=c,M+=h}}{const g=t.x>n||t.x<0;let w=t.y%c>0?t.y%c:c+t.y%c,y=t.y>0?h*Math.floor(t.y/c):h*(Math.ceil(Math.abs(t.y/c))||1)*-1;for(;w<=e;){const M=x(String(y));let R=t.x-M-a;R=Math.max(Math.min(R,n-M-a),a),y!==0&&v.value.drawText(String(y),R,w+m/2,g),w+=c,y-=h}}}function Nt(){const{ctx:o,width:n,height:e,centent:t}=v.value,i=(l,d)=>{o.strokeStyle=G.value.axis,o.lineWidth=2,o.beginPath(),o.moveTo(...l),o.lineTo(...d),o.stroke()},s=()=>{t.y>=0&&t.y<=e&&i([0,t.y],[n,t.y])},r=()=>{t.x>=0&&t.x<=n&&i([t.x,0],[t.x,e])};s(),r()}function Wt(){Ft(),Nt(),Lt()}let q=!1;function Y(){q=!0}function X(){q=!1}function Et(o){var e;if(!q)return;const{deltaY:n}=o;(e=v.value)==null||e.updateScale(n<0)}window.addEventListener("wheel",Et);let O=!1;const C={x:0,y:0};function j(o){document.body.classList.add("no-select"),v.value.canvas.style.cursor="grabbing",O=!0,C.x=o.clientX,C.y=o.clientY}function qt(){O&&(document.body.classList.remove("no-select"),v.value.canvas.style.cursor="grab",O=!1)}function Ht(o){var t;const{clientX:n,clientY:e}=o;O&&((t=v.value)==null||t.updateOffset({x:n-C.x,y:e-C.y})),C.x=n,C.y=e}window.addEventListener("mouseup",qt);window.addEventListener("mousemove",Ht);class Yt{constructor(){p(this,"canvas",{});p(this,"ctx",{});p(this,"width",0);p(this,"height",0);p(this,"offset",{x:0,y:0});p(this,"centent",{x:0,y:0});p(this,"scale",1);p(this,"gridSize",{count:2,min:75,max:150,size:75});p(this,"cycle",10);p(this,"delta",.02);p(this,"redrawInNextRenderFrame",!1);p(this,"isAuto",!1)}}class Xt extends Yt{constructor(){super(...arguments);p(this,"style",{light:{background:"#fff",text:{color:"#222",secondary:"#909399",size:12,family:"微软雅黑",bold:!0}},dark:{background:"#000",text:{color:"#aeaeae",secondary:"#A3A6AD",size:12,family:"微软雅黑",bold:!0}}})}initStyle(){const{ctx:e}=this,t=A.value.theme,i=this.style[t];e.font=`${i.text.bold?"bold":""} ${i.text.size}px ${i.text.family}`}clearScreen(){const{ctx:e,width:t,height:i}=this,s=A.value.theme;e.fillStyle=this.style[s].background,e.fillRect(0,0,t,i)}drawText(e,t,i,s){const{ctx:r}=this,l=A.value.theme,d=this.style[l],{background:x}=d;r.font=`${d.text.bold?"bold":""} ${d.text.size}px ${d.text.family}`,r.strokeStyle=x,r.strokeText(e,t,i),r.fillStyle=d.text[s?"secondary":"color"],r.fillText(e,t,i)}}class jt extends Xt{drawOnCanvas(){const{width:n,height:e,offset:t}=this;this.clearScreen(),this.centent={x:n/2+t.x,y:e/2+t.y},Wt()}redraw(){this.redrawInNextRenderFrame||(this.redrawInNextRenderFrame=!0,requestAnimationFrame(()=>{this.drawOnCanvas(),this.redrawInNextRenderFrame=!1}))}getGridCount(){const{gridSize:n,scale:e,cycle:t,delta:i}=this;let s=n.count;return e>1?s/=Math.pow(2,Math.floor((e-1)/(t*i))):e<1&&(s*=Math.pow(2,Math.ceil(Math.abs(e-1)/(t*i))+1)),s}getMousePositionOnAxis(){const{canvas:n,centent:e}=this,t=n.getBoundingClientRect(),i=-(e.x-(C.x-t.left)),s=e.y-(C.y-t.top);return{x:i,y:s}}getAxisPointValue(n,e){const{gridSize:t}=this,i=this.getGridCount(),s=n/t.size*i,r=e/t.size*i;return{xV:s,yV:r}}getAxisPointByValue(n,e){const{gridSize:t}=this,i=this.getGridCount(),s=n/i*t.size,r=e/i*t.size;return{x:s,y:r}}}class Ut extends jt{constructor(){super(...arguments);p(this,"resizeObserver",new ResizeObserver(ut(()=>this.updateCanvasSize(),30)))}updateCanvasSize(){const{canvas:e}=this,{clientWidth:t,clientHeight:i}=e;e.width=t,e.height=i,this.width=t,this.height=i,this.initStyle(),this.redraw()}updateScale(e,t){!t&&this.isAuto&&(this.isAuto=!1);const i=this.getMousePositionOnAxis(),s=this.getAxisPointValue(i.x,i.y),{cycle:r,delta:l,gridSize:d}=this;typeof e=="boolean"&&(e=e?l:-l),this.scale+=e;{let x=Math.abs(this.scale-1)%(r*l)/l;x=Math.round(this.scale<1?r-x:x),d.size=x/r*(d.max-d.min)+d.min}if(!t){const x=this.getAxisPointByValue(s.xV,s.yV);this.offset.x+=-(x.x-i.x),this.offset.y+=x.y-i.y}this.redraw()}updateOffset(e,t){!t&&this.isAuto&&(this.isAuto=!1),this.offset.x+=e.x,this.offset.y+=e.y,this.redraw()}destroy(){this.resizeObserver.disconnect()}}class Kt extends Ut{reset(){this.isAuto=!0;const n=300,e={offset:{...this.offset},scale:this.scale-1};St(t=>{this.isAuto&&(t===1?(this.offset={x:0,y:0},this.scale=1,this.updateScale(0,!0),this.isAuto=!1):t>0&&(t=1-t,this.offset={x:e.offset.x*t,y:e.offset.y*t},this.scale=1+e.scale*t,this.updateScale(0,!0)))},n)}}class Qt extends Kt{constructor(n){super();const e=document.getElementById(n);this.canvas=e,this.ctx=e.getContext("2d"),this.resizeObserver.observe(e)}destroy(){super.destroy()}}const v=ct();function Jt(o){v.value=new Qt(o),v.value.updateCanvasSize()}dt(()=>A.value.theme,()=>{var o;return(o=v.value)==null?void 0:o.redraw()});function Zt(o){return ht()?(ft(o),!0):!1}const te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ee=te?window:void 0;function oe(o,n={}){const{immediate:e=!0,fpsLimit:t=void 0,window:i=ee}=n,s=Q(!1),r=t?1e3/t:null;let l=0,d=null;function x(h){if(!s.value||!i)return;l||(l=h);const c=h-l;if(r&&c<r){d=i.requestAnimationFrame(x);return}l=h,o({delta:c,timestamp:h}),d=i.requestAnimationFrame(x)}function a(){!s.value&&i&&(s.value=!0,l=0,d=i.requestAnimationFrame(x))}function m(){s.value=!1,d!=null&&i&&(i.cancelAnimationFrame(d),d=null)}return e&&a(),Zt(m),{isActive:xt(s),pause:m,resume:a}}function ne(o){var n;const e=Q(0);if(typeof performance>"u")return e;const t=(n=void 0)!=null?n:10;let i=performance.now(),s=0;return oe(()=>{if(s+=1,s>=t){const r=performance.now(),l=r-i;e.value=Math.round(1e3/(l/s)),i=r,s=0}}),e}const se=o=>(yt("data-v-d05e020d"),o=o(),bt(),o),ie={class:"graphing-equations"},re=se(()=>B("nav",null,null,-1)),ae=["id"],le={class:"button-box"},ce=P({__name:"index",setup(o){const n=ne(),e=mt("canvas-");requestAnimationFrame(()=>Jt(e));const t=I(()=>{const i=A.value.theme;return{color:i==="dark"?"#666":"#ededed","text-color":i==="dark"?"#ededed":"#666",style:{"--n-color-hover":i==="dark"?"rgba(126, 126, 126, 1)":"#fff"}}});return(i,s)=>(W(),E("div",ie,[re,B("canvas",{id:u(e),onMouseover:s[0]||(s[0]=(...r)=>u(Y)&&u(Y)(...r)),onMouseleave:s[1]||(s[1]=(...r)=>u(X)&&u(X)(...r)),onMousedown:s[2]||(s[2]=(...r)=>u(j)&&u(j)(...r))},null,40,ae),B("div",le,[S(u(vt),{vertical:""},{default:k(()=>[S(u(At),{vertical:""},{default:k(()=>[S(u(F),L(t.value,{onClick:s[3]||(s[3]=r=>{var l;return(l=u(v))==null?void 0:l.updateScale(.1)})}),{icon:k(()=>[S(u(N),{component:u($t)},null,8,["component"])]),_:1},16),S(u(F),L(t.value,{onClick:s[4]||(s[4]=r=>{var l;return(l=u(v))==null?void 0:l.updateScale(-.1)})}),{icon:k(()=>[S(u(N),{component:u(Ot)},null,8,["component"])]),_:1},16)]),_:1}),S(u(F),L(t.value,{onClick:s[5]||(s[5]=r=>{var l;return(l=u(v))==null?void 0:l.reset()})}),{icon:k(()=>[S(u(N),{component:u(Gt)},null,8,["component"])]),_:1},16)]),_:1}),S(u(zt),{class:"fps",type:u(n)>60?"success":u(n)>30?"warning":"error"},{default:k(()=>[pt(gt(u(n)),1)]),_:1},8,["type"])])]))}}),xe=wt(ce,[["__scopeId","data-v-d05e020d"]]);export{xe as default};
