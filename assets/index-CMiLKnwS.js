var Nt=Object.defineProperty;var Qt=(a,e,t)=>e in a?Nt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var d=(a,e,t)=>Qt(a,typeof e!="symbol"?e+"":e,t);import{R as Wt}from"./ResponsiveDirectionLayout-CFXjGvf_.js";import{aG as Xt,aH as Yt,f as jt,an as Ut,D as Vt,E as _t,d as F,l as B,m as ke,aI as Lt,p as D,aJ as Jt,g as k,q as rt,s as lt,j as Ht,J as b,k as C,I as Y,aK as ct,aL as Gt,aM as $e,aN as Ke,aO as Ot,aP as qt,aQ as Ft,K as Ze,aR as $t,y as Kt,aS as Zt,aT as en,A as de,L as ut,aU as tn,N as nn,aV as on,aW as re,G as et,aX as le,aw as an,c as q,o as J,a as sn,ao as rn,u as v,_ as dt,Z as ln,w as A,b as p,a1 as U,aa as O,R as ce,ag as ue,W as cn,e as R,t as we,B as un,a3 as dn}from"./index-2obne4Ep.js";import{S as hn}from"./Scrollbar-BCUjyP6x.js";import{c as fn}from"./_createCompounder-DodYzHqe.js";import{N as ne}from"./InputNumber-P-P7RP8H.js";import{N as xe}from"./RadioGroup-CIpY8krL.js";import{N as be}from"./Radio-U36Lloj3.js";import{N as An}from"./text-ElrNwUec.js";import{N as gn}from"./Switch-CQNwBTIX.js";import{N as tt}from"./InputGroup-kVinSR_Z.js";import"./Input-DosXqQzA.js";import"./Suffix-Ck2ak8uV.js";import"./use-locale-BrweaMSH.js";function vn(a){return Xt(Yt(a).toLowerCase())}var nt=fn(function(a,e,t){return e=e.toLowerCase(),a+(t?vn(e):e)});const ht=Vt("n-carousel-methods");function pn(a){_t(ht,a)}function je(a="unknown",e="component"){const t=jt(ht);return t||Ut(a,`\`${e}\` must be placed inside \`n-carousel\`.`),t}function mn(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},B("g",{fill:"none"},B("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"})))}function wn(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},B("g",{fill:"none"},B("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"})))}const xn=F({name:"CarouselArrow",setup(a){const{mergedClsPrefixRef:e}=ke(a),{isVertical:t,isPrevDisabled:n,isNextDisabled:o,prev:s,next:u}=je();return{mergedClsPrefix:e,isVertical:t,isPrevDisabled:n,isNextDisabled:o,prev:s,next:u}},render(){const{mergedClsPrefix:a}=this;return B("div",{class:`${a}-carousel__arrow-group`},B("div",{class:[`${a}-carousel__arrow`,this.isPrevDisabled()&&`${a}-carousel__arrow--disabled`],role:"button",onClick:this.prev},mn()),B("div",{class:[`${a}-carousel__arrow`,this.isNextDisabled()&&`${a}-carousel__arrow--disabled`],role:"button",onClick:this.next},wn()))}}),bn={total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean},Cn=F({name:"CarouselDots",props:bn,setup(a){const{mergedClsPrefixRef:e}=ke(a),t=D([]),n=je();function o(l,g){switch(l.key){case"Enter":case" ":l.preventDefault(),n.to(g);return}a.keyboard&&f(l)}function s(l){a.trigger==="hover"&&n.to(l)}function u(l){a.trigger==="click"&&n.to(l)}function f(l){var g;if(l.shiftKey||l.altKey||l.ctrlKey||l.metaKey)return;const I=(g=document.activeElement)===null||g===void 0?void 0:g.nodeName.toLowerCase();if(I==="input"||I==="textarea")return;const{code:E}=l,P=E==="PageUp"||E==="ArrowUp",V=E==="PageDown"||E==="ArrowDown",M=E==="PageUp"||E==="ArrowRight",z=E==="PageDown"||E==="ArrowLeft",Q=n.isVertical(),H=Q?P:M,_=Q?V:z;!H&&!_||(l.preventDefault(),H&&!n.isNextDisabled()?(n.next(),r(n.currentIndexRef.value)):_&&!n.isPrevDisabled()&&(n.prev(),r(n.currentIndexRef.value)))}function r(l){var g;(g=t.value[l])===null||g===void 0||g.focus()}return Jt(()=>t.value.length=0),{mergedClsPrefix:e,dotEls:t,handleKeydown:o,handleMouseenter:s,handleClick:u}},render(){const{mergedClsPrefix:a,dotEls:e}=this;return B("div",{class:[`${a}-carousel__dots`,`${a}-carousel__dots--${this.dotType}`],role:"tablist"},Lt(this.total,t=>{const n=t===this.currentIndex;return B("div",{"aria-selected":n,ref:o=>e.push(o),role:"button",tabindex:"0",class:[`${a}-carousel__dot`,n&&`${a}-carousel__dot--active`],key:t,onClick:()=>{this.handleClick(t)},onMouseenter:()=>{this.handleMouseenter(t)},onKeydown:o=>{this.handleKeydown(o,t)}})}))}}),Ie="CarouselItem";function In(a){var e;return((e=a.type)===null||e===void 0?void 0:e.name)===Ie}const ft=F({name:Ie,setup(a){const{mergedClsPrefixRef:e}=ke(a),t=je(nt(Ie),`n-${nt(Ie)}`),n=D(),o=k(()=>{const{value:g}=n;return g?t.getSlideIndex(g):-1}),s=k(()=>t.isPrev(o.value)),u=k(()=>t.isNext(o.value)),f=k(()=>t.isActive(o.value)),r=k(()=>t.getSlideStyle(o.value));rt(()=>{t.addSlide(n.value)}),lt(()=>{t.removeSlide(n.value)});function l(g){const{value:I}=o;I!==void 0&&(t==null||t.onCarouselItemClick(I,g))}return{mergedClsPrefix:e,selfElRef:n,isPrev:s,isNext:u,isActive:f,index:o,style:r,handleClick:l}},render(){var a;const{$slots:e,mergedClsPrefix:t,isPrev:n,isNext:o,isActive:s,index:u,style:f}=this,r=[`${t}-carousel__slide`,{[`${t}-carousel__slide--current`]:s,[`${t}-carousel__slide--prev`]:n,[`${t}-carousel__slide--next`]:o}];return B("div",{ref:"selfElRef",class:r,role:"option",tabindex:"-1","data-index":u,"aria-hidden":!s,style:f,onClickCapture:this.handleClick},(a=e.default)===null||a===void 0?void 0:a.call(e,{isPrev:n,isNext:o,isActive:s,index:u}))}}),kn=Ht("carousel",`
 position: relative;
 width: 100%;
 height: 100%;
 touch-action: pan-y;
 overflow: hidden;
`,[b("slides",`
 display: flex;
 width: 100%;
 height: 100%;
 transition-timing-function: var(--n-bezier);
 transition-property: transform;
 `,[b("slide",`
 flex-shrink: 0;
 position: relative;
 width: 100%;
 height: 100%;
 outline: none;
 overflow: hidden;
 `,[Y("> img",`
 display: block;
 `)])]),b("dots",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `,[C("dot",[b("dot",`
 height: var(--n-dot-size);
 width: var(--n-dot-size);
 background-color: var(--n-dot-color);
 border-radius: 50%;
 cursor: pointer;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[Y("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),C("active",`
 background-color: var(--n-dot-color-active);
 `)])]),C("line",[b("dot",`
 border-radius: 9999px;
 width: var(--n-dot-line-width);
 height: 4px;
 background-color: var(--n-dot-color);
 cursor: pointer;
 transition:
 width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[Y("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),C("active",`
 width: var(--n-dot-line-width-active);
 background-color: var(--n-dot-color-active);
 `)])])]),b("arrow",`
 transition: background-color .3s var(--n-bezier);
 cursor: pointer;
 height: 28px;
 width: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 background-color: rgba(255, 255, 255, .2);
 color: var(--n-arrow-color);
 border-radius: 8px;
 user-select: none;
 -webkit-user-select: none;
 font-size: 18px;
 `,[Y("svg",`
 height: 1em;
 width: 1em;
 `),Y("&:hover",`
 background-color: rgba(255, 255, 255, .3);
 `)]),C("vertical",`
 touch-action: pan-x;
 `,[b("slides",`
 flex-direction: column;
 `),C("fade",[b("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%);
 `)]),C("card",[b("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%) translateZ(-400px);
 `,[C("current",`
 transform: translateY(-50%) translateZ(0);
 `),C("prev",`
 transform: translateY(-100%) translateZ(-200px);
 `),C("next",`
 transform: translateY(0%) translateZ(-200px);
 `)])])]),C("usercontrol",[b("slides",[Y(">",[Y("div",`
 position: absolute;
 top: 50%;
 left: 50%;
 width: 100%;
 height: 100%;
 transform: translate(-50%, -50%);
 `)])])]),C("left",[b("dots",`
 transform: translateY(-50%);
 top: 50%;
 left: 12px;
 flex-direction: column;
 `,[C("line",[b("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[C("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),b("dot",`
 margin: 4px 0;
 `)]),b("arrow-group",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `),C("vertical",[b("arrow",`
 transform: rotate(90deg);
 `)]),C("show-arrow",[C("bottom",[b("dots",`
 transform: translateX(0);
 bottom: 18px;
 left: 18px;
 `)]),C("top",[b("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),C("left",[b("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),C("right",[b("dots",`
 transform: translateX(0);
 top: 18px;
 right: 18px;
 `)])]),C("left",[b("arrow-group",`
 bottom: 12px;
 left: 12px;
 flex-direction: column;
 `,[Y("> *:first-child",`
 margin-bottom: 12px;
 `)])]),C("right",[b("dots",`
 transform: translateY(-50%);
 top: 50%;
 right: 12px;
 flex-direction: column;
 `,[C("line",[b("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[C("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),b("dot",`
 margin: 4px 0;
 `),b("arrow-group",`
 bottom: 12px;
 right: 12px;
 flex-direction: column;
 `,[Y("> *:first-child",`
 margin-bottom: 12px;
 `)])]),C("top",[b("dots",`
 transform: translateX(-50%);
 top: 12px;
 left: 50%;
 `,[C("line",[b("dot",`
 margin: 0 4px;
 `)])]),b("dot",`
 margin: 0 4px;
 `),b("arrow-group",`
 top: 12px;
 right: 12px;
 `,[Y("> *:first-child",`
 margin-right: 12px;
 `)])]),C("bottom",[b("dots",`
 transform: translateX(-50%);
 bottom: 12px;
 left: 50%;
 `,[C("line",[b("dot",`
 margin: 0 4px;
 `)])]),b("dot",`
 margin: 0 4px;
 `),b("arrow-group",`
 bottom: 12px;
 right: 12px;
 `,[Y("> *:first-child",`
 margin-right: 12px;
 `)])]),C("fade",[b("slide",`
 position: absolute;
 opacity: 0;
 transition-property: opacity;
 pointer-events: none;
 `,[C("current",`
 opacity: 1;
 pointer-events: auto;
 `)])]),C("card",[b("slides",`
 perspective: 1000px;
 `),b("slide",`
 position: absolute;
 left: 50%;
 opacity: 0;
 transform: translateX(-50%) translateZ(-400px);
 transition-property: opacity, transform;
 `,[C("current",`
 opacity: 1;
 transform: translateX(-50%) translateZ(0);
 z-index: 1;
 `),C("prev",`
 opacity: 0.4;
 transform: translateX(-100%) translateZ(-200px);
 `),C("next",`
 opacity: 0.4;
 transform: translateX(0%) translateZ(-200px);
 `)])])]);function yn(a){const{length:e}=a;return e>1&&(a.push(ot(a[0],0,"append")),a.unshift(ot(a[e-1],e-1,"prepend"))),a}function ot(a,e,t){return ct(a,{key:`carousel-item-duplicate-${e}-${t}`})}function at(a,e,t){return e===1?0:t?a===0?e-3:a===e-1?0:a-1:a}function Xe(a,e){return e?a+1:a}function Sn(a,e,t){return a<0?null:a===0?t?e-1:null:a-1}function Bn(a,e,t){return a>e-1?null:a===e-1?t?0:null:a+1}function En(a,e){return e&&a>3?a-2:a}function it(a){return window.TouchEvent&&a instanceof window.TouchEvent}function st(a,e){let{offsetWidth:t,offsetHeight:n}=a;if(e){const o=getComputedStyle(a);t=t-Number.parseFloat(o.getPropertyValue("padding-left"))-Number.parseFloat(o.getPropertyValue("padding-right")),n=n-Number.parseFloat(o.getPropertyValue("padding-top"))-Number.parseFloat(o.getPropertyValue("padding-bottom"))}return{width:t,height:n}}function Ce(a,e,t){return a<e?e:a>t?t:a}function Mn(a){if(a===void 0)return 0;if(typeof a=="number")return a;const e=/^((\d+)?\.?\d+?)(ms|s)?$/,t=a.match(e);if(t){const[,n,,o="ms"]=t;return Number(n)*(o==="ms"?1:1e3)}return 0}const Rn=["transitionDuration","transitionTimingFunction"],zn=Object.assign(Object.assign({},ut.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let Ye=!1;const Dn=F({name:"Carousel",props:zn,slots:Object,setup(a){const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=ke(a),n=D(null),o=D(null),s=D([]),u={value:[]},f=k(()=>a.direction==="vertical"),r=k(()=>f.value?"height":"width"),l=k(()=>f.value?"bottom":"right"),g=k(()=>a.effect==="slide"),I=k(()=>a.loop&&a.slidesPerView===1&&g.value),E=k(()=>a.effect==="custom"),P=k(()=>!g.value||a.centeredSlides?1:a.slidesPerView),V=k(()=>E.value?1:a.slidesPerView),M=k(()=>P.value==="auto"||a.slidesPerView==="auto"&&a.centeredSlides),z=D({width:0,height:0}),Q=D(0),H=k(()=>{const{value:i}=s;if(!i.length)return[];Q.value;const{value:c}=M;if(c)return i.map(S=>st(S));const{value:h}=V,{value:w}=z,{value:x}=r;let m=w[x];if(h!=="auto"){const{spaceBetween:S}=a,N=m-(h-1)*S,me=1/Math.max(1,h);m=N*me}const y=Object.assign(Object.assign({},w),{[x]:m});return i.map(()=>y)}),_=k(()=>{const{value:i}=H;if(!i.length)return[];const{centeredSlides:c,spaceBetween:h}=a,{value:w}=r,{[w]:x}=z.value;let m=0;return i.map(({[w]:y})=>{let S=m;return c&&(S+=(y-x)/2),m+=y+h,S})}),Ue=D(!1),ye=k(()=>{const{transitionStyle:i}=a;return i?Ze(i,Rn):{}}),Se=k(()=>E.value?0:Mn(ye.value.transitionDuration)),Ve=k(()=>{const{value:i}=s;if(!i.length)return[];const c=!(M.value||V.value===1),h=y=>{if(c){const{value:S}=r;return{[S]:`${H.value[y][S]}px`}}};if(E.value)return i.map((y,S)=>h(S));const{effect:w,spaceBetween:x}=a,{value:m}=l;return i.reduce((y,S,N)=>{const me=Object.assign(Object.assign({},h(N)),{[`margin-${m}`]:`${x}px`});return y.push(me),Ue.value&&(w==="fade"||w==="card")&&Object.assign(me,ye.value),y},[])}),T=k(()=>{const{value:i}=P,{length:c}=s.value;if(i!=="auto")return Math.max(c-i,0)+1;{const{value:h}=H,{length:w}=h;if(!w)return c;const{value:x}=_,{value:m}=r,y=z.value[m];let S=h[h.length-1][m],N=w;for(;N>1&&S<y;)N--,S+=x[N]-x[N-1];return Ce(N+1,1,w)}}),Be=k(()=>En(T.value,I.value)),At=Xe(a.defaultIndex,I.value),Ee=D(at(At,T.value,I.value)),j=$t(Kt(a,"currentIndex"),Ee),W=k(()=>Xe(j.value,I.value));function oe(i){var c,h;i=Ce(i,0,T.value-1);const w=at(i,T.value,I.value),{value:x}=j;w!==j.value&&(Ee.value=w,(c=a["onUpdate:currentIndex"])===null||c===void 0||c.call(a,w,x),(h=a.onUpdateCurrentIndex)===null||h===void 0||h.call(a,w,x))}function Me(i=W.value){return Sn(i,T.value,a.loop)}function Re(i=W.value){return Bn(i,T.value,a.loop)}function gt(i){const c=K(i);return c!==null&&Me()===c&&T.value>1}function vt(i){const c=K(i);return c!==null&&Re()===c&&T.value>1}function _e(i){return W.value===K(i)}function pt(i){return j.value===i}function Le(){return Me()===null}function Je(){return Re()===null}let $=0;function ze(i){const c=Ce(Xe(i,I.value),0,T.value);(i!==j.value||c!==W.value)&&oe(c)}function he(){const i=Me();i!==null&&($=-1,oe(i))}function ae(){const i=Re();i!==null&&($=1,oe(i))}let X=!1;function mt(){(!X||!I.value)&&he()}function wt(){(!X||!I.value)&&ae()}let G=0;const De=D({});function fe(i,c=0){De.value=Object.assign({},ye.value,{transform:f.value?`translateY(${-i}px)`:`translateX(${-i}px)`,transitionDuration:`${c}ms`})}function ie(i=0){g.value?Pe(W.value,i):G!==0&&(!X&&i>0&&(X=!0),fe(G=0,i))}function Pe(i,c){const h=He(i);h!==G&&c>0&&(X=!0),G=He(W.value),fe(h,c)}function He(i){let c;return i>=T.value-1?c=Ge():c=_.value[i]||0,c}function Ge(){if(P.value==="auto"){const{value:i}=r,{[i]:c}=z.value,{value:h}=_,w=h[h.length-1];let x;if(w===void 0)x=c;else{const{value:m}=H;x=w+m[m.length-1][i]}return x-c}else{const{value:i}=_;return i[T.value-1]||0}}const se={currentIndexRef:j,to:ze,prev:mt,next:wt,isVertical:()=>f.value,isHorizontal:()=>!f.value,isPrev:gt,isNext:vt,isActive:_e,isPrevDisabled:Le,isNextDisabled:Je,getSlideIndex:K,getSlideStyle:Ct,addSlide:xt,removeSlide:bt,onCarouselItemClick:It};pn(se);function xt(i){i&&s.value.push(i)}function bt(i){if(!i)return;const c=K(i);c!==-1&&s.value.splice(c,1)}function K(i){return typeof i=="number"?i:i?s.value.indexOf(i):-1}function Ct(i){const c=K(i);if(c!==-1){const h=[Ve.value[c]],w=se.isPrev(c),x=se.isNext(c);return w&&h.push(a.prevSlideStyle||""),x&&h.push(a.nextSlideStyle||""),an(h)}}let Te=0,Ne=0,L=0,Qe=0,Ae=!1,We=!1;function It(i,c){let h=!X&&!Ae&&!We;a.effect==="card"&&h&&!_e(i)&&(ze(i),h=!1),h||(c.preventDefault(),c.stopPropagation())}let ge=null;function ve(){ge&&(clearInterval(ge),ge=null)}function Z(){ve(),!a.autoplay||Be.value<2||(ge=window.setInterval(ae,a.interval))}function Oe(i){var c;if(Ye||!(!((c=o.value)===null||c===void 0)&&c.contains(on(i))))return;Ye=!0,Ae=!0,We=!1,Qe=Date.now(),ve(),i.type!=="touchstart"&&!i.target.isContentEditable&&i.preventDefault();const h=it(i)?i.touches[0]:i;f.value?Ne=h.clientY:Te=h.clientX,a.touchable&&(re("touchmove",document,pe),re("touchend",document,ee),re("touchcancel",document,ee)),a.draggable&&(re("mousemove",document,pe),re("mouseup",document,ee))}function pe(i){const{value:c}=f,{value:h}=r,w=it(i)?i.touches[0]:i,x=c?w.clientY-Ne:w.clientX-Te,m=z.value[h];L=Ce(x,-m,m),i.cancelable&&i.preventDefault(),g.value&&fe(G-L,0)}function ee(){const{value:i}=W;let c=i;if(!X&&L!==0&&g.value){const h=G-L,w=[..._.value.slice(0,T.value-1),Ge()];let x=null;for(let m=0;m<w.length;m++){const y=Math.abs(w[m]-h);if(x!==null&&x<y)break;x=y,c=m}}if(c===i){const h=Date.now()-Qe,{value:w}=r,x=z.value[w];L>x/2||L/h>.4?he():(L<-x/2||L/h<-.4)&&ae()}c!==null&&c!==i?(We=!0,oe(c),et(()=>{(!I.value||Ee.value!==j.value)&&ie(Se.value)})):ie(Se.value),qe(),Z()}function qe(){Ae&&(Ye=!1),Ae=!1,Te=0,Ne=0,L=0,Qe=0,le("touchmove",document,pe),le("touchend",document,ee),le("touchcancel",document,ee),le("mousemove",document,pe),le("mouseup",document,ee)}function kt(){if(g.value&&X){const{value:i}=W;Pe(i,0)}else Z();g.value&&(De.value.transitionDuration="0ms"),X=!1}function yt(i){if(i.preventDefault(),X)return;let{deltaX:c,deltaY:h}=i;i.shiftKey&&!c&&(c=h);const w=-1,x=1,m=(c||h)>0?x:w;let y=0,S=0;f.value?S=m:y=m;const N=10;(S*h>=N||y*c>=N)&&(m===x&&!Je()?ae():m===w&&!Le()&&he())}function St(){z.value=st(n.value,!0),Z()}function Bt(){M.value&&Q.value++}function Et(){a.autoplay&&ve()}function Mt(){a.autoplay&&Z()}rt(()=>{Zt(Z),requestAnimationFrame(()=>Ue.value=!0)}),lt(()=>{qe(),ve()}),en(()=>{const{value:i}=s,{value:c}=u,h=new Map,w=m=>h.has(m)?h.get(m):-1;let x=!1;for(let m=0;m<i.length;m++){const y=c.findIndex(S=>S.el===i[m]);y!==m&&(x=!0),h.set(i[m],y)}x&&i.sort((m,y)=>w(m)-w(y))}),de(W,(i,c)=>{if(i===c){$=0;return}if(Z(),g.value){if(I.value){const{value:h}=T;$===-1&&c===1&&i===h-2?i=0:$===1&&c===h-2&&i===1&&(i=h-1)}Pe(i,Se.value)}else ie();$=0},{immediate:!0}),de([I,P],()=>void et(()=>{oe(W.value)})),de(_,()=>{g.value&&ie()},{deep:!0}),de(g,i=>{i?ie():(X=!1,fe(G=0))});const Rt=k(()=>({onTouchstartPassive:a.touchable?Oe:void 0,onMousedown:a.draggable?Oe:void 0,onWheel:a.mousewheel?yt:void 0})),zt=k(()=>Object.assign(Object.assign({},Ze(se,["to","prev","next","isPrevDisabled","isNextDisabled"])),{total:Be.value,currentIndex:j.value})),Dt=k(()=>({total:Be.value,currentIndex:j.value,to:se.to})),Pt={getCurrentIndex:()=>j.value,to:ze,prev:he,next:ae},Tt=ut("Carousel","-carousel",kn,tn,a,e),Fe=k(()=>{const{common:{cubicBezierEaseInOut:i},self:{dotSize:c,dotColor:h,dotColorActive:w,dotColorFocus:x,dotLineWidth:m,dotLineWidthActive:y,arrowColor:S}}=Tt.value;return{"--n-bezier":i,"--n-dot-color":h,"--n-dot-color-focus":x,"--n-dot-color-active":w,"--n-dot-size":c,"--n-dot-line-width":m,"--n-dot-line-width-active":y,"--n-arrow-color":S}}),te=t?nn("carousel",void 0,Fe,a):void 0;return Object.assign(Object.assign({mergedClsPrefix:e,selfElRef:n,slidesElRef:o,slideVNodes:u,duplicatedable:I,userWantsControl:E,autoSlideSize:M,realIndex:W,slideStyles:Ve,translateStyle:De,slidesControlListeners:Rt,handleTransitionEnd:kt,handleResize:St,handleSlideResize:Bt,handleMouseenter:Et,handleMouseleave:Mt,isActive:pt,arrowSlotProps:zt,dotSlotProps:Dt},Pt),{cssVars:t?void 0:Fe,themeClass:te==null?void 0:te.themeClass,onRender:te==null?void 0:te.onRender})},render(){var a;const{mergedClsPrefix:e,showArrow:t,userWantsControl:n,slideStyles:o,dotType:s,dotPlacement:u,slidesControlListeners:f,transitionProps:r={},arrowSlotProps:l,dotSlotProps:g,$slots:{default:I,dots:E,arrow:P}}=this,V=I&&Gt(I())||[];let M=Pn(V);return M.length||(M=V.map(z=>B(ft,null,{default:()=>ct(z)}))),this.duplicatedable&&(M=yn(M)),this.slideVNodes.value=M,this.autoSlideSize&&(M=M.map(z=>B($e,{onResize:this.handleSlideResize},{default:()=>z}))),(a=this.onRender)===null||a===void 0||a.call(this),B("div",Object.assign({ref:"selfElRef",class:[this.themeClass,`${e}-carousel`,this.direction==="vertical"&&`${e}-carousel--vertical`,this.showArrow&&`${e}-carousel--show-arrow`,`${e}-carousel--${u}`,`${e}-carousel--${this.direction}`,`${e}-carousel--${this.effect}`,n&&`${e}-carousel--usercontrol`],style:this.cssVars},f,{onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave}),B($e,{onResize:this.handleResize},{default:()=>B("div",{ref:"slidesElRef",class:`${e}-carousel__slides`,role:"listbox",style:this.translateStyle,onTransitionend:this.handleTransitionEnd},n?M.map((z,Q)=>B("div",{style:o[Q],key:Q},Ot(B(Ft,Object.assign({},r),{default:()=>z}),[[qt,this.isActive(Q)]]))):M)}),this.showDots&&g.total>1&&Ke(E,g,()=>[B(Cn,{key:s+u,total:g.total,currentIndex:g.currentIndex,dotType:s,trigger:this.trigger,keyboard:this.keyboard})]),t&&Ke(P,l,()=>[B(xn,null)]))}});function Pn(a){return a.reduce((e,t)=>(In(t)&&e.push(t),e),[])}const Tn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Nn=sn('<path d="M86.76 255a9.89 9.89 0 0 0 4.87-1.29a9.82 9.82 0 0 0 3.65-13.43c-16.46-28.56-17.81-52.12-7.45-70c14.26-24.57 53.61-33.65 105.27-24.29a9.86 9.86 0 0 0 11.45-7.9a9.84 9.84 0 0 0-7.93-11.44c-29.19-5.28-56-5.18-77.39.3c-22.3 5.71-39 17.28-48.45 33.48c-14 24.19-12.7 54.73 7.42 89.62a9.85 9.85 0 0 0 8.56 4.95z" fill="currentColor"></path><path d="M361.61 143.73c32.24.42 52.61 9.31 62.79 26.86c14.21 24.48 2.52 62.81-31.27 102.52a9.82 9.82 0 0 0 7.51 16.18a9.88 9.88 0 0 0 7.52-3.46c19.12-22.47 32.35-45.54 38.25-66.71c6.14-22 4.43-42.21-5-58.38c-13.8-23.78-40.13-36.15-79.59-36.67h-.14a9.83 9.83 0 0 0-.12 19.66z" fill="currentColor"></path><path d="M326.47 414.89a9.88 9.88 0 0 0-13.5 3.35c-16.41 27.15-36.57 42.1-56.77 42.1c-28.49 0-56-29.31-73.73-78.42a9.87 9.87 0 0 0-12.59-5.92a9.83 9.83 0 0 0-6 12.58c10 27.77 23.47 50.75 39 66.46c16.11 16.34 34.55 25 53.32 25c27.38 0 53.54-18.33 73.65-51.61a9.81 9.81 0 0 0-3.38-13.5z" fill="currentColor"></path><path d="M431.7 338.54a32.14 32.14 0 0 0-29.9 44.33c-41.8 19.5-119.8 4.79-191.87-36.62c-32.91-18.9-62.16-41.86-84.6-66.39a9.9 9.9 0 0 0-13.91-.65a9.8 9.8 0 0 0-.65 13.9c23.79 26 54.68 50.28 89.33 70.18c40.28 23.13 82.27 38.63 121.43 44.81a225.54 225.54 0 0 0 35 2.91c23.12 0 43-4.3 58.51-12.79a32.2 32.2 0 1 0 16.7-59.68zm0 44.66a12.6 12.6 0 0 1-7.82-2.72a10 10 0 0 0-2.2-2.21a12.61 12.61 0 1 1 10 4.93z" fill="currentColor"></path><path d="M82.09 338.59c.57-21.26 12.41-47 33.68-73.16c23.19-28.45 56.69-56 94.34-77.65c33.25-19.1 65.2-31.9 98.07-38.91a9.83 9.83 0 1 0-4.12-19.22c-34.85 7.43-68.78 21-103.79 41.09C116.09 219.09 59.9 289.88 62.46 343.9a32.32 32.32 0 1 0 19.63-5.31zM80.3 383.2a12.5 12.5 0 1 1 12.59-12.5a12.56 12.56 0 0 1-12.59 12.5z" fill="currentColor"></path><path d="M256.2 96.32a32.23 32.23 0 0 0 26.53-13.81c17.89 11.69 34 35 45.81 66.12c13 34.39 19.84 75.38 19.84 118.54c0 37.18-5.19 72.35-15 103.6a9.72 9.72 0 0 0 .66 7.49a9.82 9.82 0 0 0 5.8 4.84a9.89 9.89 0 0 0 12.34-6.44c10.42-33.14 15.93-70.34 15.93-109.49c0-47.17-7.77-91.77-22.47-129c-14.41-36.48-34.13-62.4-57.14-75.16a32.3 32.3 0 1 0-32.3 33.31zm0-44.66a12.5 12.5 0 1 1-12.59 12.5a12.56 12.56 0 0 1 12.59-12.5z" fill="currentColor"></path><path d="M251 243.36a24.35 24.35 0 0 0 5.16 48.16a24.68 24.68 0 0 0 5.16-.55A24.36 24.36 0 1 0 251 243.36z" fill="currentColor"></path>',7),Qn=[Nn],Wn=F({name:"LogoElectron",render:function(e,t){return J(),q("svg",Tn,Qn)}});class Xn{constructor(){d(this,"_moveMethod","bounce");d(this,"linear",e=>{const{progress:t,startX:n,startY:o,endX:s,endY:u}=e;return{currentX:(s-n)*t+n,currentY:(u-o)*t+o}});d(this,"ease",e=>{const{progress:t,startX:n,startY:o,endX:s,endY:u}=e,f=.5*(1-Math.cos(t*Math.PI));return{currentX:(s-n)*f+n,currentY:(u-o)*f+o}});d(this,"easeOut",e=>{const{progress:t,startX:n,startY:o,endX:s,endY:u}=e,f=1-Math.pow(1-t,2);return{currentX:(s-n)*f+n,currentY:(u-o)*f+o}});d(this,"easeIn",e=>{const{progress:t,startX:n,startY:o,endX:s,endY:u}=e,f=Math.pow(t,2);return{currentX:(s-n)*f+n,currentY:(u-o)*f+o}});d(this,"bounce",e=>{const{startX:t,startY:n,endX:o,endY:s}=e;let u=e.progress;const f=7.5625,r=2.75;let l=0;return u<1/r?l=f*u*u:u<2/r?l=f*(u-=1.5/r)*u+.75:u<2.5/r?l=f*(u-=2.25/r)*u+.9375:l=f*(u-=2.625/r)*u+.984375,{currentX:(o-t)*l+t,currentY:(s-n)*l+n}})}get moveMethod(){return this._moveMethod}set moveMethod(e){e&&e in this&&(this._moveMethod=e)}move(e){const t=this[this.moveMethod];e.forEach(n=>{if(n.progress==0)n.currentX=n.startX,n.currentY=n.startY;else if(n.progress==1)n.currentX=n.endX,n.currentY=n.endY;else{const{currentX:o,currentY:s}=t(n);n.currentX=o,n.currentY=s}})}}class Yn{constructor(e){d(this,"duration",.5);d(this,"blockMove",new Xn);d(this,"main");this.main=e}get export(){return{duration:this.duration,moveMethod:this.blockMove.moveMethod}}update(){if(!this.main.config.animation)return;const{name:e,duration:t}=this.main.config.animation;this.blockMove.moveMethod=e,this.duration=t||this.duration}calculateBlockPosition(){this.blockMove.move(this.main.throwManager.runningBlocks)}}class jn{constructor(){d(this,"_sortType","sequence");d(this,"sort",(e,t)=>this[this.sortType](e,t));d(this,"sequence",(e,t)=>{const n=[];for(let o=0;o<t;o++)for(let s=0;s<e;s++)n.push({blockXIndex:s,blockYIndex:o});return n});d(this,"reverse",(e,t)=>this.sequence(e,t).reverse());d(this,"randomly",(e,t)=>{const n=this.sequence(e,t);for(let o=n.length-1;o>0;o--){const s=Math.floor(Math.random()*(o+1));[n[o],n[s]]=[n[s],n[o]]}return n});d(this,"stack",(e,t)=>{const n=[],o=Array.from({length:e}).fill(t-1),s=e*t;for(let u=0;u<s;u++){const f=o.map(l=>l>=0);let r=Math.floor(Math.random()*e);for(;!f[r];)r=Math.floor(Math.random()*e);n.push({blockXIndex:r,blockYIndex:o[r]--})}return n})}get sortType(){return this._sortType}set sortType(e){e&&e in this&&(this._sortType=e)}}class Un{constructor(e){d(this,"_positionMethod","bottom_middle");d(this,"main");d(this,"center",()=>{const{canvasWidth:e,canvasHeight:t,blockWidth:n,blockHeight:o}=this.getDimensions();return{startX:(e-n)/2,startY:(t-o)/2}});d(this,"top_middle",()=>{const{canvasWidth:e,blockWidth:t,blockHeight:n}=this.getDimensions();return{startX:(e-t)/2,startY:-n}});d(this,"top",e=>{const{blockHeight:t}=this.getDimensions();return{startX:e.endX,startY:-t}});d(this,"bottom_middle",()=>{const{canvasWidth:e,canvasHeight:t,blockWidth:n}=this.getDimensions();return{startX:(e-n)/2,startY:t}});d(this,"bottom",e=>{const{canvasHeight:t}=this.getDimensions();return{startX:e.endX,startY:t}});d(this,"left_center",()=>{const{canvasHeight:e,blockWidth:t,blockHeight:n}=this.getDimensions();return{startX:-t,startY:(e-n)/2}});d(this,"left",e=>{const{blockWidth:t}=this.getDimensions();return{startX:-t,startY:e.endY}});d(this,"right_center",()=>{const{canvasWidth:e,canvasHeight:t,blockHeight:n}=this.getDimensions();return{startX:e,startY:(t-n)/2}});d(this,"right",e=>{const{canvasWidth:t}=this.getDimensions();return{startX:t,startY:e.endY}});this.main=e}get positionMethod(){return this._positionMethod}set positionMethod(e){e&&e in this&&(this._positionMethod=e)}generate(e){e.forEach(t=>{const n=this[this.positionMethod](t),o=Math.round(n.startX),s=Math.round(n.startY);t.startX=o,t.startY=s,t.currentX=o,t.currentY=s})}getDimensions(){const{canvasWidth:e,canvasHeight:t}=this.main.canvasProcessor.export,{width:n,height:o}=this.main.imageProcessor.export.blockSizeClamped;return{canvasWidth:e,canvasHeight:t,blockWidth:n,blockHeight:o}}}class Vn{constructor(e){d(this,"blockSort",new jn);d(this,"blockStartPosition");d(this,"blockCoordinates",[]);d(this,"main");this.main=e,this.blockStartPosition=new Un(e)}get origin(){const e=this.main.config.origin;if(e)return e;const{imageWidth:t,imageHeight:n}=this.main.imageProcessor.export,{canvasWidth:o,canvasHeight:s}=this.main.canvasProcessor.export;return{x:Math.round((o-t)/2),y:Math.round((s-n)/2)}}update(e){const{blockSortType:t,blockStartPositionGenerator:n}=this.main.config,o=t&&t!==this.blockSort.sortType,s=n&&n!==this.blockStartPosition.positionMethod;this.blockSort.sortType=t,this.blockStartPosition.positionMethod=n;const u=!!(e||o||s);return u&&this.regenerateBlockCoordinates(),u}regenerateBlockCoordinates(){const{totalXBlocks:e,totalYBlocks:t}=this.main.imageProcessor.export,n=this.blockSort.sort(e,t);this.initializeBlockPositionProperties(n),this.blockStartPosition.generate(n),this.blockCoordinates=n}initializeBlockPositionProperties(e){const t=this.origin,{width:n,height:o}=this.main.imageProcessor.export.blockSizeClamped;e.forEach(s=>{s.endX=Math.floor(s.blockXIndex*n+t.x),s.endY=Math.floor(s.blockYIndex*o+t.y),s.progress=0})}reset(){this.blockCoordinates.forEach(e=>{e.progress=0})}}class _n{constructor(e){d(this,"finishedBlocks",[]);d(this,"runningBlocks",[]);d(this,"autoThrowTimer");d(this,"autoThrowInterval",.1);d(this,"main");this.main=e}get throwCount(){return this.finishedBlocks.length+this.runningBlocks.length}get blockCoordinates(){return this.main.blockManager.blockCoordinates}get blockCount(){return this.blockCoordinates.length}get isFinished(){return this.finishedBlocks.length==this.blockCount}update(){const{autoThrowInterval:e,type:t}=this.main.config.throw||{};t=="manual"&&this.stopAutoThrow(),e&&e!=this.autoThrowInterval&&(this.autoThrowInterval=e,this.autoThrowTimer&&this.autoThrow())}updateBlockProgress(e){const{duration:t}=this.main.animationManager.export,n=e/(t*1e3);this.runningBlocks.forEach(o=>{o.progress=Math.min(o.progress+n,1)}),this.check()}throw(e=1){const t=this.blockCount-this.throwCount,n=Math.min(e,t);for(e;e<=n;e++){const o=this.blockCoordinates[this.throwCount];this.runningBlocks.push(o)}}autoThrow(){this.stopAutoThrow(),this.autoThrowTimer=setInterval(()=>this.throw(),this.autoThrowInterval*1e3)}stopAutoThrow(){clearInterval(this.autoThrowTimer),this.autoThrowTimer=void 0}check(){const e=this.runningBlocks.filter(t=>t.progress==1);e.forEach(t=>{t.currentX=t.endX,t.currentY=t.endY}),this.finishedBlocks.push(...e),this.runningBlocks=this.runningBlocks.filter(t=>t.progress!=1)}reset(){this.finishedBlocks=[],this.runningBlocks=[]}}class Ln{constructor(e){d(this,"id");d(this,"userCtx");d(this,"fixedCtx",document.createElement("canvas").getContext("2d"));d(this,"dynamicCtx",document.createElement("canvas").getContext("2d"));d(this,"canvasWidth",0);d(this,"canvasHeight",0);d(this,"main");d(this,"finishedBlockCount",0);this.main=e}get export(){return{canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight}}update(){var u;const{id:e}=this.main.config,t=e&&e!==this.id;if(t){this.id=e;const f=document.getElementById(e);f?this.userCtx=f.getContext("2d"):console.error("canvas not found")}const{width:n,height:o}=((u=this.userCtx)==null?void 0:u.canvas.getBoundingClientRect())||{},s=n!=this.canvasWidth||o!=this.canvasHeight;return s&&n&&o&&this.updateCanvasSize(n,o),!!(t&&s)}updateCanvasSize(e,t){this.userCtx&&(this.canvasWidth=e,this.canvasHeight=t,this.userCtx.canvas.width=e,this.userCtx.canvas.height=t,this.fixedCtx.canvas.width=e,this.fixedCtx.canvas.height=t,this.dynamicCtx.canvas.width=e,this.dynamicCtx.canvas.height=t)}renderCanvas(){if(!this.userCtx)return;const{runningBlocks:e,finishedBlocks:t}=this.main.throwManager;this.clearCtx(this.userCtx),this.clearCtx(this.dynamicCtx),this.finishedBlockCount!==t.length&&(this.clearCtx(this.fixedCtx),this.renderBlocks(this.fixedCtx,t),this.finishedBlockCount=t.length),this.renderBlocks(this.dynamicCtx,e),this.userCtx.drawImage(this.fixedCtx.canvas,0,0),this.userCtx.drawImage(this.dynamicCtx.canvas,0,0)}renderBlocks(e,t){t.forEach(n=>{const{blockXIndex:o,blockYIndex:s,currentX:u,currentY:f}=n,r=this.main.imageProcessor.getBlockPixelData(o,s);r&&e.putImageData(r,u,f)})}clearCtx(e){e.clearRect(0,0,e.canvas.width,e.canvas.height)}reset(){this.clearCtx(this.fixedCtx),this.clearCtx(this.dynamicCtx)}}class Jn{constructor(e){d(this,"canvasId");d(this,"imageSource");d(this,"imageElement");d(this,"imageData");d(this,"_blockSize");d(this,"_renderSize");d(this,"blockRows",[]);d(this,"totalXBlocks",0);d(this,"totalYBlocks",0);d(this,"main");this.main=e}get blockSize(){if(this._blockSize)return this._blockSize;const{width:e=0,height:t=0}=this.imageData??{};return{width:Math.max(40,Math.round(e/10)),height:Math.max(40,Math.round(t/10))}}set blockSize(e){e?this._blockSize={...e}:this._blockSize=e}get blockSizeClamped(){const{imageData:e,blockSize:t}=this,n=(e==null?void 0:e.width)||0,o=(e==null?void 0:e.height)||0,s=Math.min(t.width,n),u=Math.min(t.height,o);return{width:s,height:u}}get renderSize(){return this._renderSize}set renderSize(e){e?this._renderSize={...e}:this._renderSize=e}get export(){const{imageData:e,blockSize:t,totalXBlocks:n,totalYBlocks:o,blockSizeClamped:s}=this,u=(e==null?void 0:e.width)||0,f=(e==null?void 0:e.height)||0;return{blockSize:t,blockSizeClamped:s,totalXBlocks:n,totalYBlocks:o,imageWidth:u,imageHeight:f}}jsonNotEqual(e,t){return e!==void 0&&JSON.stringify(e)!==JSON.stringify(t)}async update(e){const{id:t,url:n,blockSize:o,renderSize:s}=this.main.config,u=t&&t!==this.canvasId,f=n&&n!==this.imageSource,r=this.jsonNotEqual(o,this.blockSize),l=this.jsonNotEqual(s,this.renderSize);l&&(this.renderSize=s),u&&(this.canvasId=t),f?(this.imageSource=n,await this.loadImageData()):(l||u||e)&&this.getImageDataFromElement(),r&&(this.blockSize=o);const g=u||f||r||l;return g&&this.organizeBlockPixelData(),!!g}async loadImageData(){const e=this.imageSource;if(e instanceof URL)await this.getImageDataFromUrl(e.href);else if(e instanceof Blob){const t=URL.createObjectURL(e);await this.getImageDataFromUrl(t),URL.revokeObjectURL(t)}else await this.getImageDataFromUrl(e)}getImageDataFromUrl(e){return new Promise((t,n)=>{const o=new Image;o.src=e,o.crossOrigin="Anonymous",o.onload=()=>t(this.getImageDataFromElement()),o.onerror=s=>n(new Error(`加载图片失败: ${e}`)),this.imageElement=o})}getImageDataFromElement(){if(!this.imageElement)return;const e=this.imageElement,{width:t,height:n}=this.calculateFitSize(e.width,e.height),o=document.createElement("canvas");o.width=t,o.height=n;const s=o.getContext("2d");s.drawImage(e,0,0,t,n),this.imageData=s.getImageData(0,0,t,n)}calculateFitSize(e,t){if(this.renderSize)return this.renderSize;const{canvasWidth:n,canvasHeight:o}=this.main.canvasProcessor.export;if(n>e&&o>t)return{width:e,height:t};const s=n/e,u=o/t;return s>u?{width:o/t*e,height:o}:{width:n,height:n/e*t}}getBlockPixelData(e,t){var u,f;if(!Number.isInteger(e)||!Number.isInteger(t)){console.warn(`获取区块数据失败: 索引必须为整数，当前x: ${e}, y: ${t}`);return}const n=e>=0&&e<this.totalXBlocks,o=t>=0&&t<this.totalYBlocks;if(!n||!o){console.warn(`获取区块数据失败: 索引超出有效范围
      - 输入索引: x=${e}, y=${t}
      - 有效范围: x∈[0, ${this.totalXBlocks-1}], y∈[0, ${this.totalYBlocks-1}]`);return}return((f=(u=this.blockRows)==null?void 0:u[t])==null?void 0:f[e])??[]}organizeBlockPixelData(){const{imageData:e,blockSize:t}=this;if(e){this.blockRows=[],this.totalXBlocks=Math.ceil(e.width/t.width),this.totalYBlocks=Math.ceil(e.height/t.height);for(let n=0;n<this.totalYBlocks;n++){const o=[];for(let s=0;s<this.totalXBlocks;s++)o.push(this.getSingleBlockPixelData(s,n));this.blockRows.push(o)}}}getSingleBlockPixelData(e,t){const n=this.imageData,o=this.blockSize,s=e*o.width,u=Math.min(s+o.width,n.width),f=t*o.height,r=Math.min(f+o.height,n.height);let l=0;const g=new ImageData(u-s,r-f);for(let I=f;I<r;I++)for(let E=s;E<u;E++){const P=(I*n.width+E)*4,V=n.data[P],M=n.data[P+1],z=n.data[P+2],Q=n.data[P+3];g.data[l++]=V,g.data[l++]=M,g.data[l++]=z,g.data[l++]=Q}return g}}class Hn{constructor(){d(this,"status","static");d(this,"imageProcessor",new Jn(this));d(this,"canvasProcessor",new Ln(this));d(this,"blockManager",new Vn(this));d(this,"animationManager",new Yn(this));d(this,"throwManager",new _n(this));d(this,"config",{});d(this,"lastTimestamp")}async start(e){var t;e&&(this.pause(),await this.updateConfig(e)),this.status="running",this.loopCheck(),((t=this.config.throw)==null?void 0:t.type)=="auto"&&this.throwManager.autoThrow()}pause(){this.status="static",this.throwManager.stopAutoThrow(),this.lastTimestamp=void 0}throwBlock(e){this.throwManager.throw(e),this.status!="running"&&(this.status="running",this.loopCheck())}reset(){this.blockManager.reset(),this.canvasProcessor.reset(),this.throwManager.reset()}loopCheck(e){var n;const t=()=>{requestAnimationFrame(o=>this.loopCheck(o))};if(this.status=="running"){if(!e)return t();if(this.lastTimestamp){const o=e-this.lastTimestamp;this.throwManager.updateBlockProgress(o),this.animationManager.calculateBlockPosition(),this.canvasProcessor.renderCanvas()}{if(this.throwManager.isFinished)return this.reset(),this.pause();if(((n=this.config.throw)==null?void 0:n.type)=="manual"&&this.throwManager.runningBlocks.length==0)return this.pause()}this.lastTimestamp=e,t()}}async updateConfig(e){if(!this.validationConfig(e))return Promise.reject("Invalid config");if(this.status=="running")return this.start(e),Promise.reject("可忽略");Object.assign(this.config,e);const t=this.canvasProcessor.update(),n=await this.imageProcessor.update(t),o=this.blockManager.update(n);this.animationManager.update(),this.throwManager.update(),(n||o)&&this.reset()}validationConfig(e){let t=!0;const{renderSize:n,blockSize:o}=e;return[n,o].forEach(s=>{s&&!this.validateMinIntegerValues(s)&&(t=!1)}),t}validateMinIntegerValues(e,t=1){if(!e||typeof e!="object"||Array.isArray(e))return console.warn("Input must be a non-array object"),!1;Number.isInteger(t)||(console.warn(`Minimum value must be an integer (got ${t}), fallback to 1`),t=1);let n=!0;for(const o in e)if(e.hasOwnProperty(o)){const s=e[o],u=typeof s;if(u!=="number"){console.warn(`[${o}] Value must be a number, got ${u}`),n=!1;continue}Number.isInteger(s)?s<t&&(console.warn(`[${o}] Value must be ≥ ${t} (got ${s})`),n=!1):(console.warn(`[${o}] Value must be an integer (got ${s})`),n=!1)}return n}}const Gn=["id"],On=F({__name:"index",props:{config:{}},setup(a,{expose:e}){const t=a,n=rn(),o=new Hn;return de(()=>t.config,s=>{requestAnimationFrame(()=>o.start({id:n,...s}))},{immediate:!0,deep:!0}),e({imageScatterRecombine:o}),(s,u)=>(J(),q("canvas",{id:v(n)},null,8,Gn))}}),qn=dt(On,[["__scopeId","data-v-4ce811e9"]]),Fn=["src"],$n=F({__name:"index",setup(a){const e=[new URL("/nhanh-frontend-view/assets/200x200-DTKpAlTe.jpg",import.meta.url).href,new URL("data:image/jpeg;base64,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",import.meta.url).href,new URL("/nhanh-frontend-view/assets/350x300-C5B_vUvx.jpg",import.meta.url).href,new URL("/nhanh-frontend-view/assets/400x300-CewFpxfe.jpg",import.meta.url).href],t=D(0),n=D(!1),o=D({renderSize:{width:200,height:300},blockSize:{width:50,height:50},blockSortType:"stack",blockStartPositionGenerator:"top",animation:{name:"easeIn",duration:.5},throw:{type:"auto",autoThrowInterval:.1}}),s=k(()=>{const f=e[t.value],r=n.value?o.value.renderSize:null;return{...o.value,url:f,renderSize:r}}),u=D();return(f,r)=>(J(),ln(Wt,{"default-size":.35,min:0},{left:A(()=>[p(v(hn),null,{default:A(()=>[p(v(U),{vertical:""},{default:A(()=>[p(v(O),{title:"图片 url",size:"small",hoverable:""},{default:A(()=>[p(v(Dn),{"current-index":t.value,"onUpdate:currentIndex":r[0]||(r[0]=l=>t.value=l),"space-between":15,loop:!1,"slides-per-view":"auto","centered-slides":"",draggable:"","show-arrow":""},{default:A(()=>[(J(),q(ce,null,ue(e,l=>p(v(ft),{key:l,style:{width:"40%"}},{default:A(()=>[cn("img",{src:l},null,8,Fn)]),_:2},1024)),64))]),_:1},8,["current-index"])]),_:1}),p(v(O),{title:"渲染大小 renderSize",size:"small",hoverable:""},{default:A(()=>[p(v(U),{vertical:""},{default:A(()=>[p(v(U),{align:"center"},{default:A(()=>[p(v(An),{depth:"3"},{default:A(()=>[...r[13]||(r[13]=[R("自定义",-1)])]),_:1}),p(v(gn),{value:n.value,"onUpdate:value":r[1]||(r[1]=l=>n.value=l)},null,8,["value"])]),_:1}),p(v(tt),null,{default:A(()=>[p(v(ne),{value:o.value.renderSize.width,"onUpdate:value":r[2]||(r[2]=l=>o.value.renderSize.width=l)},{prefix:A(()=>[...r[14]||(r[14]=[R(" width ",-1)])]),suffix:A(()=>[...r[15]||(r[15]=[R(" px ",-1)])]),_:1},8,["value"]),p(v(ne),{value:o.value.renderSize.height,"onUpdate:value":r[3]||(r[3]=l=>o.value.renderSize.height=l)},{prefix:A(()=>[...r[16]||(r[16]=[R(" height ",-1)])]),suffix:A(()=>[...r[17]||(r[17]=[R(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),p(v(O),{title:"数据块大小 blockSize",size:"small",hoverable:""},{default:A(()=>[p(v(tt),null,{default:A(()=>[p(v(ne),{value:o.value.blockSize.width,"onUpdate:value":r[4]||(r[4]=l=>o.value.blockSize.width=l)},{prefix:A(()=>[...r[18]||(r[18]=[R(" width ",-1)])]),suffix:A(()=>[...r[19]||(r[19]=[R(" px ",-1)])]),_:1},8,["value"]),p(v(ne),{value:o.value.blockSize.height,"onUpdate:value":r[5]||(r[5]=l=>o.value.blockSize.height=l)},{prefix:A(()=>[...r[20]||(r[20]=[R(" height ",-1)])]),suffix:A(()=>[...r[21]||(r[21]=[R(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),p(v(O),{title:"排序方式 blockSortType",size:"small",hoverable:""},{default:A(()=>[p(v(xe),{value:o.value.blockSortType,"onUpdate:value":r[6]||(r[6]=l=>o.value.blockSortType=l)},{default:A(()=>[p(v(U),null,{default:A(()=>[(J(),q(ce,null,ue(["sequence","reverse","randomly","stack"],l=>p(v(be),{key:l,value:l},{default:A(()=>[R(we(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["value"])]),_:1}),p(v(O),{title:"起始位置 blockStartPositionGenerator",size:"small",hoverable:""},{default:A(()=>[p(v(xe),{value:o.value.blockStartPositionGenerator,"onUpdate:value":r[7]||(r[7]=l=>o.value.blockStartPositionGenerator=l)},{default:A(()=>[p(v(U),null,{default:A(()=>[(J(),q(ce,null,ue(["center","top","top_middle","bottom","bottom_middle","left","left_center","right","right_center"],l=>p(v(be),{key:l,value:l},{default:A(()=>[R(we(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["value"])]),_:1}),p(v(O),{title:"动画 animation",size:"small",hoverable:""},{default:A(()=>[p(v(U),{align:"center"},{default:A(()=>[p(v(xe),{value:o.value.animation.name,"onUpdate:value":r[8]||(r[8]=l=>o.value.animation.name=l)},{default:A(()=>[p(v(U),null,{default:A(()=>[(J(),q(ce,null,ue(["linear","ease","easeOut","easeIn","bounce"],l=>p(v(be),{key:l,value:l},{default:A(()=>[R(we(l),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["value"]),p(v(ne),{value:o.value.animation.duration,"onUpdate:value":r[9]||(r[9]=l=>o.value.animation.duration=l),step:.1},{prefix:A(()=>[...r[22]||(r[22]=[R(" duration ",-1)])]),suffix:A(()=>[...r[23]||(r[23]=[R(" s ",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),p(v(O),{title:"抛出 throw",size:"small",hoverable:""},{default:A(()=>[p(v(U),{vertical:""},{default:A(()=>[p(v(U),{align:"center"},{default:A(()=>{var l;return[p(v(xe),{value:o.value.throw.type,"onUpdate:value":r[10]||(r[10]=g=>o.value.throw.type=g)},{default:A(()=>[p(v(U),null,{default:A(()=>[(J(),q(ce,null,ue(["auto","manual"],g=>p(v(be),{key:g,value:g},{default:A(()=>[R(we(g),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["value"]),p(v(un),{type:"success",secondary:"",size:"small",disabled:((l=o.value.throw)==null?void 0:l.type)!="manual",onClick:r[11]||(r[11]=g=>{var I;return(I=u.value)==null?void 0:I.imageScatterRecombine.throwBlock()})},{icon:A(()=>[p(v(dn),{component:v(Wn)},null,8,["component"])]),default:A(()=>[r[24]||(r[24]=R(" 抛出 ",-1))]),_:1},8,["disabled"])]}),_:1}),p(v(ne),{value:o.value.throw.autoThrowInterval,"onUpdate:value":r[12]||(r[12]=l=>o.value.throw.autoThrowInterval=l),step:.1},{prefix:A(()=>[...r[25]||(r[25]=[R(" autoThrowInterval ",-1)])]),suffix:A(()=>[...r[26]||(r[26]=[R(" s ",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),right:A(()=>[p(qn,{ref_key:"coreRef",ref:u,config:s.value},null,8,["config"])]),_:1}))}}),fo=dt($n,[["__scopeId","data-v-1fcad7cb"]]);export{fo as default};
