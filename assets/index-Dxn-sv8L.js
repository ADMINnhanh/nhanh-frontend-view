import{aV as B,dz as n,d as C,cD as T,aF as V,aZ as E,aY as N,o as O,w as P,aS as S,u as d,b}from"./index-C3drNslq.js";import{C as k}from"./Card-Cv8ZmGyz.js";import{E as q}from"./Equation-Cit3Oy6T.js";import"./Alert-C-d1cGp8.js";const y=B(),w=.61803;function h(t,e){return t[0]+(e[0]-t[0])*w}function _(t,e){return t[1]+(e[1]-t[1])*w}function z(t,e){return t[0]==e[0]?[t[0],_(t,e)]:[h(t,e),t[1]]}const f=(t,e)=>({value:e,text:t,offset:{x:0,y:-25},style:{size:20},isInteractive:!1}),l=new n.Text(f("A",[-4,-5])),r=new n.Text(f("B",[4,-5])),x=new n.Text(f("P",z(l.value,r.value))),D=[l,r,x],L=new n.Line({value:[l.value,r.value],isInteractive:!1}),Y=new n.Point({value:l.value}),$=new n.Point({value:r.value}),F=new n.Point({value:x.value}),X=[Y,$,F],I=r.value[0]-l.value[0],g=x.value[0]-l.value[0],v=new n.Polygon({value:[[-(g/2),-(I/2)],[g/2,I/2]],isRect:!0,isInteractive:!1,style:{fill:"transparent"}}),m=[],A=[];let a=v.value;for(let t=0;t<16;t++){const e=[],o=Math.ceil((m.length+1)/2)%2;let c=0,i=0,p=0,u=[0,0];if((t+1)%2>0){if(o){const s=_(a[1],a[0]);e.push(a[0],[a[1][0],s]),u=[e[0][0],e[1][1]],i=Math.PI/2}else{const s=_(a[0],a[1]);e.push([a[0][0],s],a[1]),u=[e[1][0],e[0][1]],c=Math.PI,i=Math.PI*1.5}p=e[1][0]-e[0][0]}else{if(o){const s=h(a[1],a[0]);e.push(a[0],[s,a[1][1]]),u=e[1],c=Math.PI*1.5}else{const s=h(a[0],a[1]);e.push([s,a[0][1]],a[1]),u=e[0],c=Math.PI/2,i=Math.PI}p=e[1][1]-e[0][1]}a=e;const G=new n.Polygon({value:e,isRect:!0,style:{fill:"transparent"},isInteractive:!1}),R=new n.Arc({isInteractive:!1,startAngle:c,endAngle:i,radiusValue:p,value:u});m.push(G),A.push(R)}const M=[];"斐波那契螺旋线/黄金螺旋线".split("").forEach((t,e)=>{const o=new n.Text({...f(t,[v.value[1][0],v.value[0][1]]),offset:{x:40,y:10+e*25}});M.push(o)});const Z=[L,v,D,X,m,A,M],j=["id"],U=C({__name:"index",setup(t){let e=T();const o=`\\begin{aligned}
   &\\frac{AP}{AB} = \\frac{PB}{AP} \\approx ${w};
  \\end{aligned}`;return V(()=>{e.value=new n({id:y,theme:E.value.theme,axisShow:!1}),e.value.addOverlay(Z)}),(c,i)=>(O(),N(k,{canvas:d(e),vertical:"",alert:"黄金分割"},{"alert-content":P(()=>[b(d(q),{value:o})]),default:P(()=>[S("canvas",{id:d(y)},null,8,j)]),_:1},8,["canvas"]))}});export{U as default};
