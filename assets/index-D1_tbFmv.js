import{d as B,J as y,C as O,o as M,c as T,aK as $,b as S,u as b,_ as j,aQ as H,aI as U,ah as V,aS as R,w as x,aM as q,aY as K,Z,aT as J,e as Q,t as Y,aU as X}from"./index-gVmBTWk7.js";import{W as ee,P as te,O as ne,S as ae,C as oe,a as se,A as re,D as ie,L as ce}from"./OrbitControls-BhXoMS-P.js";import{G as le}from"./GLTFLoader-B9cADE-t.js";import{N as ue}from"./Progress-C2M5u_D_.js";import{N as fe}from"./RadioGroup-CeqTxc09.js";import{N as de}from"./Radio-Dj-xLYUM.js";import"./BufferGeometryUtils-CKXThuvA.js";function pe(d){const r=new Map,i=new Map,s=d.clone();return F(d,s,function(e,o){r.set(o,e),i.set(e,o)}),s.traverse(function(e){if(!e.isSkinnedMesh)return;const o=e,g=r.get(e),u=g.skeleton.bones;o.skeleton=g.skeleton.clone(),o.bindMatrix.copy(g.bindMatrix),o.skeleton.bones=u.map(function(c){return i.get(c)}),o.bind(o.skeleton,o.bindMatrix)}),s}function F(d,r,i){i(d,r);for(let s=0;s<d.children.length;s++)F(d.children[s],r.children[s],i)}const ge=B({__name:"Progress",props:{percentage:{default:0},once:{type:Boolean,default:!0}},setup(d){const r=d,i=y(),s=O(()=>r.percentage,e=>{i.value.$el.style.opacity=e==100?0:1,e==100&&r.once&&s()});return(e,o)=>(M(),T("div",null,[$(e.$slots,"default",{},void 0,!0),S(b(ue),{ref_key:"progressRef",ref:i,type:"line",status:"success",percentage:e.percentage,"show-indicator":!1,processing:""},null,8,["percentage"])]))}}),me=j(ge,[["__scopeId","data-v-b7b2fa0b"]]),he=["id"],ve=B({__name:"index",setup(d){const r=H();let i=!0;const s=y(0),e=y({}),o=y();O(o,(u,c)=>{if(c)for(const[p,l]of e.value[c])if(u){const m=e.value[u].get(p);m?(m.reset().setEffectiveTimeScale(1).setEffectiveWeight(1),l.crossFadeTo(m,.5,!0)):l.stop()}else l.stop();if(u)for(const[p,l]of e.value[u])l.reset().play()});function g(){const u=document.getElementById(r),c=new ee({antialias:!0,canvas:u}),p=45,l=2,m=.1,z=100,h=new te(p,l,m,z);h.position.set(0,20,40);const C=new ne(h,u);C.target.set(0,5,0),C.update();const v=new ae;v.background=new oe("white");function P(...t){const f=new ie(16777215,2.5);f.position.set(...t),v.add(f),v.add(f.target)}P(5,5,2),P(-5,5,5);const k=new ce;k.onLoad=W,k.onProgress=(t,a,n)=>{s.value=Number((a/n).toFixed(2))*100};const L={pig:{url:"gltf/Pig.gltf"},cow:{url:"gltf/Cow.gltf"},llama:{url:"gltf/Llama.gltf"},pug:{url:"gltf/Pug.gltf"},sheep:{url:"gltf/Sheep.gltf"},zebra:{url:"gltf/Zebra.gltf"},horse:{url:"gltf/Horse.gltf"},knight:{url:"gltf/KnightCharacter.gltf"}};{const t=new le(k);for(const a of Object.values(L))t.load(a.url,n=>{a.gltf=n})}function D(){Object.values(L).forEach(t=>{const a={};t.gltf.animations.forEach(n=>{a[n.name]=n}),t.animations=a})}const A=[];function W(){D(),Object.values(L).forEach((t,a)=>{const n=pe(t.gltf.scene),f=new se;f.add(n),v.add(f),f.position.x=(a-3)*3;const _=new re(n);for(const w in t.animations)if(Object.prototype.hasOwnProperty.call(t.animations,w)){const I=t.animations[w];e.value[w]||(e.value[w]=new Map),e.value[w].set(t.url,X(_.clipAction(I)))}A.push(_)})}function G(t){const a=t.domElement,n=a.clientWidth,f=a.clientHeight,_=a.width!==n||a.height!==f;return _&&t.setSize(n,f,!1),_}let E=0;function N(t){t*=.001;const a=t-E;if(E=t,G(c)){const n=c.domElement;h.aspect=n.clientWidth/n.clientHeight,h.updateProjectionMatrix()}for(const n of A)n.update(a);c.render(v,h),i&&requestAnimationFrame(N)}requestAnimationFrame(N)}return U(()=>{g()}),V(()=>{i=!1}),(u,c)=>(M(),R(me,{percentage:s.value},{default:x(()=>[q("canvas",{id:b(r)},null,8,he),S(b(fe),{value:o.value,"onUpdate:value":c[0]||(c[0]=p=>o.value=p)},{default:x(()=>[S(b(K),{vertical:""},{default:x(()=>[(M(!0),T(Z,null,J(e.value,(p,l)=>(M(),R(b(de),{key:l,value:l},{default:x(()=>[Q(Y(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["percentage"]))}}),Le=j(ve,[["__scopeId","data-v-b01f5de5"]]);export{Le as default};
