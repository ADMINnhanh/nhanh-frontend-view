import{m as M,P as T,an as I,O as G,d as L,p as J,q as A,co as K,x as _,H as $,C as Q,T as Z,S as ee,D as te,h as y,W as ie,ab as B,$ as O,G as k,aa as F,cp as re,aO as D,o as se,aR as ne,w as N,u as P,aU as j,_ as oe}from"./index-DRU1KIa-.js";const le=M("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[T("horizontal",`
 flex-direction: row;
 `),T("vertical",`
 flex-direction: column;
 `),M("split-pane-1",`
 overflow: hidden;
 `),M("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),I("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[T("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),G("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ae=Object.assign(Object.assign({},A.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),ce=L({name:"Split",props:ae,slots:Object,setup(e){var c;const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=J(e),s=A("Split","-split",le,K,e,r),d=_(()=>{const{common:{cubicBezierEaseInOut:t},self:{resizableTriggerColor:i,resizableTriggerColorHover:l}}=s.value;return{"--n-bezier":t,"--n-resize-trigger-color":i,"--n-resize-trigger-color-hover":l}}),g=$(null),o=$(!1),f=Q(e,"size"),v=$(e.defaultSize);!((c=e.watchProps)===null||c===void 0)&&c.includes("defaultSize")&&Z(()=>v.value=e.defaultSize);const m=t=>{const i=e["onUpdate:size"];e.onUpdateSize&&k(e.onUpdateSize,t),i&&k(i,t),v.value=t},S=ee(f,v),H=_(()=>{const t=S.value;if(typeof t=="string")return{flex:`0 0 ${t}`};if(typeof t=="number"){const i=t*100;return{flex:`0 0 calc(${i}% - ${e.resizeTriggerSize*i/100}px)`}}}),V=_(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),E=_(()=>{const t=e.direction==="horizontal";return{width:t?`${e.resizeTriggerSize}px`:"",height:t?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let x=0;const W=t=>{t.preventDefault(),o.value=!0,e.onDragStart&&e.onDragStart(t);const i="mousemove",l="mouseup",a=u=>{U(u),e.onDragMove&&e.onDragMove(u)},p=()=>{F(i,document,a),F(l,document,p),o.value=!1,e.onDragEnd&&e.onDragEnd(t),document.body.style.cursor=""};document.body.style.cursor=E.value.cursor,B(i,document,a),B(l,document,p);const b=g.value;if(b){const u=b.getBoundingClientRect();e.direction==="horizontal"?x=t.clientX-u.left:x=u.top-t.clientY}U(t)};function U(t){var i,l;const a=(l=(i=g.value)===null||i===void 0?void 0:i.parentElement)===null||l===void 0?void 0:l.getBoundingClientRect();if(!a)return;const{direction:p}=e,b=a.width-e.resizeTriggerSize,u=a.height-e.resizeTriggerSize,C=p==="horizontal"?b:u,X=p==="horizontal"?t.clientX-a.left-x:t.clientY-a.top+x,{min:R,max:w}=e,Y=typeof R=="string"?O(R):R*C,q=typeof w=="string"?O(w):w*C;let z=X;z=Math.max(z,Y),z=Math.min(z,q,C),typeof S.value=="string"?m(`${z}px`):m(z/C)}const h=n?te("split",void 0,d,e):void 0;return{themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender,cssVars:n?void 0:d,resizeTriggerElRef:g,isDragging:o,mergedClsPrefix:r,resizeTriggerWrapperStyle:E,resizeTriggerStyle:V,handleMouseDown:W,firstPaneStyle:H}},render(){var e,c,r,n,s;return(e=this.onRender)===null||e===void 0||e.call(this),y("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},y("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(r=(c=this.$slots)[1])===null||r===void 0?void 0:r.call(c)),!this.disabled&&y("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},ie(this.$slots["resize-trigger"],()=>[y("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),y("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(s=(n=this.$slots)[2])===null||s===void 0?void 0:s.call(n)))}}),de=L({__name:"ResponsiveDirectionLayout",props:{defaultSize:{default:.25}},setup(e){const r=$(e.defaultSize),n=re();return requestAnimationFrame(()=>{const s=n.value.$el.querySelector(".n-split__resize-trigger-wrapper");if(s){const{width:d,height:g}=n.value.$el.getBoundingClientRect();let o,f;s.addEventListener("touchmove",v=>{const{clientX:m,clientY:S}=v.touches[0];D.value.isMobileStyle?(f&&(r.value+=(S-f)/g),f=S):(o&&(r.value+=(m-o)/d),o=m),r.value=Math.max(.25,Math.min(.75,r.value))}),s.addEventListener("touchend",()=>{o=f=void 0,console.log(123)})}}),(s,d)=>(se(),ne(P(ce),{ref_key:"split",ref:n,direction:P(D).isMobileStyle?"vertical":"horizontal","resize-trigger-size":P(D).isMobileStyle?6:3,max:.75,min:.25,size:r.value,"onUpdate:size":d[0]||(d[0]=g=>r.value=g)},{1:N(()=>[j(s.$slots,"left",{},void 0,!0)]),2:N(()=>[j(s.$slots,"right",{},void 0,!0)]),_:3},8,["direction","resize-trigger-size","size"]))}}),ue=oe(de,[["__scopeId","data-v-8d026ca6"]]);export{ue as R};
