import{p as w,R as M,ap as q,Q as J,d as O,v as K,x as Y,cc as Q,z as b,J as C,E as G,V as Z,U as ee,F as ie,k as S,Y as te,a9 as k,a4 as B,I as F,a8 as N,cd as re,aV as T,o as se,aR as ne,w as V,u as D,aK as L,_ as oe}from"./index-C7aMxuIB.js";const le=w("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[M("horizontal",`
 flex-direction: row;
 `),M("vertical",`
 flex-direction: column;
 `),w("split-pane-1",`
 overflow: hidden;
 `),w("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),q("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[M("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),J("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ae=Object.assign(Object.assign({},Y.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),ce=O({name:"Split",props:ae,setup(e){var r;const{mergedClsPrefixRef:n,inlineThemeDisabled:s}=K(e),o=Y("Split","-split",le,Q,e,n),u=b(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:t,resizableTriggerColorHover:c}}=o.value;return{"--n-bezier":i,"--n-resize-trigger-color":t,"--n-resize-trigger-color-hover":c}}),l=C(null),a=C(!1),_=G(e,"size"),h=C(e.defaultSize);!((r=e.watchProps)===null||r===void 0)&&r.includes("defaultSize")&&Z(()=>h.value=e.defaultSize);const v=i=>{const t=e["onUpdate:size"];e.onUpdateSize&&F(e.onUpdateSize,i),t&&F(t,i),h.value=i},P=ee(_,h),j=b(()=>{const i=P.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const t=i*100;return{flex:`0 0 calc(${t}% - ${e.resizeTriggerSize*t/100}px)`}}}),A=b(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),E=b(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let p=0;const X=i=>{i.preventDefault(),a.value=!0,e.onDragStart&&e.onDragStart(i);const t="mousemove",c="mouseup",d=g=>{U(g),e.onDragMove&&e.onDragMove(g)},m=()=>{N(t,document,d),N(c,document,m),a.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=E.value.cursor,k(t,document,d),k(c,document,m);const y=l.value;if(y){const g=y.getBoundingClientRect();e.direction==="horizontal"?p=i.clientX-g.left:p=g.top-i.clientY}U(i)};function U(i){var t,c;const d=(c=(t=l.value)===null||t===void 0?void 0:t.parentElement)===null||c===void 0?void 0:c.getBoundingClientRect();if(!d)return;const{direction:m}=e,y=d.width-e.resizeTriggerSize,g=d.height-e.resizeTriggerSize,x=m==="horizontal"?y:g,H=m==="horizontal"?i.clientX-d.left-p:i.clientY-d.top+p,{min:R,max:$}=e,I=typeof R=="string"?B(R):R*x,W=typeof $=="string"?B($):$*x;let z=H;z=Math.max(z,I),z=Math.min(z,W,x),typeof P.value=="string"?v(`${z}px`):v(z/x)}const f=s?ie("split",void 0,u,e):void 0;return{themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,cssVars:s?void 0:u,resizeTriggerElRef:l,isDragging:a,mergedClsPrefix:n,resizeTriggerWrapperStyle:E,resizeTriggerStyle:A,handleMouseDown:X,firstPaneStyle:j}},render(){var e,r,n,s,o;return(e=this.onRender)===null||e===void 0||e.call(this),S("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},S("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(r=this.$slots)[1])===null||n===void 0?void 0:n.call(r)),!this.disabled&&S("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},te(this.$slots["resize-trigger"],()=>[S("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),S("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(o=(s=this.$slots)[2])===null||o===void 0?void 0:o.call(s)))}}),de=O({__name:"ResponsiveDirectionLayout",setup(e){const r=C(.25),n=re();return requestAnimationFrame(()=>{const s=n.value.$el.querySelector(".n-split__resize-trigger-wrapper");if(s){const{width:o,height:u}=n.value.$el.getBoundingClientRect();let l,a;s.addEventListener("touchmove",_=>{const{clientX:h,clientY:v}=_.touches[0];T.value.isMobileStyle?(a&&(r.value+=(v-a)/u),a=v):(l&&(r.value+=(h-l)/o),l=h),r.value=Math.max(.25,Math.min(.75,r.value))}),s.addEventListener("touchend",()=>{l=a=void 0,console.log(123)})}}),(s,o)=>(se(),ne(D(ce),{ref_key:"split",ref:n,direction:D(T).isMobileStyle?"vertical":"horizontal","resize-trigger-size":D(T).isMobileStyle?6:3,max:.75,min:.25,size:r.value,"onUpdate:size":o[0]||(o[0]=u=>r.value=u)},{1:V(()=>[L(s.$slots,"left",{},void 0,!0)]),2:V(()=>[L(s.$slots,"right",{},void 0,!0)]),_:3},8,["direction","resize-trigger-size","size"]))}}),ue=oe(de,[["__scopeId","data-v-628cd754"]]);export{ue as R};
