import{cq as _,d as w,b2 as g,F as L,bo as f,p as x,o as E,c as C,a as P,w as T,e as b,u as v,V as D,U as k,_ as N}from"./index-DC-Oli1Y.js";import{D as m,_ as s}from"./index-D6O9H15n.js";import{N as O}from"./a-rmPoR321.js";function S(){const u=new URL(""+new URL("index-BqTUXMPq.json",import.meta.url).href,import.meta.url);return _(u.href).then(d=>{const t=JSON.parse(d),r=[];return t.features.forEach(p=>{const{properties:e,geometry:a}=p,n={properties:e,geometry:[]};r.push(n),e.center=e.center&&m.LngLatToPlane(...e.center),e.centroid=e.centroid&&m.LngLatToPlane(...e.centroid),a.type=="MultiPolygon"?a.coordinates.forEach(c=>{c.forEach(i=>{n.geometry.push(i.map(l=>m.LngLatToPlane(...l)))})}):a.coordinates.forEach(c=>n.geometry.push(c.map(i=>m.LngLatToPlane(...i))))}),r})}const B=["id"],G=w({__name:"china",setup(u){const d=g();let t;const r=new s.Layer("中国地图"),p=[];return S().then(e=>{e.forEach(a=>{const n=new s.OverlayGroup(a.properties.name),c=()=>{window.$message.success(`这里是 ${a.properties.name}`)},i=()=>{window.$message.success(`这里是 ${a.properties.name}`)};a.geometry.forEach(o=>{const h=new s.Polygon({isShowHandlePoint:!1,value:o});n.addOverlays(h)});const l=a.properties.center;if(l){const o=new s.Point({value:l});o.show.setScales([.9,1e3]);const h=new s.Text({text:a.properties.name,value:l,extraOffset:{x:0,y:20}});h.show.setScales([1.1,1e3]),n.addOverlays([o,h])}const y=Array.from(n.overlays.values());n.overlays.forEach(o=>{o.sharedHoverOverlays=y,o.addEventListener("click",c),o.addEventListener("dblclick",i)}),p.push(n)}),r.addGroup(p)}),L(()=>f.value.theme,e=>t==null?void 0:t.setTheme(e)),x(()=>{t=new s(d,{axisConfig:{y:-1,count:2e6},defaultCenter:{bottom:0}}),t.setDefaultCenter({left:-(580-t.rect.value.width/2)}),t.setTheme(f.value.theme),t.addLayer(r)}),(e,a)=>(E(),C(k,null,[P(v(O),{href:"https://github.com/ADMINnhanh/nhanh-frontend-view/tree/main/src/views/canvas/_Canvas/demo",target:"_blank"},{default:T(()=>[b(" 所有 demo 的源码 ")]),_:1}),D("canvas",{id:v(d),class:"my-canvas"},null,8,B)],64))}}),$=N(G,[["__scopeId","data-v-736a0b32"]]);export{$ as default};
