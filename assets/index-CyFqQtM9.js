var Yt=Object.defineProperty;var Xt=(i,e,t)=>e in i?Yt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var b=(i,e,t)=>Xt(i,typeof e!="symbol"?e+"":e,t);import{i as Te,g as Kt,f as rt,h as Zt,j as E,k as be,l as q,m as C,n as O,d as G,p as ye,q as Jt,s as We,v as it,x as $,y as Qt,z as vt,A as Ft,C as D,D as ke,E as It,F as bt,G as Ge,H as ee,I as Mt,J as I,K,L as ot,M as pt,N as Et,O as Lt,P as en,Q as qt,R as tn,S as nn,T as yt,U as Vt,V as wt,W as at,X as Tt,Y as rn,Z as xt,$ as on,a0 as jt,a1 as an,a2 as kt,o as oe,c as he,a3 as V,a4 as sn,a5 as ln,a6 as dn,a7 as un,a8 as cn,a9 as fn,aa as hn,_ as Bt,ab as mn,ac as st,ad as gn,a as h,w,u,e as W,ae as $e,B as ze,af as Ae,ag as ae,ah as Rt,ai as ie,aj as vn,t as pn,ak as bn,al as yn,am as wn}from"./index-D24jBNt-.js";import{R as xn,N as se}from"./ResponsiveDirectionLayout-C7Pw9RVO.js";import{N as kn,a as pe}from"./a-PhEvsNXe.js";import{A as Rn,N as _n,a as Oe}from"./Add-DEacHaNp.js";import"./Add-BfyHXPGv.js";function Cn(i,e,t){var n;const r=Te(i,null);if(r===null)return;const o=(n=Kt())===null||n===void 0?void 0:n.proxy;rt(t,a),a(t.value),Zt(()=>{a(void 0,t.value)});function a(f,c){if(!r)return;const d=r[e];c!==void 0&&s(d,c),f!==void 0&&l(d,f)}function s(f,c){f[c]||(f[c]=[]),f[c].splice(f[c].findIndex(d=>d===o),1)}function l(f,c){f[c]||(f[c]=[]),~f[c].findIndex(d=>d===o)||f[c].push(o)}}const L="0!important",Dt="-1px!important";function Pe(i){return C(`${i}-type`,[q("& +",[E("button",{},[C(`${i}-type`,[O("border",{borderLeftWidth:L}),O("state-border",{left:Dt})])])])])}function Fe(i){return C(`${i}-type`,[q("& +",[E("button",[C(`${i}-type`,[O("border",{borderTopWidth:L}),O("state-border",{top:Dt})])])])])}const Sn=E("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[be("vertical",{flexDirection:"row"},[be("rtl",[E("button",[q("&:first-child:not(:last-child)",`
 margin-right: ${L};
 border-top-right-radius: ${L};
 border-bottom-right-radius: ${L};
 `),q("&:last-child:not(:first-child)",`
 margin-left: ${L};
 border-top-left-radius: ${L};
 border-bottom-left-radius: ${L};
 `),q("&:not(:first-child):not(:last-child)",`
 margin-left: ${L};
 margin-right: ${L};
 border-radius: ${L};
 `),Pe("default"),C("ghost",[Pe("primary"),Pe("info"),Pe("success"),Pe("warning"),Pe("error")])])])]),C("vertical",{flexDirection:"column"},[E("button",[q("&:first-child:not(:last-child)",`
 margin-bottom: ${L};
 margin-left: ${L};
 margin-right: ${L};
 border-bottom-left-radius: ${L};
 border-bottom-right-radius: ${L};
 `),q("&:last-child:not(:first-child)",`
 margin-top: ${L};
 margin-left: ${L};
 margin-right: ${L};
 border-top-left-radius: ${L};
 border-top-right-radius: ${L};
 `),q("&:not(:first-child):not(:last-child)",`
 margin: ${L};
 border-radius: ${L};
 `),Fe("default"),C("ghost",[Fe("primary"),Fe("info"),Fe("success"),Fe("warning"),Fe("error")])])])]),$n={size:{type:String,default:void 0},vertical:Boolean},zn=G({name:"ButtonGroup",props:$n,setup(i){const{mergedClsPrefixRef:e,mergedRtlRef:t}=ye(i);return Jt("-button-group",Sn,e),We(Qt,i),{rtlEnabled:it("ButtonGroup",t,e),mergedClsPrefix:e}},render(){const{mergedClsPrefix:i}=this;return $("div",{class:[`${i}-button-group`,this.rtlEnabled&&`${i}-button-group--rtl`,this.vertical&&`${i}-button-group--vertical`],role:"group"},this.$slots)}}),Gt={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},Nt=vt("n-radio-group");function Wt(i){const e=Te(Nt,null),t=Ft(i,{mergedSize(R){const{size:x}=i;if(x!==void 0)return x;if(e){const{mergedSizeRef:{value:_}}=e;if(_!==void 0)return _}return R?R.mergedSize.value:"medium"},mergedDisabled(R){return!!(i.disabled||e!=null&&e.disabledRef.value||R!=null&&R.disabled.value)}}),{mergedSizeRef:n,mergedDisabledRef:r}=t,o=D(null),a=D(null),s=D(i.defaultChecked),l=ke(i,"checked"),f=It(l,s),c=bt(()=>e?e.valueRef.value===i.value:f.value),d=bt(()=>{const{name:R}=i;if(R!==void 0)return R;if(e)return e.nameRef.value}),m=D(!1);function k(){if(e){const{doUpdateValue:R}=e,{value:x}=i;Ge(R,x)}else{const{onUpdateChecked:R,"onUpdate:checked":x}=i,{nTriggerFormInput:_,nTriggerFormChange:z}=t;R&&Ge(R,!0),x&&Ge(x,!0),_(),z(),s.value=!0}}function p(){r.value||c.value||k()}function g(){p(),o.value&&(o.value.checked=c.value)}function y(){m.value=!1}function v(){m.value=!0}return{mergedClsPrefix:e?e.mergedClsPrefixRef:ye(i).mergedClsPrefixRef,inputRef:o,labelRef:a,mergedName:d,mergedDisabled:r,renderSafeChecked:c,focus:m,mergedSize:n,handleRadioInputChange:g,handleRadioInputBlur:y,handleRadioInputFocus:v}}const An=E("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[C("checked",[O("dot",`
 background-color: var(--n-color-active);
 `)]),O("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),E("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 cursor: pointer;
 `),O("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[q("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),C("checked",{boxShadow:"var(--n-box-shadow-active)"},[q("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),O("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),be("disabled",`
 cursor: pointer;
 `,[q("&:hover",[O("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),C("focus",[q("&:not(:active)",[O("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),C("disabled",`
 cursor: not-allowed;
 `,[O("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[q("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),C("checked",`
 opacity: 1;
 `)]),O("label",{color:"var(--n-text-color-disabled)"}),E("radio-input",`
 cursor: not-allowed;
 `)])]),On=Object.assign(Object.assign({},ee.props),Gt),ce=G({name:"Radio",props:On,setup(i){const e=Wt(i),t=ee("Radio","-radio",An,Mt,i,e.mergedClsPrefix),n=I(()=>{const{mergedSize:{value:f}}=e,{common:{cubicBezierEaseInOut:c},self:{boxShadow:d,boxShadowActive:m,boxShadowDisabled:k,boxShadowFocus:p,boxShadowHover:g,color:y,colorDisabled:v,colorActive:R,textColor:x,textColorDisabled:_,dotColorActive:z,dotColorDisabled:A,labelPadding:N,labelLineHeight:U,labelFontWeight:te,[K("fontSize",f)]:le,[K("radioSize",f)]:de}}=t.value;return{"--n-bezier":c,"--n-label-line-height":U,"--n-label-font-weight":te,"--n-box-shadow":d,"--n-box-shadow-active":m,"--n-box-shadow-disabled":k,"--n-box-shadow-focus":p,"--n-box-shadow-hover":g,"--n-color":y,"--n-color-active":R,"--n-color-disabled":v,"--n-dot-color-active":z,"--n-dot-color-disabled":A,"--n-font-size":le,"--n-radio-size":de,"--n-text-color":x,"--n-text-color-disabled":_,"--n-label-padding":N}}),{inlineThemeDisabled:r,mergedClsPrefixRef:o,mergedRtlRef:a}=ye(i),s=it("Radio",a,o),l=r?ot("radio",I(()=>e.mergedSize.value[0]),n,i):void 0;return Object.assign(e,{rtlEnabled:s,cssVars:r?void 0:n,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender})},render(){const{$slots:i,mergedClsPrefix:e,onRender:t,label:n}=this;return t==null||t(),$("label",{class:[`${e}-radio`,this.themeClass,this.rtlEnabled&&`${e}-radio--rtl`,this.mergedDisabled&&`${e}-radio--disabled`,this.renderSafeChecked&&`${e}-radio--checked`,this.focus&&`${e}-radio--focus`],style:this.cssVars},$("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),$("div",{class:`${e}-radio__dot-wrapper`}," ",$("div",{class:[`${e}-radio__dot`,this.renderSafeChecked&&`${e}-radio__dot--checked`]})),pt(i.default,r=>!r&&!n?null:$("div",{ref:"labelRef",class:`${e}-radio__label`},r||n)))}}),Pn=E("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[O("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[C("checked",{backgroundColor:"var(--n-button-border-color-active)"}),C("disabled",{opacity:"var(--n-opacity-disabled)"})]),C("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[E("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),O("splitor",{height:"var(--n-height)"})]),E("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background: var(--n-button-color);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[E("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),O("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),q("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),q("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[O("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),be("disabled",`
 cursor: pointer;
 `,[q("&:hover",[O("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),be("checked",{color:"var(--n-button-text-color-hover)"})]),C("focus",[q("&:not(:active)",[O("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),C("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),C("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function Fn(i,e,t){var n;const r=[];let o=!1;for(let a=0;a<i.length;++a){const s=i[a],l=(n=s.type)===null||n===void 0?void 0:n.name;l==="RadioButton"&&(o=!0);const f=s.props;if(l!=="RadioButton"){r.push(s);continue}if(a===0)r.push(s);else{const c=r[r.length-1].props,d=e===c.value,m=c.disabled,k=e===f.value,p=f.disabled,g=(d?2:0)+(m?0:1),y=(k?2:0)+(p?0:1),v={[`${t}-radio-group__splitor--disabled`]:m,[`${t}-radio-group__splitor--checked`]:d},R={[`${t}-radio-group__splitor--disabled`]:p,[`${t}-radio-group__splitor--checked`]:k},x=g<y?R:v;r.push($("div",{class:[`${t}-radio-group__splitor`,x]}),s)}}return{children:r,isButtonGroup:o}}const In=Object.assign(Object.assign({},ee.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Qe=G({name:"RadioGroup",props:In,setup(i){const e=D(null),{mergedSizeRef:t,mergedDisabledRef:n,nTriggerFormChange:r,nTriggerFormInput:o,nTriggerFormBlur:a,nTriggerFormFocus:s}=Ft(i),{mergedClsPrefixRef:l,inlineThemeDisabled:f,mergedRtlRef:c}=ye(i),d=ee("Radio","-radio-group",Pn,Mt,i,l),m=D(i.defaultValue),k=ke(i,"value"),p=It(k,m);function g(z){const{onUpdateValue:A,"onUpdate:value":N}=i;A&&Ge(A,z),N&&Ge(N,z),m.value=z,r(),o()}function y(z){const{value:A}=e;A&&(A.contains(z.relatedTarget)||s())}function v(z){const{value:A}=e;A&&(A.contains(z.relatedTarget)||a())}We(Nt,{mergedClsPrefixRef:l,nameRef:ke(i,"name"),valueRef:p,disabledRef:n,mergedSizeRef:t,doUpdateValue:g});const R=it("Radio",c,l),x=I(()=>{const{value:z}=t,{common:{cubicBezierEaseInOut:A},self:{buttonBorderColor:N,buttonBorderColorActive:U,buttonBorderRadius:te,buttonBoxShadow:le,buttonBoxShadowFocus:de,buttonBoxShadowHover:j,buttonColor:X,buttonColorActive:P,buttonTextColor:H,buttonTextColorActive:ne,buttonTextColorHover:B,opacityDisabled:re,[K("buttonHeight",z)]:ue,[K("fontSize",z)]:me}}=d.value;return{"--n-font-size":me,"--n-bezier":A,"--n-button-border-color":N,"--n-button-border-color-active":U,"--n-button-border-radius":te,"--n-button-box-shadow":le,"--n-button-box-shadow-focus":de,"--n-button-box-shadow-hover":j,"--n-button-color":X,"--n-button-color-active":P,"--n-button-text-color":H,"--n-button-text-color-hover":B,"--n-button-text-color-active":ne,"--n-height":ue,"--n-opacity-disabled":re}}),_=f?ot("radio-group",I(()=>t.value[0]),x,i):void 0;return{selfElRef:e,rtlEnabled:R,mergedClsPrefix:l,mergedValue:p,handleFocusout:v,handleFocusin:y,cssVars:f?void 0:x,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){var i;const{mergedValue:e,mergedClsPrefix:t,handleFocusin:n,handleFocusout:r}=this,{children:o,isButtonGroup:a}=Fn(Et(Lt(this)),e,t);return(i=this.onRender)===null||i===void 0||i.call(this),$("div",{onFocusin:n,onFocusout:r,ref:"selfElRef",class:[`${t}-radio-group`,this.rtlEnabled&&`${t}-radio-group--rtl`,this.themeClass,a&&`${t}-radio-group--button-group`],style:this.cssVars},o)}}),we=G({name:"RadioButton",props:Gt,setup:Wt,render(){const{mergedClsPrefix:i}=this;return $("label",{class:[`${i}-radio-button`,this.mergedDisabled&&`${i}-radio-button--disabled`,this.renderSafeChecked&&`${i}-radio-button--checked`,this.focus&&[`${i}-radio-button--focus`]]},$("input",{ref:"inputRef",type:"radio",class:`${i}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),$("div",{class:`${i}-radio-button__state-border`}),pt(this.$slots.default,e=>!e&&!this.label?null:$("div",{ref:"labelRef",class:`${i}-radio__label`},e||this.label)))}}),Mn=E("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[be("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[be("no-title",`
 display: flex;
 align-items: center;
 `)]),O("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),C("title-position-left",[O("line",[C("left",{width:"28px"})])]),C("title-position-right",[O("line",[C("right",{width:"28px"})])]),C("dashed",[O("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),C("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),O("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),be("dashed",[O("line",{backgroundColor:"var(--n-color)"})]),C("dashed",[O("line",{borderColor:"var(--n-color)"})]),C("vertical",{backgroundColor:"var(--n-color)"})]),En=Object.assign(Object.assign({},ee.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Ie=G({name:"Divider",props:En,setup(i){const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=ye(i),n=ee("Divider","-divider",Mn,en,i,e),r=I(()=>{const{common:{cubicBezierEaseInOut:a},self:{color:s,textColor:l,fontWeight:f}}=n.value;return{"--n-bezier":a,"--n-color":s,"--n-text-color":l,"--n-font-weight":f}}),o=t?ot("divider",void 0,r,i):void 0;return{mergedClsPrefix:e,cssVars:t?void 0:r,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var i;const{$slots:e,titlePlacement:t,vertical:n,dashed:r,cssVars:o,mergedClsPrefix:a}=this;return(i=this.onRender)===null||i===void 0||i.call(this),$("div",{role:"separator",class:[`${a}-divider`,this.themeClass,{[`${a}-divider--vertical`]:n,[`${a}-divider--no-title`]:!e.default,[`${a}-divider--dashed`]:r,[`${a}-divider--title-position-${t}`]:e.default&&t}],style:o},n?null:$("div",{class:`${a}-divider__line ${a}-divider__line--left`}),!n&&e.default?$(qt,null,$("div",{class:`${a}-divider__title`},this.$slots),$("div",{class:`${a}-divider__line ${a}-divider__line--right`})):null)}}),Ln=Object.assign(Object.assign({},ee.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),xe=G({name:"Flex",props:Ln,setup(i){const{mergedClsPrefixRef:e,mergedRtlRef:t}=ye(i),n=ee("Flex","-flex",void 0,tn,i,e);return{rtlEnabled:it("Flex",t,e),mergedClsPrefix:e,margin:I(()=>{const{size:o}=i;if(Array.isArray(o))return{horizontal:o[0],vertical:o[1]};if(typeof o=="number")return{horizontal:o,vertical:o};const{self:{[K("gap",o)]:a}}=n.value,{row:s,col:l}=nn(a);return{horizontal:yt(l),vertical:yt(s)}})}},render(){const{vertical:i,reverse:e,align:t,inline:n,justify:r,margin:o,wrap:a,mergedClsPrefix:s,rtlEnabled:l}=this,f=Et(Lt(this),!1);return f.length?$("div",{role:"none",class:[`${s}-flex`,l&&`${s}-flex--rtl`],style:{display:n?"inline-flex":"flex",flexDirection:i&&!e?"column":i&&e?"column-reverse":!i&&e?"row-reverse":"row",justifyContent:r,flexWrap:!a||i?"nowrap":"wrap",alignItems:t,gap:`${o.vertical}px ${o.horizontal}px`}},f):null}}),qn=E("form",[C("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[E("form-item",{width:"auto",marginRight:"18px"},[q("&:last-child",{marginRight:0})])])]),He=vt("n-form"),Ut=vt("n-form-item-insts");var Vn=function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{f(n.next(c))}catch(d){a(d)}}function l(c){try{f(n.throw(c))}catch(d){a(d)}}function f(c){c.done?o(c.value):r(c.value).then(s,l)}f((n=n.apply(i,e||[])).next())})};const Tn=Object.assign(Object.assign({},ee.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:i=>{i.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),Be=G({name:"Form",props:Tn,setup(i){const{mergedClsPrefixRef:e}=ye(i);ee("Form","-form",qn,Vt,i,e);const t={},n=D(void 0),r=l=>{const f=n.value;(f===void 0||l>=f)&&(n.value=l)};function o(l){return Vn(this,arguments,void 0,function*(f,c=()=>!0){return yield new Promise((d,m)=>{const k=[];for(const p of wt(t)){const g=t[p];for(const y of g)y.path&&k.push(y.internalValidate(null,c))}Promise.all(k).then(p=>{const g=p.some(R=>!R.valid),y=[],v=[];p.forEach(R=>{var x,_;!((x=R.errors)===null||x===void 0)&&x.length&&y.push(R.errors),!((_=R.warnings)===null||_===void 0)&&_.length&&v.push(R.warnings)}),f&&f(y.length?y:void 0,{warnings:v.length?v:void 0}),g?m(y.length?y:void 0):d({warnings:v.length?v:void 0})})})})}function a(){for(const l of wt(t)){const f=t[l];for(const c of f)c.restoreValidation()}}return We(He,{props:i,maxChildLabelWidthRef:n,deriveMaxChildLabelWidth:r}),We(Ut,{formItems:t}),Object.assign({validate:o,restoreValidation:a},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:i}=this;return $("form",{class:[`${i}-form`,this.inline&&`${i}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function Re(){return Re=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Re.apply(this,arguments)}function jn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Ue(i,e)}function ct(i){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(i)}function Ue(i,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ue(i,e)}function Bn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nt(i,e,t){return Bn()?nt=Reflect.construct.bind():nt=function(r,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(r,s),f=new l;return a&&Ue(f,a.prototype),f},nt.apply(null,arguments)}function Dn(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function ft(i){var e=typeof Map=="function"?new Map:void 0;return ft=function(n){if(n===null||!Dn(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return nt(n,arguments,ct(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ue(r,n)},ft(i)}var Gn=/%[sdj%]/g,Nn=function(){};function ht(i){if(!i||!i.length)return null;var e={};return i.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function Z(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var r=0,o=t.length;if(typeof i=="function")return i.apply(null,t);if(typeof i=="string"){var a=i.replace(Gn,function(s){if(s==="%%")return"%";if(r>=o)return s;switch(s){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return s}});return a}return i}function Wn(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function T(i,e){return!!(i==null||e==="array"&&Array.isArray(i)&&!i.length||Wn(e)&&typeof i=="string"&&!i)}function Un(i,e,t){var n=[],r=0,o=i.length;function a(s){n.push.apply(n,s||[]),r++,r===o&&t(n)}i.forEach(function(s){e(s,a)})}function _t(i,e,t){var n=0,r=i.length;function o(a){if(a&&a.length){t(a);return}var s=n;n=n+1,s<r?e(i[s],o):t([])}o([])}function Hn(i){var e=[];return Object.keys(i).forEach(function(t){e.push.apply(e,i[t]||[])}),e}var Ct=function(i){jn(e,i);function e(t,n){var r;return r=i.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return e}(ft(Error));function Yn(i,e,t,n,r){if(e.first){var o=new Promise(function(m,k){var p=function(v){return n(v),v.length?k(new Ct(v,ht(v))):m(r)},g=Hn(i);_t(g,t,p)});return o.catch(function(m){return m}),o}var a=e.firstFields===!0?Object.keys(i):e.firstFields||[],s=Object.keys(i),l=s.length,f=0,c=[],d=new Promise(function(m,k){var p=function(y){if(c.push.apply(c,y),f++,f===l)return n(c),c.length?k(new Ct(c,ht(c))):m(r)};s.length||(n(c),m(r)),s.forEach(function(g){var y=i[g];a.indexOf(g)!==-1?_t(y,t,p):Un(y,t,p)})});return d.catch(function(m){return m}),d}function Xn(i){return!!(i&&i.message!==void 0)}function Kn(i,e){for(var t=i,n=0;n<e.length;n++){if(t==null)return t;t=t[e[n]]}return t}function St(i,e){return function(t){var n;return i.fullFields?n=Kn(e,i.fullFields):n=e[t.field||i.fullField],Xn(t)?(t.field=t.field||i.fullField,t.fieldValue=n,t):{message:typeof t=="function"?t():t,fieldValue:n,field:t.field||i.fullField}}}function $t(i,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];typeof n=="object"&&typeof i[t]=="object"?i[t]=Re({},i[t],n):i[t]=n}}return i}var Ht=function(e,t,n,r,o,a){e.required&&(!n.hasOwnProperty(e.field)||T(t,a||e.type))&&r.push(Z(o.messages.required,e.fullField))},Zn=function(e,t,n,r,o){(/^\s+$/.test(t)||t==="")&&r.push(Z(o.messages.whitespace,e.fullField))},et,Jn=function(){if(et)return et;var i="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+t+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+t+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+t+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+t+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+t+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+t+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+t+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+t+"$)|(?:^"+r+"$)"),a=new RegExp("^"+t+"$"),s=new RegExp("^"+r+"$"),l=function(_){return _&&_.exact?o:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+r+e(_)+")","g")};l.v4=function(x){return x&&x.exact?a:new RegExp(""+e(x)+t+e(x),"g")},l.v6=function(x){return x&&x.exact?s:new RegExp(""+e(x)+r+e(x),"g")};var f="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,m=l.v6().source,k="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',R="(?:"+f+"|www\\.)"+c+"(?:localhost|"+d+"|"+m+"|"+k+p+g+")"+y+v;return et=new RegExp("(?:^"+R+"$)","i"),et},zt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},De={integer:function(e){return De.number(e)&&parseInt(e,10)===e},float:function(e){return De.number(e)&&!De.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!De.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(zt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Jn())},hex:function(e){return typeof e=="string"&&!!e.match(zt.hex)}},Qn=function(e,t,n,r,o){if(e.required&&t===void 0){Ht(e,t,n,r,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?De[s](t)||r.push(Z(o.messages.types[s],e.fullField,e.type)):s&&typeof t!==e.type&&r.push(Z(o.messages.types[s],e.fullField,e.type))},er=function(e,t,n,r,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,d=null,m=typeof t=="number",k=typeof t=="string",p=Array.isArray(t);if(m?d="number":k?d="string":p&&(d="array"),!d)return!1;p&&(c=t.length),k&&(c=t.replace(f,"_").length),a?c!==e.len&&r.push(Z(o.messages[d].len,e.fullField,e.len)):s&&!l&&c<e.min?r.push(Z(o.messages[d].min,e.fullField,e.min)):l&&!s&&c>e.max?r.push(Z(o.messages[d].max,e.fullField,e.max)):s&&l&&(c<e.min||c>e.max)&&r.push(Z(o.messages[d].range,e.fullField,e.min,e.max))},Me="enum",tr=function(e,t,n,r,o){e[Me]=Array.isArray(e[Me])?e[Me]:[],e[Me].indexOf(t)===-1&&r.push(Z(o.messages[Me],e.fullField,e[Me].join(", ")))},nr=function(e,t,n,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Z(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(t)||r.push(Z(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},S={required:Ht,whitespace:Zn,type:Qn,range:er,enum:tr,pattern:nr},rr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t,"string")&&!e.required)return n();S.required(e,t,r,a,o,"string"),T(t,"string")||(S.type(e,t,r,a,o),S.range(e,t,r,a,o),S.pattern(e,t,r,a,o),e.whitespace===!0&&S.whitespace(e,t,r,a,o))}n(a)},ir=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&S.type(e,t,r,a,o)}n(a)},or=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&(S.type(e,t,r,a,o),S.range(e,t,r,a,o))}n(a)},ar=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&S.type(e,t,r,a,o)}n(a)},sr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),T(t)||S.type(e,t,r,a,o)}n(a)},lr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&(S.type(e,t,r,a,o),S.range(e,t,r,a,o))}n(a)},dr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&(S.type(e,t,r,a,o),S.range(e,t,r,a,o))}n(a)},ur=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return n();S.required(e,t,r,a,o,"array"),t!=null&&(S.type(e,t,r,a,o),S.range(e,t,r,a,o))}n(a)},cr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&S.type(e,t,r,a,o)}n(a)},fr="enum",hr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o),t!==void 0&&S[fr](e,t,r,a,o)}n(a)},mr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t,"string")&&!e.required)return n();S.required(e,t,r,a,o),T(t,"string")||S.pattern(e,t,r,a,o)}n(a)},gr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t,"date")&&!e.required)return n();if(S.required(e,t,r,a,o),!T(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),S.type(e,l,r,a,o),l&&S.range(e,l.getTime(),r,a,o)}}n(a)},vr=function(e,t,n,r,o){var a=[],s=Array.isArray(t)?"array":typeof t;S.required(e,t,r,a,o,s),n(a)},lt=function(e,t,n,r,o){var a=e.type,s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(T(t,a)&&!e.required)return n();S.required(e,t,r,s,o,a),T(t,a)||S.type(e,t,r,s,o)}n(s)},pr=function(e,t,n,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(T(t)&&!e.required)return n();S.required(e,t,r,a,o)}n(a)},Ne={string:rr,method:ir,number:or,boolean:ar,regexp:sr,integer:lr,float:dr,array:ur,object:cr,enum:hr,pattern:mr,date:gr,url:lt,hex:lt,email:lt,required:vr,any:pr};function mt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var gt=mt(),Ve=function(){function i(t){this.rules=null,this._messages=gt,this.define(t)}var e=i.prototype;return e.define=function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(o){var a=n[o];r.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(n){return n&&(this._messages=$t(mt(),n)),this._messages},e.validate=function(n,r,o){var a=this;r===void 0&&(r={}),o===void 0&&(o=function(){});var s=n,l=r,f=o;if(typeof l=="function"&&(f=l,l={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,s),Promise.resolve(s);function c(g){var y=[],v={};function R(_){if(Array.isArray(_)){var z;y=(z=y).concat.apply(z,_)}else y.push(_)}for(var x=0;x<g.length;x++)R(g[x]);y.length?(v=ht(y),f(y,v)):f(null,s)}if(l.messages){var d=this.messages();d===gt&&(d=mt()),$t(d,l.messages),l.messages=d}else l.messages=this.messages();var m={},k=l.keys||Object.keys(this.rules);k.forEach(function(g){var y=a.rules[g],v=s[g];y.forEach(function(R){var x=R;typeof x.transform=="function"&&(s===n&&(s=Re({},s)),v=s[g]=x.transform(v)),typeof x=="function"?x={validator:x}:x=Re({},x),x.validator=a.getValidationMethod(x),x.validator&&(x.field=g,x.fullField=x.fullField||g,x.type=a.getType(x),m[g]=m[g]||[],m[g].push({rule:x,value:v,source:s,field:g}))})});var p={};return Yn(m,l,function(g,y){var v=g.rule,R=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");R=R&&(v.required||!v.required&&g.value),v.field=g.field;function x(A,N){return Re({},N,{fullField:v.fullField+"."+A,fullFields:v.fullFields?[].concat(v.fullFields,[A]):[A]})}function _(A){A===void 0&&(A=[]);var N=Array.isArray(A)?A:[A];!l.suppressWarning&&N.length&&i.warning("async-validator:",N),N.length&&v.message!==void 0&&(N=[].concat(v.message));var U=N.map(St(v,s));if(l.first&&U.length)return p[v.field]=1,y(U);if(!R)y(U);else{if(v.required&&!g.value)return v.message!==void 0?U=[].concat(v.message).map(St(v,s)):l.error&&(U=[l.error(v,Z(l.messages.required,v.field))]),y(U);var te={};v.defaultField&&Object.keys(g.value).map(function(j){te[j]=v.defaultField}),te=Re({},te,g.rule.fields);var le={};Object.keys(te).forEach(function(j){var X=te[j],P=Array.isArray(X)?X:[X];le[j]=P.map(x.bind(null,j))});var de=new i(le);de.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),de.validate(g.value,g.rule.options||l,function(j){var X=[];U&&U.length&&X.push.apply(X,U),j&&j.length&&X.push.apply(X,j),y(X.length?X:null)})}}var z;if(v.asyncValidator)z=v.asyncValidator(v,g.value,_,g.source,l);else if(v.validator){try{z=v.validator(v,g.value,_,g.source,l)}catch(A){console.error==null||console.error(A),l.suppressValidatorError||setTimeout(function(){throw A},0),_(A.message)}z===!0?_():z===!1?_(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):z instanceof Array?_(z):z instanceof Error&&_(z.message)}z&&z.then&&z.then(function(){return _()},function(A){return _(A)})},function(g){c(g)},s)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Ne.hasOwnProperty(n.type))throw new Error(Z("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?Ne.required:Ne[this.getType(n)]||void 0},i}();Ve.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ne[e]=t};Ve.warning=Nn;Ve.messages=gt;Ve.validators=Ne;function br(i){const e=Te(He,null);return{mergedSize:I(()=>i.size!==void 0?i.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function yr(i){const e=Te(He,null),t=I(()=>{const{labelPlacement:p}=i;return p!==void 0?p:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),n=I(()=>t.value==="left"&&(i.labelWidth==="auto"||(e==null?void 0:e.props.labelWidth)==="auto")),r=I(()=>{if(t.value==="top")return;const{labelWidth:p}=i;if(p!==void 0&&p!=="auto")return at(p);if(n.value){const g=e==null?void 0:e.maxChildLabelWidthRef.value;return g!==void 0?at(g):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return at(e.props.labelWidth)}),o=I(()=>{const{labelAlign:p}=i;if(p)return p;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),a=I(()=>{var p;return[(p=i.labelProps)===null||p===void 0?void 0:p.style,i.labelStyle,{width:r.value}]}),s=I(()=>{const{showRequireMark:p}=i;return p!==void 0?p:e==null?void 0:e.props.showRequireMark}),l=I(()=>{const{requireMarkPlacement:p}=i;return p!==void 0?p:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),f=D(!1),c=D(!1),d=I(()=>{const{validationStatus:p}=i;if(p!==void 0)return p;if(f.value)return"error";if(c.value)return"warning"}),m=I(()=>{const{showFeedback:p}=i;return p!==void 0?p:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),k=I(()=>{const{showLabel:p}=i;return p!==void 0?p:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:f,validationWarned:c,mergedLabelStyle:a,mergedLabelPlacement:t,mergedLabelAlign:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:l,mergedValidationStatus:d,mergedShowFeedback:m,mergedShowLabel:k,isAutoLabelWidth:n}}function wr(i){const e=Te(He,null),t=I(()=>{const{rulePath:a}=i;if(a!==void 0)return a;const{path:s}=i;if(s!==void 0)return s}),n=I(()=>{const a=[],{rule:s}=i;if(s!==void 0&&(Array.isArray(s)?a.push(...s):a.push(s)),e){const{rules:l}=e.props,{value:f}=t;if(l!==void 0&&f!==void 0){const c=Tt(l,f);c!==void 0&&(Array.isArray(c)?a.push(...c):a.push(c))}}return a}),r=I(()=>n.value.some(a=>a.required)),o=I(()=>r.value||i.required);return{mergedRules:n,mergedRequired:o}}const{cubicBezierEaseInOut:At}=rn;function xr({name:i="fade-down",fromOffset:e="-4px",enterDuration:t=".3s",leaveDuration:n=".3s",enterCubicBezier:r=At,leaveCubicBezier:o=At}={}){return[q(`&.${i}-transition-enter-from, &.${i}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),q(`&.${i}-transition-enter-to, &.${i}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),q(`&.${i}-transition-leave-active`,{transition:`opacity ${n} ${o}, transform ${n} ${o}`}),q(`&.${i}-transition-enter-active`,{transition:`opacity ${t} ${r}, transform ${t} ${r}`})]}const kr=E("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[E("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[O("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),O("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),E("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),C("auto-label-width",[E("form-item-label","white-space: nowrap;")]),C("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: flex-start;
 `,[E("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[C("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),C("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),C("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),C("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),O("text",`
 grid-area: text; 
 `),O("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),C("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[C("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),E("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),E("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),E("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[q("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),E("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[C("warning",{color:"var(--n-feedback-text-color-warning)"}),C("error",{color:"var(--n-feedback-text-color-error)"}),xr({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var Ot=function(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{f(n.next(c))}catch(d){a(d)}}function l(c){try{f(n.throw(c))}catch(d){a(d)}}function f(c){c.done?o(c.value):r(c.value).then(s,l)}f((n=n.apply(i,e||[])).next())})};const Rr=Object.assign(Object.assign({},ee.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,feedbackClass:String,feedbackStyle:[String,Object],showLabel:{type:Boolean,default:void 0},labelProps:Object});function Pt(i,e){return(...t)=>{try{const n=i(...t);return!e&&(typeof n=="boolean"||n instanceof Error||Array.isArray(n))||n!=null&&n.then?n:(n===void 0||kt("form-item/validate",`You return a ${typeof n} typed value in the validator method, which is not recommended. Please use ${e?"`Promise`":"`boolean`, `Error` or `Promise`"} typed value instead.`),!0)}catch(n){kt("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(n);return}}}const Q=G({name:"FormItem",props:Rr,setup(i){Cn(Ut,"formItems",ke(i,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=ye(i),n=Te(He,null),r=br(i),o=yr(i),{validationErrored:a,validationWarned:s}=o,{mergedRequired:l,mergedRules:f}=wr(i),{mergedSize:c}=r,{mergedLabelPlacement:d,mergedLabelAlign:m,mergedRequireMarkPlacement:k}=o,p=D([]),g=D(xt()),y=n?ke(n.props,"disabled"):D(!1),v=ee("Form","-form-item",kr,Vt,i,e);rt(ke(i,"path"),()=>{i.ignorePathChange||R()});function R(){p.value=[],a.value=!1,s.value=!1,i.feedback&&(g.value=xt())}const x=(...P)=>Ot(this,[...P],void 0,function*(H=null,ne=()=>!0,B={suppressWarning:!0}){const{path:re}=i;B?B.first||(B.first=i.first):B={};const{value:ue}=f,me=n?Tt(n.props.model,re||""):void 0,_e={},Ce={},ge=(H?ue.filter(F=>Array.isArray(F.trigger)?F.trigger.includes(H):F.trigger===H):ue).filter(ne).map((F,Y)=>{const M=Object.assign({},F);if(M.validator&&(M.validator=Pt(M.validator,!1)),M.asyncValidator&&(M.asyncValidator=Pt(M.asyncValidator,!0)),M.renderMessage){const Je=`__renderMessage__${Y}`;Ce[Je]=M.message,M.message=Je,_e[Je]=M.renderMessage}return M}),ve=ge.filter(F=>F.level!=="warning"),Ye=ge.filter(F=>F.level==="warning"),J={valid:!0,errors:void 0,warnings:void 0};if(!ge.length)return J;const Se=re??"__n_no_path__",Xe=new Ve({[Se]:ve}),Ke=new Ve({[Se]:Ye}),{validateMessages:je}=(n==null?void 0:n.props)||{};je&&(Xe.messages(je),Ke.messages(je));const Ze=F=>{p.value=F.map(Y=>{const M=(Y==null?void 0:Y.message)||"";return{key:M,render:()=>M.startsWith("__renderMessage__")?_e[M]():M}}),F.forEach(Y=>{var M;!((M=Y.message)===null||M===void 0)&&M.startsWith("__renderMessage__")&&(Y.message=Ce[Y.message])})};if(ve.length){const F=yield new Promise(Y=>{Xe.validate({[Se]:me},B,Y)});F!=null&&F.length&&(J.valid=!1,J.errors=F,Ze(F))}if(Ye.length&&!J.errors){const F=yield new Promise(Y=>{Ke.validate({[Se]:me},B,Y)});F!=null&&F.length&&(Ze(F),J.warnings=F)}return!J.errors&&!J.warnings?R():(a.value=!!J.errors,s.value=!!J.warnings),J});function _(){x("blur")}function z(){x("change")}function A(){x("focus")}function N(){x("input")}function U(P,H){return Ot(this,void 0,void 0,function*(){let ne,B,re,ue;return typeof P=="string"?(ne=P,B=H):P!==null&&typeof P=="object"&&(ne=P.trigger,B=P.callback,re=P.shouldRuleBeApplied,ue=P.options),yield new Promise((me,_e)=>{x(ne,re,ue).then(({valid:Ce,errors:ge,warnings:ve})=>{Ce?(B&&B(void 0,{warnings:ve}),me({warnings:ve})):(B&&B(ge,{warnings:ve}),_e(ge))})})})}We(on,{path:ke(i,"path"),disabled:y,mergedSize:r.mergedSize,mergedValidationStatus:o.mergedValidationStatus,restoreValidation:R,handleContentBlur:_,handleContentChange:z,handleContentFocus:A,handleContentInput:N});const te={validate:U,restoreValidation:R,internalValidate:x},le=D(null);jt(()=>{if(!o.isAutoLabelWidth.value)return;const P=le.value;if(P!==null){const H=P.style.whiteSpace;P.style.whiteSpace="nowrap",P.style.width="",n==null||n.deriveMaxChildLabelWidth(Number(getComputedStyle(P).width.slice(0,-2))),P.style.whiteSpace=H}});const de=I(()=>{var P;const{value:H}=c,{value:ne}=d,B=ne==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:re},self:{labelTextColor:ue,asteriskColor:me,lineHeight:_e,feedbackTextColor:Ce,feedbackTextColorWarning:ge,feedbackTextColorError:ve,feedbackPadding:Ye,labelFontWeight:J,[K("labelHeight",H)]:Se,[K("blankHeight",H)]:Xe,[K("feedbackFontSize",H)]:Ke,[K("feedbackHeight",H)]:je,[K("labelPadding",B)]:Ze,[K("labelTextAlign",B)]:F,[K(K("labelFontSize",ne),H)]:Y}}=v.value;let M=(P=m.value)!==null&&P!==void 0?P:F;return ne==="top"&&(M=M==="right"?"flex-end":"flex-start"),{"--n-bezier":re,"--n-line-height":_e,"--n-blank-height":Xe,"--n-label-font-size":Y,"--n-label-text-align":M,"--n-label-height":Se,"--n-label-padding":Ze,"--n-label-font-weight":J,"--n-asterisk-color":me,"--n-label-text-color":ue,"--n-feedback-padding":Ye,"--n-feedback-font-size":Ke,"--n-feedback-height":je,"--n-feedback-text-color":Ce,"--n-feedback-text-color-warning":ge,"--n-feedback-text-color-error":ve}}),j=t?ot("form-item",I(()=>{var P;return`${c.value[0]}${d.value[0]}${((P=m.value)===null||P===void 0?void 0:P[0])||""}`}),de,i):void 0,X=I(()=>d.value==="left"&&k.value==="left"&&m.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:le,mergedClsPrefix:e,mergedRequired:l,feedbackId:g,renderExplains:p,reverseColSpace:X},o),r),te),{cssVars:t?void 0:de,themeClass:j==null?void 0:j.themeClass,onRender:j==null?void 0:j.onRender})},render(){const{$slots:i,mergedClsPrefix:e,mergedShowLabel:t,mergedShowRequireMark:n,mergedRequireMarkPlacement:r,onRender:o}=this,a=n!==void 0?n:this.mergedRequired;o==null||o();const s=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const f=$("span",{class:`${e}-form-item-label__text`},l),c=a?$("span",{class:`${e}-form-item-label__asterisk`},r!=="left"?" *":"* "):r==="right-hanging"&&$("span",{class:`${e}-form-item-label__asterisk-placeholder`}," *"),{labelProps:d}=this;return $("label",Object.assign({},d,{class:[d==null?void 0:d.class,`${e}-form-item-label`,`${e}-form-item-label--${r}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),r==="left"?[c,f]:[f,c])};return $("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!t&&`${e}-form-item--no-label`],style:this.cssVars},t&&s(),$("div",{class:[`${e}-form-item-blank`,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`]},i),this.mergedShowFeedback?$("div",{key:this.feedbackId,style:this.feedbackStyle,class:[`${e}-form-item-feedback-wrapper`,this.feedbackClass]},$(an,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return pt(i.feedback,f=>{var c;const{feedback:d}=this,m=f||d?$("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},f||d):this.renderExplains.length?(c=this.renderExplains)===null||c===void 0?void 0:c.map(({key:k,render:p})=>$("div",{key:k,class:`${e}-form-item-feedback__line`},p())):null;return m?l==="warning"?$("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},m):l==="error"?$("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},m):l==="success"?$("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},m):$("div",{key:"controlled-default",class:`${e}-form-item-feedback`},m):null})}})):null)}}),_r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Cr=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),Sr=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),$r=[Cr,Sr],zr=G({name:"ArrowBack",render:function(e,t){return oe(),he("svg",_r,$r)}}),Ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Or=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 268l144 144l144-144"},null,-1),Pr=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 392V100"},null,-1),Fr=[Or,Pr],Ir=G({name:"ArrowDown",render:function(e,t){return oe(),he("svg",Ar,Fr)}}),Mr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Er=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M268 112l144 144l-144 144"},null,-1),Lr=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M392 256H100"},null,-1),qr=[Er,Lr],Vr=G({name:"ArrowForward",render:function(e,t){return oe(),he("svg",Mr,qr)}}),Tr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jr=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),Br=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),Dr=[jr,Br],Gr=G({name:"ArrowUp",render:function(e,t){return oe(),he("svg",Tr,Dr)}}),Nr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wr=V("rect",{x:"48",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ur=V("rect",{x:"288",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Hr=V("rect",{x:"48",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Yr=V("rect",{x:"288",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Xr=[Wr,Ur,Hr,Yr],Kr=G({name:"GridOutline",render:function(e,t){return oe(),he("svg",Nr,Xr)}}),Zr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jr=V("path",{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z",fill:"currentColor"},null,-1),Qr=V("path",{d:"M490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z",fill:"currentColor"},null,-1),ei=[Jr,Qr],ti=G({name:"Home",render:function(e,t){return oe(),he("svg",Zr,ei)}}),ni={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ri=V("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ii=V("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),oi=[ri,ii],ai=G({name:"LockClosedOutline",render:function(e,t){return oe(),he("svg",ni,oi)}}),si={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},li=V("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),di=[li],ui=G({name:"Remove",render:function(e,t){return oe(),he("svg",si,di)}});function ci(i){return sn()?(ln(i),!0):!1}const fi=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const hi=fi?window:void 0;function mi(i,e={}){const{immediate:t=!0,fpsLimit:n=void 0,window:r=hi}=e,o=D(!1),a=n?1e3/n:null;let s=0,l=null;function f(m){if(!o.value||!r)return;s||(s=m);const k=m-s;if(a&&k<a){l=r.requestAnimationFrame(f);return}s=m,i({delta:k,timestamp:m}),l=r.requestAnimationFrame(f)}function c(){!o.value&&r&&(o.value=!0,s=0,l=r.requestAnimationFrame(f))}function d(){o.value=!1,l!=null&&r&&(r.cancelAnimationFrame(l),l=null)}return t&&c(),ci(d),{isActive:dn(o),pause:d,resume:c}}function gi(i){var e;const t=D(0);if(typeof performance>"u")return t;const n=(e=void 0)!=null?e:10;let r=performance.now(),o=0;return mi(()=>{if(o+=1,o>=n){const a=performance.now(),s=a-r;t.value=Math.round(1e3/(s/o)),r=a,o=0}}),t}class vi{constructor(e){b(this,"canvas");b(this,"show",{all:!0,grid:{main:!0,secondary:!0},axis:!0,axisText:!0});this.canvas=e}drawAxisAndGrid(){!this.canvas||!this.show.all||((this.show.grid.main||this.show.grid.secondary)&&this.drawGrid(),this.show.axis&&this.drawAxis(),this.show.axisText&&this.drawAxisText())}color(){const{theme:e,style:t}=this.canvas;return(t[e]||t.light).grid}drawGrid(){const e=this.canvas,{ctx:t,rect:n,center:r,axisConfig:o}=e,{width:a,height:s}=n,l=this.color(),f=o.size,c=f/5;t.lineWidth=1;const d=(k,p)=>{const g=r.x%k>0?r.x%k:k+r.x%k;t.strokeStyle=p,t.beginPath();for(let y=0;y*k+g<=a;y++)t.moveTo(y*k+g,0),t.lineTo(y*k+g,s);t.stroke()},m=(k,p)=>{const g=r.y%k>0?r.y%k:k+r.y%k;t.strokeStyle=p,t.beginPath();for(let y=0;y*k+g<=s;y++)t.moveTo(0,y*k+g),t.lineTo(a,y*k+g);t.stroke()};this.show.grid.secondary&&(d(c,l.innerGrid),m(c,l.innerGrid)),this.show.grid.main&&(d(f,l.grid),m(f,l.grid))}drawAxis(){const e=this.canvas,{ctx:t,rect:n,center:r}=e,{width:o,height:a}=n,s=this.color();t.lineWidth=2,t.strokeStyle=s.axis;const l=()=>{r.y>=0&&r.y<=a&&(t.beginPath(),t.moveTo(0,r.y),t.lineTo(o,r.y),t.stroke())},f=()=>{r.x>=0&&r.x<=o&&(t.beginPath(),t.moveTo(r.x,0),t.lineTo(r.x,a),t.stroke())};l(),f()}drawAxisText(){const e=this.canvas,{ctx:t,rect:n,center:r,axisConfig:o,style:a,theme:s}=e,{width:l,height:f}=n,c=g=>Math.ceil(t.measureText(g).width),d=4,m=a[s].text.size;{const g=c("0"),y=r.x<d||r.x>l+g+d,v=r.y<-(d+m)||r.y>f+m+d;!y&&!v&&e.drawText("0",r.x-g-d,r.y+m+d)}const k=e.getGridCount(),p=o.size;{let g=r.y+m+d;g=Math.max(Math.min(g,f-d),d+m);const y=r.y>f||r.y<0;let v=r.x>0?r.x%p:r.x<0?p+r.x%p:0,R=e.getAxisValueByPoint((v-r.x)*o.x,0).xV;for(;v<=l;){const x=c(String(R));R!==0&&e.drawText(String(R),v-x/2,g,y),v+=p,R+=k*o.x}}{const g=r.x>l||r.x<0;let y=r.y>0?r.y%p:r.y<0?p+r.y%p:0,v=e.getAxisValueByPoint(0,(y-r.y)*o.y).yV;for(;y<=f;){const R=c(String(v));let x=r.x-R-d;x=Math.max(Math.min(x,l-R-d),d),v!==0&&e.drawText(String(v),x,y+m/2,g),y+=p,v+=k*o.y}}}}class qe{constructor(e){b(this,"show");b(this,"style");b(this,"zIndex");b(this,"position");b(this,"dynamicPosition");b(this,"value");b(this,"reload");this.show=e.show??!0,this.style=e.style,this.zIndex=e.zIndex??0,this.position=e.position,this.dynamicPosition=e.dynamicPosition,this.value=e.value}setShow(e){var t;this.show=e,(t=this.reload)==null||t.call(this)}setStyle(e){var t;this.style=e,(t=this.reload)==null||t.call(this)}setZIndex(e){var t;this.zIndex=e,(t=this.reload)==null||t.call(this)}setPosition(e){var t;this.position=e,(t=this.reload)==null||t.call(this)}setValue(e){var t;this.value=e,(t=this.reload)==null||t.call(this)}}class dt{constructor(e){b(this,"show");b(this,"style");b(this,"zIndex");b(this,"position");b(this,"dynamicPosition");b(this,"value");b(this,"reload");this.show=e.show??!0,this.style=e.style,this.zIndex=e.zIndex??0,this.position=e.position,this.value=e.value}setShow(e){var t;this.show=e,(t=this.reload)==null||t.call(this)}setStyle(e){var t;this.style=e,(t=this.reload)==null||t.call(this)}setZIndex(e){var t;this.zIndex=e,(t=this.reload)==null||t.call(this)}setPosition(e){var t;this.position=e,(t=this.reload)==null||t.call(this)}setValue(e){var t;this.value=e,(t=this.reload)==null||t.call(this)}}class ut{constructor(e){b(this,"show");b(this,"style");b(this,"zIndex");b(this,"position");b(this,"dynamicPosition");b(this,"value");b(this,"size");b(this,"dynamicSize");b(this,"reload");this.show=e.show??!0,this.style=e.style,this.zIndex=e.zIndex??0,this.position=e.position,this.value=e.value,this.size=e.size}setShow(e){var t;this.show=e,(t=this.reload)==null||t.call(this)}setStyle(e){var t;this.style=e,(t=this.reload)==null||t.call(this)}setZIndex(e){var t;this.zIndex=e,(t=this.reload)==null||t.call(this)}setPosition(e){var t;this.position=e,(t=this.reload)==null||t.call(this)}setValue(e){var t;this.value=e,(t=this.reload)==null||t.call(this)}setSize(e){var t;this.size=e,(t=this.reload)==null||t.call(this)}}class Ee{constructor(e){b(this,"name");b(this,"show",!0);b(this,"overlayPoint",new Set);b(this,"overlayOther",new Set);this.name=e}reload(){}setShow(e){this.show=e,this.reload()}addOverlays(e){[e].flat().forEach(t=>{t instanceof qe?this.overlayPoint.add(t):this.overlayOther.add(t)})}hasOverlay(e){return e instanceof qe?this.overlayPoint.has(e):this.overlayOther.has(e)}removeOverlays(e){[e].flat().forEach(t=>{t instanceof qe?this.overlayPoint.delete(t):this.overlayOther.delete(t)})}clearOverlays(){this.overlayPoint.clear(),this.overlayOther.clear()}}class pi{constructor(e,t={}){b(this,"name");b(this,"scales");b(this,"opacity",1);b(this,"show",!0);b(this,"zIndex",4);b(this,"mainCanvas");b(this,"canvas",document.createElement("canvas"));b(this,"ctx",this.canvas.getContext("2d"));this.name=e,t.scales&&(this.scales=t.scales),t.opacity&&(this.opacity=t.opacity),t.show!==void 0&&(this.show=t.show),t.zIndex&&(this.zIndex=t.zIndex)}setMainCanvas(e){if(e instanceof fe){this.mainCanvas=e;const{width:t,height:n}=e.rect;[this.canvas.width,this.canvas.height]=[t,n]}}equalsMainCanvas(e){return this.mainCanvas===e}notifyReload(){var e;(e=this.mainCanvas)==null||e.redrawOnce()}setzIndex(e){e!=this.zIndex&&(this.zIndex=e,this.notifyReload())}setOpacity(e){this.opacity!=e&&(e>=0&&e<=1?(this.opacity=e,this.notifyReload()):console.warn("Opacity value should be between 0 and 1."))}setScales(e){JSON.stringify(this.scales)!=JSON.stringify(e)&&(this.scales=e,this.notifyReload())}}class Le extends pi{constructor(t,n={}){super(t,n);b(this,"groups",new Map)}setMainCanvas(t){super.setMainCanvas(t),this.notifyReload()}shouldRender(){if(!(!this.show||this.opacity==0||!this.mainCanvas)){if(this.scales){const t=this.mainCanvas.scale,n=Math.max(...this.scales),r=Math.min(...this.scales);if(!(t>=r&&t<=n))return}return!0}}reload(){if(this.shouldRender())return[this.zIndex,this.canvas]}getGroup(t){return this.groups.get(t)}addGroup(t){let n=!1;[t].flat().forEach(r=>{r instanceof Ee&&(this.groups.set(r.name,r),n=!0)}),n&&this.notifyReload()}removeGroup(t){let n=!1;[t].flat().forEach(r=>{r instanceof Ee&&(this.groups.delete(r.name),n=!0)}),n&&this.notifyReload()}clearGroup(){this.groups.size&&(this.groups.clear(),this.notifyReload())}}class tt{constructor(e){b(this,"name");b(this,"show",!0);b(this,"layers",new Map);b(this,"mainCanvas");b(this,"destroy");this.name=e}setMainCanvas(e){e instanceof fe&&(this.mainCanvas=e,this.layers.forEach(t=>t.setMainCanvas(e)),this.notifyReload())}notifyReload(){var e;(e=this.mainCanvas)==null||e.redrawOnce()}reload(){!this.show||!this.mainCanvas||Array.from(this.layers.values()).map(e=>{if(e.equalsMainCanvas(this.mainCanvas))return e.reload();this.removeLayer(e)}).filter(Boolean)}getLayer(e){return this.layers.get(e)}addLayer(e){let t=!1;[e].flat().forEach(n=>{n instanceof Le&&(this.mainCanvas&&n.setMainCanvas(this.mainCanvas),this.layers.set(n.name,n),t=!0)}),t&&this.notifyReload()}removeLayer(e){let t=!1;[e].flat().forEach(n=>{n instanceof Le&&(this.layers.delete(n.name),t=!0)}),t&&this.notifyReload()}clearLayers(){this.layers.size&&(this.layers.clear(),this.notifyReload())}}class bi{constructor(e){b(this,"canvas");b(this,"ctx");b(this,"rect");b(this,"offset",{x:0,y:0});b(this,"center",{x:0,y:0});b(this,"defaultCenter",{top:void 0,bottom:void 0,left:void 0,right:void 0});b(this,"lockDragAndResize",!1);b(this,"scale",1);b(this,"percentage",1);b(this,"axisConfig",{count:2,min:100,max:200,size:100,x:1,y:1});b(this,"cycle",10);b(this,"delta",.02);b(this,"redrawInNextRenderFrame",!1);b(this,"isAuto",!1);b(this,"drawAxis");b(this,"layerGroups",new Map);const t=document.getElementById(e);if(t instanceof HTMLCanvasElement)if(t.getContext){this.canvas=t,this.ctx=t.getContext("2d"),this.rect=t.getBoundingClientRect();const{clientWidth:n,clientHeight:r}=t;[t.width,t.height]=[n,r]}else throw new Error("canvas-unsupported code here");else throw new Error("canvas is not HTMLCanvasElement")}updateCenter(){const{canvas:e,rect:t,offset:n,defaultCenter:r}=this;if(!e)return console.error("canvas is not HTMLCanvasElement");const{width:o,height:a}=t,{top:s,bottom:l,left:f,right:c}=r,d={vertical:(g,y)=>{var R;if(g==1/0||g==-1/0)return;if(typeof g=="number")return g;if(["top","left"].includes(g))return 0;if(["bottom","right"].includes(g))return y;if(["middle","center"].includes(g))return y/2;const v=(R=g.match(/^(\d+)%*$/))==null?void 0:R[1];return(v?y*Number(v)/100:Number(g))||void 0},reverse:(g,y)=>{if(g==1/0||g==-1/0)return;if(typeof g=="number")return y-g;const v=d.vertical(g,y);return v?y-v:void 0}},m=(g,y,v)=>{if(g!==void 0){const R=d.vertical(g,v);if(R!==void 0)return R}if(y!==void 0){const R=d.reverse(y,v);if(R!==void 0)return R}return v/2},k=m(s,l,a),p=m(f,c,o);this.center={x:Math.floor(p+n.x),y:Math.floor(k+n.y)}}updateSize(){const{scale:e,cycle:t,delta:n,axisConfig:r}=this;let o=Math.abs(e-1)%(t*n)/n;o=Math.round(e<1?t-o:o),r.size=o/t*(r.max-r.min)+r.min,this.percentage=this.getAxisPointByValue(r.count,0).x/r.min}setScale(e,t){const{canvas:n,rect:r,lockDragAndResize:o,axisConfig:a}=this;if(o)return;if(!n||!r)return console.error("canvas is not HTMLCanvasElement");let s,l;e==="center"?(s=r.left+r.width/2,l=r.top+r.height/2):[s,l]=[e.clientX,e.clientY];const f=this.getMousePositionOnAxis({clientX:s,clientY:l}),c=this.getAxisValueByPoint(f.x,f.y);this.scale+=t,this.updateSize();const d=this.getAxisPointByValue(c.xV,c.yV);this.offset.x-=(d.x-f.x)*a.x,this.offset.y-=(d.y-f.y)*a.y}setAxis(e){const t={...this.axisConfig,...e},n=Object.fromEntries(Object.entries(t).map(([g,y])=>[g,Number(y)])),{x:r,y:o,count:a,min:s,max:l,size:f}=n,c=[1,-1].includes(r),d=[1,-1].includes(o),m=a>0,k=s>0&&s<l,p=f>=s&&f<=l;if(!c||!d||!m||!k||!p){console.warn("Invalid axis configuration:",{x:r,y:o,count:a,min:s,max:l,size:f});return}this.axisConfig=n}setDefaultCenter(e){Object.assign(this.defaultCenter,e)}getGridCount(){const{axisConfig:e,scale:t,cycle:n,delta:r}=this;let o=e.count;return t>1?o/=Math.pow(2,Math.floor((t-1)/(n*r))):t<1&&(o*=Math.pow(2,Math.ceil(Math.abs(t-1)/(n*r)))),o}getMousePositionOnAxis(e){const{canvas:t,center:n,rect:r,axisConfig:o}=this;if(!t)return console.error("canvas is not HTMLCanvasElement");const{clientX:a,clientY:s}=e,{left:l,top:f}=r,c=(a-l-n.x)*o.x,d=(s-f-n.y)*o.y;return{x:c,y:d}}getAxisValueByPoint(e,t){const{axisConfig:n}=this,r=this.getGridCount(),o=e/n.size*r,a=t/n.size*r;return{xV:o,yV:a}}getAxisPointByValue(e,t){const{axisConfig:n}=this,r=this.getGridCount(),o=e/r*n.size,a=t/r*n.size;return{x:o,y:a}}getMaxMinValue(e){e=e||this.rect;const{left:t,top:n,right:r,bottom:o}=e,{axisConfig:a}=this,{x:s,y:l}=this.getMousePositionOnAxis({clientX:a.x==1?t:r,clientY:a.y==1?n:o}),{xV:f,yV:c}=this.getAxisValueByPoint(s,l),{x:d,y:m}=this.getMousePositionOnAxis({clientX:a.x==1?r:t,clientY:a.y==1?o:n}),{xV:k,yV:p}=this.getAxisValueByPoint(d,m);return{minXV:f,maxXV:k,minYV:c,maxYV:p}}transformPosition(e){const{center:t,percentage:n,axisConfig:r}=this,o=[];for(let a=0;a<e.length;a++){let[s,l]=e[a];s=t.x+s*n*r.x,l=t.y+l*n*r.y,o.push([s,l])}return o}}class yi extends bi{constructor(t){super(t);b(this,"theme","light");b(this,"style",{light:{background:"#fff",text:{color:"#222",secondary:"#909399",size:12,family:"微软雅黑",bold:!0},grid:{axis:"#222",grid:"#666",innerGrid:"#e5e5e5"},point:{radius:4,fill:"#d03050",width:12,stroke:"#d0305080"},line:{color:"#f0a020",width:4,dash:!1,dashGap:[5,10],dashOffset:0,cap:"round",join:"round",point:{radius:4,stroke:"#f0a02080",width:12,fill:"#f0a020"}},polygon:{fill:"#18a05830",stroke:"#18a058",width:1,dash:!1,dashGap:[5,10],dashOffset:0}},dark:{background:"#000",text:{color:"#aeaeae",secondary:"#8c8c8c",size:12,family:"微软雅黑",bold:!0},grid:{axis:"#aeaeae",grid:"#666",innerGrid:"#454545"},point:{radius:4,fill:"#e88080",width:12,stroke:"#e8808070"},line:{color:"#f2c97d",width:4,dash:!1,dashGap:[5,10],dashOffset:0,cap:"round",join:"round",point:{radius:4,stroke:"#f2c97d80",width:12,fill:"#f2c97d"}},polygon:{fill:"#63e2b730",stroke:"#63e2b7",width:1,dash:!1,dashGap:[5,10],dashOffset:0}}});this.initStyle(),this.clearScreen()}initStyle(){const{canvas:t,ctx:n,theme:r}=this;t.classList.add("_nhanh_canvas");const o=this.style[r];n.font=`${o.text.bold?"bold":""} ${o.text.size}px ${o.text.family}`}clearScreen(){const{ctx:t,theme:n,rect:r}=this,{width:o,height:a}=r;t.fillStyle=this.style[n].background,t.fillRect(0,0,o,a)}setStyle(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=un(this.style[n]||this.style[this.theme]);cn(r,t[n]),this.style[n]=r}this.initStyle()}setTheme(t){t in this.style&&(this.theme=t)}}class wi extends yi{constructor(t){super(t);b(this,"resizeObserver");b(this,"startCreationOnGrid");b(this,"startCreationBelowGrid");b(this,"rely","");b(this,"isRecalculate",!1);b(this,"measureRedrawPerformance",Ri(()=>this.redraw(),[[1,"#F56C6C"],[.5,"#E6A23C"],[0,"#67C23A"]]));this.canvas&&(this.resizeObserver=new ResizeObserver(fn(()=>{this.rect=this.canvas.getBoundingClientRect();const{clientWidth:n,clientHeight:r}=this.canvas;[this.canvas.width,this.canvas.height]=[n,r],this.redrawOnce()},200)),this.resizeObserver.observe(this.canvas)),this.updateRely(),this.isRecalculate=!1}updateRely(){const{center:t,scale:n,rect:r,axisConfig:o}=this,a=[t.x,t.y,n,JSON.stringify(o),r==null?void 0:r.width,r==null?void 0:r.height].join();this.isRecalculate=this.rely!==a,this.rely=a}addFunctionsToZIndexs(t){const n={};return t.forEach(([r,o])=>{n[r]=[...n[r]||[],o]}),n}redraw(){var t,n,r;if(!this.canvas)return console.error("canvas is not HTMLCanvasElement");this.updateCenter(),this.updateRely(),this.clearScreen(),(t=this.startCreationBelowGrid)==null||t.call(this),(n=this.drawAxis)==null||n.drawAxisAndGrid(),typeof this.startCreationOnGrid=="function"&&((r=this.startCreationOnGrid)==null||r.call(this)),this.isRecalculate=!1}redrawOnce(t){this.isAuto&&!t&&(this.isAuto=!1),this.redrawInNextRenderFrame||(this.redrawInNextRenderFrame=!0,requestAnimationFrame(()=>{this.redrawInNextRenderFrame=!1,this.measureRedrawPerformance()}))}drawText(t,n,r,o){const{ctx:a,theme:s}=this,l=this.style[s],{background:f}=l;a.font=`${l.text.bold?"bold":""} ${l.text.size}px ${l.text.family}`,a.strokeStyle=f,a.strokeText(t,n,r),a.fillStyle=l.text[o?"secondary":"color"],a.fillText(t,n,r)}destroy(){var t;(t=this.resizeObserver)==null||t.disconnect()}}let xi=class extends wi{constructor(t){super(t);b(this,"mouseInCanvas",!1);b(this,"mouseIsDown",!1);b(this,"mouseLastPosition",{x:0,y:0});b(this,"unBind");b(this,"lastPressedKey",{key:"",keyupTime:0,dblclick:!1});this.initEvent()}initEvent(){const{canvas:t}=this;if(!t)return console.error("canvas is not HTMLCanvasElement");const n=[{type:"click",handler:this.click.bind(this)},{type:"contextmenu",handler:this.contextmenu.bind(this)},{type:"mouseenter",handler:this.mouseenter.bind(this)},{type:"mouseleave",handler:this.mouseleave.bind(this)},{type:"keydown",handler:this.keydown.bind(this),target:window},{type:"keyup",handler:this.keyup.bind(this),target:window},{type:"wheel",handler:this.wheel.bind(this)},{type:"mousedown",handler:this.mousedown.bind(this)},{type:"mouseup",handler:this.mouseup.bind(this),target:window},{type:"mousemove",handler:this.mousemove.bind(this),target:window}];n.forEach(({type:r,handler:o,target:a=t})=>{a.addEventListener(r,o)}),this.unBind=()=>{n.forEach(({type:r,handler:o,target:a=t})=>{a.removeEventListener(r,o)})}}click(t){console.log("mouseclick")}contextmenu(t){t.preventDefault(),console.log("mousecontextmenu")}mouseenter(t){this.mouseInCanvas=!0}mouseleave(t){this.mouseInCanvas=!1}getStep(t){const{lastPressedKey:n}=this;return n.dblclick?4:n.key===t&&Date.now()-n.keyupTime<300?(n.dblclick=!0,4):1}keydown(t){const{mouseInCanvas:n,offset:r,delta:o,lockDragAndResize:a}=this;if(n&&!a){const s=t.key,l=this.getStep(s);switch(s){case"ArrowUp":r.y-=l;break;case"ArrowDown":r.y+=l;break;case"ArrowLeft":r.x-=l;break;case"ArrowRight":r.x+=l;break;case"+":this.setScale("center",o);break;case"-":this.setScale("center",-o);break}["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","+","-"].includes(s)&&this.redrawOnce()}}keyup(t){const{mouseInCanvas:n,lastPressedKey:r}=this;if(n){const o=t.key;r.key=o,r.keyupTime=Date.now(),r.dblclick=!1}}wheel(t){const{delta:n,lockDragAndResize:r}=this;r||(this.setScale(t,t.deltaY<0?n:-n),this.redrawOnce())}mousedown(t){this.mouseIsDown=!0;const{clientX:n,clientY:r}=t;this.mouseLastPosition={x:n,y:r}}mouseup(t){this.mouseIsDown=!1}mousemove(t){const{mouseIsDown:n,offset:r,mouseLastPosition:o,lockDragAndResize:a}=this;if(n&&!a){const{clientX:s,clientY:l}=t;r.x+=s-o.x,r.y+=l-o.y,this.redrawOnce(),this.mouseLastPosition={x:s,y:l}}}destroy(){var t;super.destroy(),(t=this.unBind)==null||t.call(this)}};class ki extends xi{getDefaultOverlayGroup(){var o,a,s;const e=this.layerGroups.get("默认图层群组");if(!e)return;const t=(o=e.getLayer("点位图层"))==null?void 0:o.getGroup("点位覆盖物群组"),n=(a=e.getLayer("线段图层"))==null?void 0:a.getGroup("线段覆盖物群组"),r=(s=e.getLayer("多边形图层"))==null?void 0:s.getGroup("多边形覆盖物群组");return{overlays_point:t,overlays_line:n,overlays_polygon:r}}reset(){if(this.lockDragAndResize)return;this.isAuto=!0;const e=300,t={offset:{...this.offset},scale:this.scale-1};hn(n=>{!this.isAuto||!this.canvas||this.lockDragAndResize||(n===1?(this.offset={x:0,y:0},this.scale=1,this.updateSize(),this.isAuto=!1):n>0&&(n=1-n,this.offset={x:t.offset.x*n,y:t.offset.y*n},this.scale=1+t.scale*n,this.updateSize()),this.redrawOnce(!0))},e)}zoom(e){const{canvas:t,rect:n}=this;if(!t||!n)return console.error("canvas is not HTMLCanvasElement");this.setScale("center",e),this.redrawOnce()}zoomIn(){this.zoom(this.delta)}zoomOut(){this.zoom(-this.delta)}setStyle(e){super.setStyle(e),this.redrawOnce()}setTheme(e){super.setTheme(e),this.redrawOnce()}setAxis(e){super.setAxis(e),this.redrawOnce()}setDefaultCenter(e){super.setDefaultCenter(e),this.redrawOnce()}toggleAxis(e){const t=(()=>{if(typeof e=="object"){const{all:n=!0,grid:r={main:!0,secondary:!0},axis:o=!0,axisText:a=!0}=e;return Object.assign({main:!0,secondary:!0},r),{all:n,grid:r,axis:o,axisText:a}}return typeof e=="boolean"?{all:!0,grid:{main:e,secondary:e},axis:e,axisText:e}:!this.drawAxis.show.all})();typeof t=="boolean"?this.drawAxis.show.all=t:this.drawAxis.show=t,this.redrawOnce()}togglePoint(e){const{overlays_point:t}=this.getDefaultOverlayGroup()||{};return t?(t.setShow(e??!t.show),this.redrawOnce(),t.show):!1}toggleLine(e){const{overlays_line:t}=this.getDefaultOverlayGroup()||{};return t?(t.setShow(e??!t.show),this.redrawOnce(),t.show):!1}togglePolygon(e){const{overlays_polygon:t}=this.getDefaultOverlayGroup()||{};return t?(t.setShow(e??!t.show),this.redrawOnce(),t.show):!1}toggleLock(e){return this.lockDragAndResize=e??!this.lockDragAndResize,this.lockDragAndResize}LngLatToPlane(e,t){const r=85.05112878,o=Math.max(Math.min(e,180),-180),a=Math.max(Math.min(t,r),-r),s=o*(Math.PI/180)*6378137,l=Math.log(Math.tan((90+a)*Math.PI/360))*6378137;return[s,l]}PlaneToLngLat(e,t){const r=e/6378137*(180/Math.PI),o=(2*Math.atan(Math.exp(t/6378137))-Math.PI/2)*(180/Math.PI);return[r,o]}IsValid(e){return Array.isArray(e)&&typeof e[0]=="number"&&typeof e[1]=="number"&&isFinite(e[0])&&isFinite(e[1])}IsValids(e){return Array.isArray(e)&&e.every(t=>this.IsValid(t))}}class fe extends ki{constructor(e,t){if(super(e),this.drawAxis=new vi(this),t){const{theme:n,axisConfig:r,axisShow:o,defaultCenter:a}=t;n&&this.setTheme(n),r&&this.setAxis(r),o&&this.toggleAxis(o),a&&this.setDefaultCenter(a)}this.initLayerGroups(),this.updateCenter()}initLayerGroups(){const e=new tt("默认图层群组"),t=new Le("点位图层",{zIndex:3}),n=new Le("线段图层",{zIndex:2}),r=new Le("多边形图层",{zIndex:1});this.setLayerGroups(e),e.addLayer([t,n,r]),t.addGroup(new Ee("点位覆盖物群组")),n.addGroup(new Ee("线段覆盖物群组")),r.addGroup(new Ee("多边形覆盖物群组")),e.setMainCanvas(this)}gteLayerGroups(e){return this.layerGroups.get(e)}setLayerGroups(e){e instanceof tt&&(this.layerGroups.set(e.name,e),e.destroy=()=>this.removeLayerGroups(e))}removeLayerGroups(e){e instanceof tt&&(this.layerGroups.delete(e.name),this.redrawOnce())}addLayer(e){const t=this.layerGroups.get("默认图层群组");t&&t.addLayer([e].flat())}removeLayer(e){const t=this.layerGroups.get("默认图层群组");t&&t.removeLayer([e].flat())}addOverlay(e){const{overlays_point:t,overlays_line:n,overlays_polygon:r}=this.getDefaultOverlayGroup()||{};[e].flat().forEach(o=>{o instanceof qe?t==null||t.addOverlays(o):o instanceof dt?n==null||n.addOverlays(o):o instanceof ut&&(r==null||r.addOverlays(o))})}removeOverlay(e){const{overlays_point:t,overlays_line:n,overlays_polygon:r}=this.getDefaultOverlayGroup()||{};[e].flat().forEach(o=>{o instanceof qe?t==null||t.removeOverlays(o):o instanceof dt?n==null||n.removeOverlays(o):o instanceof ut&&(r==null||r.removeOverlays(o))})}destroy(){super.destroy()}}b(fe,"LayerGroup",tt),b(fe,"Layer",Le),b(fe,"OverlayGroup",Ee),b(fe,"Point",qe),b(fe,"Line",dt),b(fe,"Polygon",ut);function Ri(i,e){if(typeof i!="function")throw new Error("The first argument must be a function.");if(!Array.isArray(e))throw new Error("The second argument must be an array.");let t=[],n=100,r=0;const o=(a,s)=>{for(const[l,f]of s)if(a>=l)return f;return"black"};return function(...a){const s=performance.now(),l=i(...a),f=performance.now()-s;t.push(f),t.length>n&&t.shift(),r=t.reduce((m,k)=>m+k,0)/t.length||0;const c=o(f,e),d=o(r,e);return console.log(`%c单次耗时：${f.toFixed(2)}ms
%c平均耗时（${t.length}次）：${r.toFixed(2)}ms`,`color: ${c}; padding: 2px 0;`,`color: ${d}; padding: 2px 0;`),l}}const _i={};function Ci(i,e){return null}const Si=Bt(_i,[["render",Ci]]),$i=["id"],zi={class:"button-box"},Ai=G({__name:"index",setup(i){const e=I(()=>{const c=st.value.theme;return{color:c==="dark"?"#666":"#ededed","text-color":c==="dark"?"#ededed":"#666",style:{"--n-color-hover":c==="dark"?"rgba(126, 126, 126, 1)":"#fff"}}}),t=gi(),n=mn("canvas-"),r=D(!1),o=D(!1);let a;const s=D({theme:"",defaultCenter:"bottom,left",axis:{x:1,y:-1,count:85,show:{all:!0,grid:{main:!0,secondary:!0},axis:!0,axisText:!0}},point:{show:!0},line:{show:!0},polygon:{show:!0}});function l(){const c=s.value;a.toggleAxis(c.axis.show),a.togglePoint(c.point.show),a.toggleLine(c.line.show),a.togglePolygon(c.polygon.show);const{x:d,y:m,count:k}=c.axis;a.setAxis({x:d,y:m,count:k});const[p,g]=c.defaultCenter.split(",");a.setDefaultCenter({top:p,left:g}),c.theme&&a.setTheme(c.theme)}rt(s,l,{deep:!0}),rt(()=>st.value.theme,c=>{s.value.theme||a==null||a.setTheme(c)});const f=new Image(200,300);return f.src="https://fastly.picsum.photos/id/440/200/300.jpg?hmac=3Nx5MHMCVguEcZQ1M3RnSrCpHNn9sabFI5y6aYzvceQ",f.onload=()=>{a==null||a.redrawOnce()},jt(()=>{a=new fe(n),a.setTheme(st.value.theme),l()}),gn(()=>{a==null||a.destroy()}),(c,d)=>(oe(),he(qt,null,[h(xn,{class:"graphing-equations"},{left:w(()=>[V("nav",null,[h(u(kn),{href:"https://www.desmos.com/calculator/mekfho0w38?lang=zh-CN",target:"_blank"},{default:w(()=>[W(" 希望达到的目标！ desmos ")]),_:1}),h(Si)])]),right:w(()=>[V("canvas",{id:u(n)},null,8,$i),V("div",zi,[h(u($e),{vertical:""},{default:w(()=>[h(u(zn),{vertical:""},{default:w(()=>[h(u(ze),Ae(e.value,{onClick:d[0]||(d[0]=m=>u(a).zoomIn())}),{icon:w(()=>[h(u(ae),{component:u(Rn)},null,8,["component"])]),_:1},16),h(u(ze),Ae(e.value,{onClick:d[1]||(d[1]=m=>u(a).zoomOut())}),{icon:w(()=>[h(u(ae),{component:u(ui)},null,8,["component"])]),_:1},16)]),_:1}),h(u(ze),Ae(e.value,{onClick:d[2]||(d[2]=m=>u(a).reset())}),{icon:w(()=>[h(u(ae),{component:u(ti)},null,8,["component"])]),_:1},16),h(u(ze),Ae(e.value,{onClick:d[3]||(d[3]=m=>s.value.axis.show.all=!s.value.axis.show.all)}),{icon:w(()=>[h(u(ae),{component:u(Kr)},null,8,["component"])]),_:1},16),h(u(ze),Ae(e.value,{onClick:d[4]||(d[4]=m=>o.value=u(a).toggleLock())}),{icon:w(()=>[o.value?(oe(),Rt(u(ae),{key:0,component:u(ai)},null,8,["component"])):(oe(),Rt(u(ie),{key:1,icon:"LockOpenOutline"}))]),_:1},16),h(u(ze),Ae(e.value,{onClick:d[5]||(d[5]=m=>r.value=!0)}),{icon:w(()=>[h(u(ae),{component:u(vn)},null,8,["component"])]),_:1},16)]),_:1}),h(u(se),{class:"fps",type:u(t)>60?"success":u(t)>30?"warning":"error"},{default:w(()=>[W(pn(u(t)),1)]),_:1},8,["type"])])]),_:1}),h(u(wn),{show:r.value,"onUpdate:show":d[18]||(d[18]=m=>r.value=m),width:u(yn).isMobileStyle?"80%":500,to:".graphing-equations"},{default:w(()=>[h(u(bn),{title:"更加全面的配置"},{default:w(()=>[h(u(_n),{addable:"",animated:"",placement:"left"},{default:w(()=>[h(u(Oe),{name:"公共"},{default:w(()=>[h(u(Be),{model:s.value,"label-width":"auto"},{default:w(()=>[h(u(Q),{label:"主题"},{default:w(()=>[h(u(Qe),{value:s.value.theme,"onUpdate:value":d[6]||(d[6]=m=>s.value.theme=m)},{default:w(()=>[h(u(we),{value:"light"},{default:w(()=>[W("浅色")]),_:1}),h(u(we),{value:"dark"},{default:w(()=>[W("深色")]),_:1}),h(u(we),{value:""},{default:w(()=>[W("跟随外部主题")]),_:1})]),_:1},8,["value"])]),_:1}),h(u(Q),{label:"默认中心"},{default:w(()=>[h(u(Qe),{value:s.value.defaultCenter,"onUpdate:value":d[7]||(d[7]=m=>s.value.defaultCenter=m)},{default:w(()=>[h(u($e),{vertical:""},{default:w(()=>[h(u($e),null,{default:w(()=>[h(u(ce),{value:"top,left"}),h(u(ce),{value:"top,center"}),h(u(ce),{value:"top,right"})]),_:1}),h(u($e),null,{default:w(()=>[h(u(ce),{value:"middle,left"}),h(u(ce),{value:"middle,center"}),h(u(ce),{value:"middle,right"})]),_:1}),h(u($e),null,{default:w(()=>[h(u(ce),{value:"bottom,left"}),h(u(ce),{value:"bottom,center"}),h(u(ce),{value:"bottom,right"})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),h(u(Oe),{name:"快捷键"},{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u($e),null,{default:w(()=>[h(u(ie),{icon:"ArrowUp",size:"30"}),h(u(ie),{icon:"ArrowDown",size:"30"}),h(u(ie),{icon:"ArrowLeft",size:"30"}),h(u(ie),{icon:"ArrowRight",size:"30"})]),_:1})]),_:1}),W(" 按下不放画布会以每次键盘事件"),h(u(se),{type:"info",strong:""},{default:w(()=>[W(" 1px ")]),_:1}),W(" 的速度移动画布，双击速度 "),h(u(se),{type:"error",strong:""},{default:w(()=>[W(" x4 ")]),_:1}),W("。 "),h(u(xe)),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"ArrowUp",size:"30"})]),_:1}),W(" 向上移动 ")]),_:1}),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"ArrowDown",size:"30"})]),_:1}),W(" 向下移动 ")]),_:1}),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"ArrowLeft",size:"30"})]),_:1}),W(" 向左移动 ")]),_:1}),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"ArrowRight",size:"30"})]),_:1}),W(" 向右移动 ")]),_:1}),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"Plus",size:"30"})]),_:1}),W(" 画布比例 + 0.02 ")]),_:1}),h(u(Ie)),h(u(xe),null,{default:w(()=>[h(u(se),{type:"success",strong:""},{default:w(()=>[h(u(ie),{icon:"Minus",size:"30"})]),_:1}),W(" 画布比例 - 0.02 ")]),_:1})]),_:1}),h(u(Oe),{name:"坐标轴"},{default:w(()=>[h(u(Be),{model:s.value,"label-width":"auto"},{default:w(()=>[h(u(Q),{label:"整体显示"},{default:w(()=>[h(u(pe),{value:s.value.axis.show.all,"onUpdate:value":d[8]||(d[8]=m=>s.value.axis.show.all=m)},null,8,["value"])]),_:1}),h(u(Q),{label:"x 轴向"},{default:w(()=>[h(u(Qe),{value:s.value.axis.x,"onUpdate:value":d[9]||(d[9]=m=>s.value.axis.x=m)},{default:w(()=>[h(u(we),{value:-1},{default:w(()=>[h(u(ae),{component:u(zr)},null,8,["component"])]),_:1}),h(u(we),{value:1},{default:w(()=>[h(u(ae),{component:u(Vr)},null,8,["component"])]),_:1})]),_:1},8,["value"])]),_:1}),h(u(Q),{label:"y 轴向"},{default:w(()=>[h(u(Qe),{value:s.value.axis.y,"onUpdate:value":d[10]||(d[10]=m=>s.value.axis.y=m)},{default:w(()=>[h(u(we),{value:1},{default:w(()=>[h(u(ae),{component:u(Ir)},null,8,["component"])]),_:1}),h(u(we),{value:-1},{default:w(()=>[h(u(ae),{component:u(Gr)},null,8,["component"])]),_:1})]),_:1},8,["value"])]),_:1}),h(u(Q),{label:"x 、y 轴显示"},{default:w(()=>[h(u(pe),{value:s.value.axis.show.axis,"onUpdate:value":d[11]||(d[11]=m=>s.value.axis.show.axis=m)},null,8,["value"])]),_:1}),h(u(Q),{label:"x 、y 轴文字显示"},{default:w(()=>[h(u(pe),{value:s.value.axis.show.axisText,"onUpdate:value":d[12]||(d[12]=m=>s.value.axis.show.axisText=m)},null,8,["value"])]),_:1}),h(u(Q),{label:"网格 - 主要的"},{default:w(()=>[h(u(pe),{value:s.value.axis.show.grid.main,"onUpdate:value":d[13]||(d[13]=m=>s.value.axis.show.grid.main=m)},null,8,["value"])]),_:1}),h(u(Q),{label:"网格 - 次要的"},{default:w(()=>[h(u(pe),{value:s.value.axis.show.grid.secondary,"onUpdate:value":d[14]||(d[14]=m=>s.value.axis.show.grid.secondary=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),h(u(Oe),{name:"点"},{default:w(()=>[h(u(Be),{model:s.value,"label-width":"auto"},{default:w(()=>[h(u(Q),{label:"整体显示"},{default:w(()=>[h(u(pe),{value:s.value.point.show,"onUpdate:value":d[15]||(d[15]=m=>s.value.point.show=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),h(u(Oe),{name:"线"},{default:w(()=>[h(u(Be),{model:s.value,"label-width":"auto"},{default:w(()=>[h(u(Q),{label:"整体显示"},{default:w(()=>[h(u(pe),{value:s.value.line.show,"onUpdate:value":d[16]||(d[16]=m=>s.value.line.show=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),h(u(Oe),{name:"面"},{default:w(()=>[h(u(Be),{model:s.value,"label-width":"auto"},{default:w(()=>[h(u(Q),{label:"整体显示"},{default:w(()=>[h(u(pe),{value:s.value.polygon.show,"onUpdate:value":d[17]||(d[17]=m=>s.value.polygon.show=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show","width"])],64))}}),qi=Bt(Ai,[["__scopeId","data-v-9ef3e8ea"]]);export{qi as default};
