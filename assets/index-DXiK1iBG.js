import{aO as A,dn as l,I as M,aS as S,du as m,d as P,cs as I,ay as k,aN as R,aR as N,o as O,w as C,b as y,aL as E,u as v,bN as T}from"./index-Qjn_ELpF.js";import{A as q,M as b}from"./tool-CyOBAk_a.js";import{O as D}from"./Oscillator-CInJH1jc.js";import{C as L}from"./Card-fYubtq48.js";import{E as U}from"./Equation-39y5_5ef.js";import"./Alert-BckC4mSP.js";const g=A(),o=M(45),d=5,f=new l.Polygon({value:[[0,0],[-d/2,0],[d/2,0]],isInteractive:!1}),w=new l.Line({isInteractive:!1,style:{stroke:{color:"#18a058",width:2}}}),t=new q(f),_=(c,e=0,i=0)=>({text:c,offset:{x:e,y:i},style:{size:25},isInteractive:!1}),x=new l.Text(_("A",0,-25)),V=new l.Text({value:[-d/2,0],..._("B",-10,15)}),j=new l.Text({..._("C",10,15),value:[d/2,0]}),z=[x,V,j],h=document.createElement("canvas"),a=h.getContext("2d"),p=new l.Custom({value:[[0,0]],draw(c){const e=p.mainCanvas;h.width=e.rect.width,h.height=e.rect.height;const i=S.value.theme,u=e.style[i].line.stroke;a.strokeStyle=u.color,a.lineWidth=2;{const n=o.value*Math.PI/180,s=[(t.ap.x+t.bp.x)/2,(t.ap.y+t.bp.y)/2],r=m(t.ap.x,t.ap.y,t.bp.x,t.bp.y)/2;a.fillStyle="#8a2be280",a.beginPath(),a.arc(s[0],s[1],r,Math.PI-n,-n),a.fill(),a.stroke()}{const n=(90-o.value)*Math.PI/180,s=[(t.ap.x+t.cp.x)/2,(t.ap.y+t.cp.y)/2],r=m(t.ap.x,t.ap.y,t.cp.x,t.cp.y)/2;a.fillStyle="#ff69b480",a.beginPath(),a.arc(s[0],s[1],r,n+Math.PI,n),a.fill(),a.stroke()}{const n=p.finalDynamicPosition[0],s=m(t.bp.x,t.bp.y,t.cp.x,t.cp.y)/2,r=new Path2D;r.arc(n[0],n[1],s,Math.PI,0),l.clearPathRegion(a,r),a.beginPath(),a.stroke(r)}c.drawImage(h,0,0)}}),J=[f,w,z,p];function B(){var s;const c=o.value*Math.PI/180,e=Math.cos(c),i=e*d,u=i*e,n=i*Math.sin(c);x.value=[-d/2+u,-n],f.value[0]=x.value,f.value=[...f.value],w.value=o.value==0||o.value==90?void 0:b.transform(b.getRightAngleSymbol(t.a,t.b,t.c)),(s=p.notifyReload)==null||s.call(p)}const W=["id"],$=`\\begin{aligned}
S_{\\text{月牙}} &= S_{\\text{整}} - S_{\\text{半圆}BC} \\\\ 
&= S_{\\text{半圆}BA} + S_{\\text{半圆}CA} + S_{\\triangle BCA} - S_{\\text{半圆}BC} \\\\
&= \\frac{\\pi}{8}BA^2 + \\frac{\\pi}{8}CA^2 + S_{\\triangle BCA} - \\frac{\\pi}{8}BC^2 \\\\
&= \\frac{\\pi}{8}\\left(BA^2 + CA^2 - BC^2\\right) + S_{\\triangle BCA} \\\\
&= S_{\\triangle BCA}
\\end{aligned}`,Y=P({__name:"index",setup(c){let e=I();return k(()=>{e.value=new l({id:g,theme:S.value.theme,axisShow:!1,defaultCenter:{bottom:"30%"},defaultScale:R.value.isMobileStyle?.9:1.1}),e.value.addOverlay(J),B()}),(i,u)=>(O(),N(L,{canvas:v(e),alert:"希波克拉底月牙定理"},{"alert-content":C(()=>[y(v(U),{value:$})]),default:C(()=>[y(D,{canvas:v(e),value:v(o),"onUpdate:value":u[0]||(u[0]=n=>T(o)?o.value=n:null),onChange:v(B),marks:{0:"∠ABC 0°",90:"∠ABC 90°"},max:90},null,8,["canvas","value","onChange"]),E("canvas",{id:v(g)},null,8,W)]),_:1},8,["canvas"]))}});export{Y as default};
