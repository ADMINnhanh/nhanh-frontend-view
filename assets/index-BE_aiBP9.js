import{_ as c}from"./index-BF7UYhZj.js";import{aQ as M,J as B,aO as S,dj as m,d as P,c4 as k,aI as I,aP as R,o as O,aS as T,w as C,aM as y,b as j,u as d,bK as D}from"./index-Bas7IHTD.js";import{M as g,A as J}from"./tool-DusfHeX7.js";import{O as N}from"./Oscillator-CSWzDdPP.js";import{C as U}from"./Card-BPtF2GLp.js";const b=M(),l=B(45),u=5,f=new c.Polygon({value:[[0,0],[-u/2,0],[u/2,0]],isInteractive:!1}),A=new c.Line({isInteractive:!1,style:{stroke:{color:"#18a058",width:2}}}),t=new J(f),_=(i,a=0,o=0)=>({text:i,offset:{x:a,y:o},style:{size:25},isInteractive:!1}),x=new c.Text(_("A",0,-25)),V=new c.Text({value:[-u/2,0],..._("B",-10,15)}),z=new c.Text({..._("C",10,15),value:[u/2,0]}),E=[x,V,z],h=document.createElement("canvas"),e=h.getContext("2d"),v=new c.Custom({value:[[0,0]],draw(i){const a=v.mainCanvas;h.width=a.rect.width,h.height=a.rect.height;const o=S.value.theme,p=a.style[o].line.stroke;e.strokeStyle=p.color,e.lineWidth=2;{const n=l.value*Math.PI/180,s=[(t.ap.x+t.bp.x)/2,(t.ap.y+t.bp.y)/2],r=m(t.ap.x,t.ap.y,t.bp.x,t.bp.y)/2;e.fillStyle="#8a2be280",e.beginPath(),e.arc(s[0],s[1],r,Math.PI-n,-n),e.fill(),e.stroke()}{const n=(90-l.value)*Math.PI/180,s=[(t.ap.x+t.cp.x)/2,(t.ap.y+t.cp.y)/2],r=m(t.ap.x,t.ap.y,t.cp.x,t.cp.y)/2;e.fillStyle="#ff69b480",e.beginPath(),e.arc(s[0],s[1],r,n+Math.PI,n),e.fill(),e.stroke()}{const n=v.finalDynamicPosition[0],s=m(t.bp.x,t.bp.y,t.cp.x,t.cp.y)/2,r=new Path2D;r.arc(n[0],n[1],s,Math.PI,0),c.clearPathRegion(e,r),e.beginPath(),e.stroke(r)}i.drawImage(h,0,0)}}),K=[f,A,E,v];function w(){var s;const i=l.value*Math.PI/180,a=Math.cos(i),o=a*u,p=o*a,n=o*Math.sin(i);x.value=[-u/2+p,-n],f.value[0]=x.value,f.value=[...f.value],A.value=l.value==0||l.value==90?void 0:g.transform(g.getRightAngleSymbol(t.a,t.b,t.c)),(s=v.notifyReload)==null||s.call(v)}const L=["id"],G=P({__name:"index",setup(i){let a=k();const o=B();return I(()=>{window.katex.render(`\\begin{aligned}
S_{\\text{月牙}} &= S_{\\text{整}} - S_{\\text{半圆}BC} \\\\ 
&= S_{\\text{半圆}BA} + S_{\\text{半圆}CA} + S_{\\triangle BCA} - S_{\\text{半圆}BC} \\\\
&= \\frac{\\pi}{8}BA^2 + \\frac{\\pi}{8}CA^2 + S_{\\triangle BCA} - \\frac{\\pi}{8}BC^2 \\\\
&= \\frac{\\pi}{8}\\left(BA^2 + CA^2 - BC^2\\right) + S_{\\triangle BCA} \\\\
&= S_{\\triangle BCA}
\\end{aligned}`,o.value),a.value=new c({id:b,theme:S.value.theme,axisShow:!1,defaultCenter:{bottom:"30%"},defaultScale:R.value.isMobileStyle?.9:1.1}),a.value.addOverlay(K),w()}),(p,n)=>(O(),T(U,{canvas:d(a),alert:"希波克拉底月牙定理"},{"alert-content":C(()=>[y("div",{ref_key:"math",ref:o,class:"math"},null,512)]),default:C(()=>[j(N,{canvas:d(a),value:d(l),"onUpdate:value":n[0]||(n[0]=s=>D(l)?l.value=s:null),onChange:d(w),marks:{0:"∠ABC 0°",90:"∠ABC 90°"},max:90},null,8,["canvas","value","onChange"]),y("canvas",{id:d(b)},null,8,L)]),_:1},8,["canvas"]))}});export{G as default};
